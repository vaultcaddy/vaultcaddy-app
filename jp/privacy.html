<!DOCTYPE html>

<html lang="zh-TW">
<head>
    <!-- èµ„æºé¢„è¿æ¥ - æ€§èƒ½ä¼˜åŒ– -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://www.gstatic.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">

<meta charset="utf-8"/>
<!-- Favicon -->
<link href="../favicon.svg" rel="icon" type="image/svg+xml"/>
<link href="../favicon.png" rel="alternate icon" type="image/png"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ - VaultCaddy</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
<!-- Firebase SDKï¼ˆCDN ç‰ˆæœ¬ - compatï¼‰-->
<!-- âœ… çµ±ä¸€åˆæœŸåŒ–ç®¡ç†å™¨ -->
<script defer="" src="../init-manager.js?v=20251130"></script>
<script defer="" src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
<script defer="" src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
<script defer="" src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
<!-- Firebase è¨­å®šã¨æ•¸æ“šç®¡ç†å™¨ -->
<script defer="" src="../firebase-config.js?v=20251105"></script>
<!-- ğŸ”¥ æ–°ã®ç°¡åŒ–ç³»çµ± -->
<script defer="" src="../simple-auth.js?v=20251105-force-init"></script>
<script defer="" src="../simple-data-manager.js?v=20251105-force-init"></script>
<script defer="" src="unified-auth.js?v=20251129"></script>
<style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f9fafb;
            min-height: 100vh;
            color: #1f2937;
            padding-top: 60px;
        }
        
        .container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        .card {
            background: white;
            border-radius: 24px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            overflow: hidden;
            margin-bottom: 2rem;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 2.5rem;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 1rem;
        }
        
        .header .date {
            color: rgba(255,255,255,0.9);
            font-size: 1rem;
        }
        
        .content {
            padding: 3rem 2.5rem;
        }
        
        .section {
            margin-bottom: 2.5rem;
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 1.25rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .section-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.125rem;
        }
        
        .section p {
            color: #475569;
            line-height: 1.8;
            margin-bottom: 1rem;
        }
        
        .section ul {
            margin: 1rem 0 1rem 1.5rem;
        }
        
        .section li {
            color: #475569;
            line-height: 1.8;
            margin-bottom: 0.75rem;
        }
        
        .section strong {
            color: #1e293b;
            font-weight: 600;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-left: 4px solid #667eea;
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1.5rem 0;
        }
        
        .contact-card {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            padding: 2.5rem;
            border-radius: 16px;
            text-align: center;
            border: 2px solid #e2e8f0;
        }
        
        .contact-card h3 {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #1e293b;
        }
        
        .contact-card p {
            color: #64748b;
            margin-bottom: 1.5rem;
        }
        
        .contact-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            margin: 0.5rem;
        }
        
        .contact-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }
    </style>
<script src="/multilingual-data-sync.js"></script>
</head>
<body>
<!-- âœ… çµ±ä¸€ã•ã‚ŒãŸé™ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ -->
<nav class="vaultcaddy-navbar" id="main-navbar" style="position: fixed; top: 0; left: 0; right: 0; height: 60px; background: #ffffff; border-bottom: 1px solid #e5e7eb; display: flex; align-items: center; justify-content: space-between; padding: 0 2rem; z-index: 1000; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);">
<div style="display: flex; align-items: center; gap: 0.5rem;">
<!-- ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ï¼ˆåƒ…æ‰‹æ©Ÿé¡¯ç¤ºï¼‰-->
<button id="mobile-menu-btn" onclick="openMobileSidebar()" style="display: none; background: none; border: none; cursor: pointer; padding: 0.5rem; color: #1f2937; font-size: 1.5rem;">
<i class="fas fa-bars"></i>
</button>
<a href="index.html" style="display: flex; align-items: center; gap: 0.75rem; text-decoration: none; color: #1f2937; font-weight: 600; font-size: 1.125rem;">
<div class="desktop-logo" style="width: 32px; height: 32px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 1.25rem;">
                    V
                </div>
<div class="desktop-logo-text">
<div>VaultCaddy</div>
<div style="font-size: 0.75rem; color: #6b7280; font-weight: 400; text-transform: uppercase; letter-spacing: 0.05em;">AI DOCUMENT PROCESSING</div>
</div>
</a>
</div>
<div style="display: flex; align-items: center; gap: 2rem;">
<div style="display: flex; align-items: center; gap: 2rem;">
<a href="index.html#features" style="color: #4b5563; text-decoration: none; font-size: 0.9375rem; font-weight: 500; transition: color 0.2s;">æ©Ÿèƒ½</a>
<a href="index.html#pricing" style="color: #4b5563; text-decoration: none; font-size: 0.9375rem; font-weight: 500; transition: color 0.2s;">ä¾¡æ ¼</a>
<a href="/blog/" style="color: #4b5563; text-decoration: none; font-size: 0.9375rem; font-weight: 500; transition: color 0.2s;">å­¦ç¿’ã‚»ãƒ³ã‚¿ãƒ¼</a>
<a href="dashboard.html" style="color: #4b5563; text-decoration: none; font-size: 0.9375rem; font-weight: 500; transition: color 0.2s;">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a>
</div>
<div id="language-switcher" style="display: inline-block; margin-right: 1rem;"></div>
<div id="user-menu" style="position: relative; display: flex; align-items: center; gap: 0.75rem; cursor: pointer; padding: 0.5rem; border-radius: 8px; transition: background 0.2s;">
<div id="user-avatar" style="width: 32px; height: 32px; border-radius: 50%; background: #667eea; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 0.875rem;">U</div>
</div>
</div>
</nav>
<!-- é¢åŒ…å±‘å°èˆª -->
<nav aria-label="breadcrumb" style="padding: 1rem 0; max-width: 1200px; margin: 0 auto;">
<ol itemscope="" itemtype="https://schema.org/BreadcrumbList" style="display: flex; gap: 0.5rem; list-style: none; padding: 0 1rem; font-size: 0.875rem; flex-wrap: wrap;">
<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
<a href="/jp/" itemprop="item" style="color: #667eea; text-decoration: none;">
<span itemprop="name">ãƒ›ãƒ¼ãƒ </span>
</a>
<meta content="1" itemprop="position"/>
</li>
<li style="color: #9ca3af;">â€º</li>
<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
<span itemprop="name" style="color: #6b7280;">Privacy</span>
<meta content="2" itemprop="position"/>
</li>
</ol>
</nav>

<!-- ğŸ”¥ ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒã‚¹ã‚¯ -->
<div id="mobile-sidebar-overlay" onclick="closeMobileSidebar()" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1999; display: none;"></div>
<!-- æ‰‹æ©Ÿã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
<div id="mobile-sidebar" style="position: fixed; top: 0; left: -100%; width: 280px; height: 100vh; background: white; z-index: 2000; transition: left 0.3s ease; box-shadow: 2px 0 10px rgba(0,0,0,0.1); overflow-y: auto;">
<div style="padding: 1.5rem;">
<!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼é … -->
<div style="display: flex; flex-direction: column; gap: 0.5rem;">
<a href="index.html#features" onclick="closeMobileSidebar()" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;">
<i class="fas fa-star" style="width: 20px; color: #667eea;"></i>
<span>æ©Ÿèƒ½</span>
</a>
<a href="index.html#pricing" onclick="closeMobileSidebar()" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;">
<i class="fas fa-dollar-sign" style="width: 20px; color: #667eea;"></i>
<span>ä¾¡æ ¼</span>
</a>
<a href="/blog/" onclick="closeMobileSidebar()" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;">
<i class="fas fa-graduation-cap" style="width: 20px; color: #667eea;"></i>
<span>å­¦ç¿’ã‚»ãƒ³ã‚¿ãƒ¼</span>
</a>
<a href="dashboard.html" onclick="closeMobileSidebar()" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;">
<i class="fas fa-th-large" style="width: 20px; color: #667eea;"></i>
<span>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</span>
</a>
<div style="height: 1px; background: #e5e7eb; margin: 1rem 0;"></div>
<div style="height: 1px; background: #e5e7eb; margin: 1rem 0;"></div>
<a href="privacy.html" onclick="closeMobileSidebar()" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;">
<i class="fas fa-shield-alt" style="width: 20px; color: #6b7280;"></i>
<span>ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</span>
</a>
<a href="terms.html" onclick="closeMobileSidebar()" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;">
<i class="fas fa-file-contract" style="width: 20px; color: #6b7280;"></i>
<span>åˆ©ç”¨è¦ç´„</span>
</a>
</div>
</div>
</div>

<!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒã‚¹ã‚¯ -->
<div id="user-dropdown" style="display: none; position: fixed; top: 70px; right: 2rem; background: white; border-radius: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.15); padding: 1rem; min-width: 220px; z-index: 2000; border: 1px solid #e5e7eb;">
<div style="padding: 0.75rem; border-bottom: 1px solid #f3f4f6;">
<div style="font-weight: 600; font-size: 1rem; color: #1f2937; margin-bottom: 0.25rem;"><span>Credits</span>: <span id="dropdown-credits">0</span></div>
<div id="dropdown-email" style="font-size: 0.875rem; color: #6b7280;">user@example.com</div>
</div>
<div style="padding: 0.5rem 0;">
<a href="account.html" onmouseout="this.style.background='transparent'" onmouseover="this.style.background='#f3f4f6'" style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; color: #374151; text-decoration: none; border-radius: 6px; transition: background 0.2s; font-size: 0.9375rem;">
<span><i class="fas fa-user" style="margin-right: 0.75rem; color: #6b7280; width: 16px;"></i><span>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</span></span>
<span style="color: #9ca3af; font-size: 0.875rem;">âŒ˜A</span>
</a>
<a href="billing.html" onmouseout="this.style.background='transparent'" onmouseover="this.style.background='#f3f4f6'" style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; color: #374151; text-decoration: none; border-radius: 6px; transition: background 0.2s; font-size: 0.9375rem;">
<span><i class="fas fa-credit-card" style="margin-right: 0.75rem; color: #6b7280; width: 16px;"></i><span>è«‹æ±‚</span></span>
<span style="color: #9ca3af; font-size: 0.875rem;">âŒ˜B</span>
</a>
</div>
<div style="border-top: 1px solid #f3f4f6; padding-top: 0.5rem;">
<button onclick="handleLogout()" onmouseout="this.style.background='transparent'" onmouseover="this.style.background='#fee2e2'" style="width: 100%; display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; color: #ef4444; background: transparent; border: none; border-radius: 6px; cursor: pointer; transition: background 0.2s; font-size: 0.9375rem; text-align: left;">
<span><i class="fas fa-sign-out-alt" style="margin-right: 0.75rem; width: 16px;"></i><span>ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</span></span>
<span style="color: #fca5a5; font-size: 0.875rem;">âŒ˜Q</span>
</button>
</div>
</div>
<!-- âœ… index.html å‹•æ…‹æ›´æ–°ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ -->
<script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('âœ… index.html åˆæœŸåŒ–');
            
            let userCredits = 0;
            let userEmail = '';
            let userDisplayName = '';
            
            // å–å¾—ãƒ¦ãƒ¼ã‚¶ãƒ¼é ­ãƒ†ã‚­ã‚¹ãƒˆ
            function getUserInitial() {
                if (!userDisplayName || userDisplayName.trim() === '') {
                    // å¦‚æœãªã— displayNameï¼Œä½¿ç”¨ email ã®æœ€åˆã®ãƒ†ã‚­ã‚¹ãƒˆ
                    return userEmail ? userEmail.charAt(0).toUpperCase() : 'U';
                }
                
                // åˆ†å‰²åå­—ï¼ˆæ”¯æ´ä¸­è‹±æ–‡ï¼‰
                const parts = userDisplayName.trim().split(/\s+/);
                
                if (parts.length >= 2) {
                    // æœ‰ First Name ã¨ Last Name
                    const firstInitial = parts[0].charAt(0).toUpperCase();
                    const lastInitial = parts[parts.length - 1].charAt(0).toUpperCase();
                    return firstInitial + lastInitial;
                } else if (parts.length === 1) {
                    // åªæœ‰ä¸€å€‹åå­—ï¼Œå–å‰å…©å€‹å­—æ¯
                    const name = parts[0];
                    if (name.length >= 2) {
                        return name.substring(0, 2).toUpperCase();
                    } else {
                        return name.charAt(0).toUpperCase();
                    }
                }
                
                return 'U';
            }
            
            // ğŸ”¥ ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ©Ÿèƒ½ï¼ˆå³åº§ã«å®Ÿè¡Œï¼Œãªã„å¾…æ©Ÿ DOMContentLoadedï¼‰
            (function() {
                console.log('ğŸ”µ åˆæœŸåŒ–ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼...');
                
                // é–‹ãã‚µã‚¤ãƒ‰ãƒãƒ¼
                window.openMobileSidebar = function() {
                    console.log('ğŸ”µ openMobileSidebar å‘¼ã³å‡ºã•ã‚ŒãŸ');
                    const sidebar = document.getElementById('mobile-sidebar');
                    const overlay = document.getElementById('mobile-sidebar-overlay');
                    console.log('ğŸ”µ sidebar:', sidebar);
                    console.log('ğŸ”µ overlay:', overlay);
                    
                    if (sidebar && overlay) {
                        sidebar.style.left = '0';
                        overlay.style.display = 'block';
                        document.body.style.overflow = 'hidden';
                        console.log('âœ… ã‚µã‚¤ãƒ‰ãƒãƒ¼é–‹ã„ãŸ');
                    } else {
                        console.error('âŒ è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã‚µã‚¤ãƒ‰ãƒãƒ¼ã¾ãŸã¯ãƒã‚¹ã‚¯è¦ç´ ');
                    }
                };
                
                // é—œé–‰ã‚µã‚¤ãƒ‰ãƒãƒ¼
                window.closeMobileSidebar = function() {
                    console.log('ğŸ”µ closeMobileSidebar å‘¼ã³å‡ºã•ã‚ŒãŸ');
                    const sidebar = document.getElementById('mobile-sidebar');
                    const overlay = document.getElementById('mobile-sidebar-overlay');
                    
                    if (sidebar && overlay) {
                        sidebar.style.left = '-100%';
                        overlay.style.display = 'none';
                        document.body.style.overflow = 'auto';
                        console.log('âœ… ã‚µã‚¤ãƒ‰ãƒãƒ¼å·²é—œé–‰');
                    }
                };
                
                // ç¶å®šãƒœã‚¿ãƒ³ï¼ˆä½¿ç”¨å¤šç¨®æ–¹å¼ç¢ºä¿ç¶å®šæˆåŠŸï¼‰
                function bindMenuButton() {
                    const menuBtn = document.getElementById('mobile-menu-btn');
                    console.log('ğŸ”µ menuBtn:', menuBtn);
                    
                    if (menuBtn) {
                        // å‰Šé™¤èˆŠã®ç›£è½å™¨ï¼ˆã‚‚ã—ã‚ã‚Œã°ï¼‰
                        menuBtn.removeEventListener('click', window.openMobileSidebar);
                        // æ·»åŠ æ–°ã®ç›£è½å™¨
                        menuBtn.addEventListener('click', function(e) {
                            console.log('ğŸ”µ æ¼¢å ¡ãƒœã‚¿ãƒ³è¢«ã‚¯ãƒªãƒƒã‚¯');
                            e.preventDefault();
                            e.stopPropagation();
                            window.openMobileSidebar();
                        });
                        console.log('âœ… ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³å·²ç¶å®š');
                    } else {
                        console.error('âŒ è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³');
                    }
                }
                
                // å³åº§ã«å˜—è©¦ç¶å®š
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', bindMenuButton);
                } else {
                    bindMenuButton();
                }
                
                // ä¹Ÿã§ window.onload æ™‚å†æ¬¡å˜—è©¦
                window.addEventListener('load', function() {
                    console.log('ğŸ”µ window.onload - å†æ¬¡ãƒã‚§ãƒƒã‚¯ç¶å®š');
                    bindMenuButton();
                });
            })();
                
                // ãƒ¢ãƒã‚¤ãƒ«ç‰ˆè‡ªå‹•ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ï¼ˆåƒ…ã§ãƒ¢ãƒã‚¤ãƒ«ç‰ˆå•Ÿç”¨ï¼‰
                if (window.innerWidth <= 768) {
                    // è©•åƒ¹ã‚«ãƒ«ãƒ¼ã‚»ãƒ«
                    const testimonialsContainer = document.getElementById('testimonials-container');
                    if (testimonialsContainer) {
                        let testimonialIndex = 0;
                        const testimonialCards = testimonialsContainer.children;
                        
                        setInterval(() => {
                            testimonialIndex = (testimonialIndex + 1) % testimonialCards.length;
                            const scrollAmount = testimonialCards[testimonialIndex].offsetLeft - testimonialsContainer.offsetLeft;
                            testimonialsContainer.scrollTo({
                                left: scrollAmount,
                                behavior: 'smooth'
                            });
                        }, 4000); // æ¯4ç§’åˆ‡ã‚Šæ›¿ãˆ
                    }
                    
                    // å­¦ç¿’ã‚»ãƒ³ã‚¿ãƒ¼ã‚«ãƒ«ãƒ¼ã‚»ãƒ«
                    const learningContainer = document.getElementById('learning-center-container');
                    if (learningContainer) {
                        let learningIndex = 0;
                        const learningCards = learningContainer.children;
                        
                        setInterval(() => {
                            learningIndex = (learningIndex + 1) % learningCards.length;
                            const scrollAmount = learningCards[learningIndex].offsetLeft - learningContainer.offsetLeft;
                            learningContainer.scrollTo({
                                left: scrollAmount,
                                behavior: 'smooth'
                            });
                        }, 5000); // æ¯5ç§’åˆ‡ã‚Šæ›¿ãˆ
                    }
                }
            });
            
            // åˆ‡ã‚Šæ›¿ãˆãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
            async function toggleDropdown() {
                const dropdown = document.getElementById('user-dropdown');
                if (dropdown.style.display === 'none') {
                    dropdown.style.display = 'block';
                    
                    // ğŸ”¥ å³æ™‚ã‹ã‚‰ SimpleDataManager å–å¾—æœ€æ–° Credits
                    if (window.simpleDataManager && window.simpleDataManager.initialized) {
                        try {
                            userCredits = await window.simpleDataManager.getUserCredits();
                            console.log('âœ… å³åº§ã«å–å¾— Credits:', userCredits);
                        } catch (error) {
                            console.error('âŒ å–å¾—å¤±æ•— Credits:', error);
                        }
                    }
                    
                    // æ›´æ–°ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
                    document.getElementById('dropdown-credits').textContent = userCredits.toLocaleString();
                    document.getElementById('dropdown-email').textContent = userEmail;
                } else {
                    dropdown.style.display = 'none';
                }
            }
            
            // ã‚¯ãƒªãƒƒã‚¯å¤–éƒ¨é—œé–‰ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
            document.addEventListener('click', function(event) {
                const dropdown = document.getElementById('user-dropdown');
                const userMenu = document.getElementById('user-menu');
                
                if (dropdown && userMenu && 
                    !dropdown.contains(event.target) && 
                    !userMenu.contains(event.target)) {
                    dropdown.style.display = 'none';
                }
            });
            
            // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½
            window.handleLogout = async function() {
                try {
                    if (window.simpleAuth) {
                        await window.simpleAuth.logout();
                        window.location.href = 'index.html';
                    }
                } catch (error) {
                    console.error('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå¤±æ•—:', error);
                    alert('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå¤±æ•—ï¼Œè«‹å†è©¦è¡Œ');
                }
            };
            
            // å¾…æ©Ÿ Firebase ã¨ simpleAuth åŠ è¼‰
            async function updateUserMenu() {
                const userMenu = document.getElementById('user-menu');
                if (!userMenu) return;
                
                try {
                    const isLoggedIn = window.simpleAuth && window.simpleAuth.isLoggedIn();
                    
                    if (isLoggedIn) {
                        // âœ… å·²ãƒ­ã‚°ã‚¤ãƒ³ï¼šé¡¯ç¤ºãƒ¦ãƒ¼ã‚¶ãƒ¼é ­åƒ
                        const currentUser = window.simpleAuth.getCurrentUser();
                        userEmail = currentUser.email || '';
                        userDisplayName = currentUser.displayName || '';
                        
                        // ğŸ”¥ ã‹ã‚‰ Firestore å–å¾— displayName ã¨ credits
                        if (window.simpleDataManager && window.simpleDataManager.initialized) {
                            try {
                                const userDoc = await window.simpleDataManager.getUserDocument();
                                if (userDoc) {
                                    userDisplayName = userDoc.displayName || userDisplayName;
                                    userCredits = userDoc.credits || 0;
                                    console.log('âœ… index.html å–å¾— Credits:', userCredits);
                                }
                            } catch (error) {
                                console.log('âš ï¸ ç„¡æ³•ã‹ã‚‰ Firestore å–å¾—ãƒ¦ãƒ¼ã‚¶ãƒ¼è³‡æ–™:', error);
                            }
                        } else {
                            console.log('â³ SimpleDataManager å°šæœªåˆæœŸåŒ–ï¼Œå¾…æ©Ÿä¸­...');
                            // å»¶é²å†è©¦è¡Œ
                            setTimeout(async () => {
                                if (window.simpleDataManager && window.simpleDataManager.initialized) {
                                    try {
                                        userCredits = await window.simpleDataManager.getUserCredits();
                                        console.log('âœ… é…å»¶å–å¾— Credits:', userCredits);
                                    } catch (error) {
                                        console.error('âŒ é…å»¶å–å¾—å¤±æ•—:', error);
                                    }
                                }
                            }, 1000);
                        }
                        
                        const userInitial = getUserInitial();
                        console.log(`ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼é ­ãƒ†ã‚­ã‚¹ãƒˆ: "${userInitial}" (displayName: "${userDisplayName}")`);
                        
                        userMenu.innerHTML = `
                            <div onclick="toggleDropdown()" style="cursor: pointer; padding: 0.5rem; border-radius: 8px; transition: background 0.2s;" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">
                                <div style="width: 32px; height: 32px; border-radius: 50%; background: #667eea; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 0.875rem;">${userInitial}</div>
                            </div>
                        `;
                        console.log('âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼å·²ãƒ­ã‚°ã‚¤ãƒ³ï¼Œé¡¯ç¤ºé ­åƒ');
                    } else {
                        // âœ… æœªãƒ­ã‚°ã‚¤ãƒ³ï¼šé¡¯ç¤ºãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³
                        userMenu.innerHTML = `
                            <button onclick="window.location.href='auth.html'" style="padding: 0.5rem 1rem; background: #8b5cf6; color: white; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; transition: background 0.2s; font-size: 0.875rem;" onmouseover="this.style.background='#7c3aed'" onmouseout="this.style.background='#8b5cf6'">ãƒ­ã‚°ã‚¤ãƒ³</button>
                        `;
                        console.log('âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼æœªãƒ­ã‚°ã‚¤ãƒ³ï¼Œé¡¯ç¤ºãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³');
                    }
                } catch (e) {
                    console.log('âŒ ç„¡æ³•æ›´æ–°ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼:', e);
                }
            }
            
            // å³åº§ã«å˜—è©¦æ›´æ–°
            updateUserMenu();
            
            // ç›£è½ Firebase ã¨ Auth äº‹ä»¶
            window.addEventListener('firebase-ready', updateUserMenu);
            window.addEventListener('user-logged-in', updateUserMenu);
            window.addEventListener('user-logged-out', updateUserMenu);
            
            // å»¶é²å†æ¬¡ãƒã‚§ãƒƒã‚¯ï¼ˆä»¥é˜²äº‹ä»¶æ—¢ã«è§¸ç™¼ï¼‰
            setTimeout(updateUserMenu, 1000);
            setTimeout(updateUserMenu, 2000);
            
            // å…¬é–‹ toggleDropdown ã¾ã§å…¨å±€
            window.toggleDropdown = toggleDropdown;
        });
    </script>
<div class="container">
<div class="card">
<div class="header">
<h1>ğŸ”’ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</h1>
<p class="date">æœ€çµ‚æ›´æ–°:2025å¹´1æœˆ22æ—¥</p>
</div>
<div class="content">
<p style="font-size: 1.125rem; color: #64748b; margin-bottom: 2.5rem;">
                    æœ¬ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼èªªæ˜ VaultCaddy å¦‚ä½•æ”¶é›†ã€ä½¿ç”¨ã¨ä¿è­·æ‚¨ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã€‚æˆ‘å€‘è‡´åŠ›ã«ä¿è­·æ‚¨ã®éš±ç§å®‰å…¨ã€‚
                </p>
<div class="section">
<h2 class="section-title">
<div class="section-icon"><i class="fas fa-database"></i></div>
                        æˆ‘å€‘æ”¶é›†ã®ä¿¡æ¯
                    </h2>
<p>æˆ‘å€‘é€šéä»¥ä¸‹æ–¹å¼æ”¶é›†ä¿¡æ¯ï¼š</p>
<ul>
<li><strong>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä¿¡æ¯ï¼š</strong>ç™»éŒ²æ™‚æ”¶é›†æ‚¨ã®é›»å­éƒµä»¶åœ°å€</li>
<li><strong>ä½¿ç”¨æ•¸æ“šï¼š</strong>è¨˜éŒ²æ‚¨å¦‚ä½•ä½¿ç”¨æˆ‘å€‘ã®æœå‹™</li>
<li><strong>æ–‡æ›¸å‡¦ç†ï¼š</strong>è‡¨æ™‚å‡¦ç†æ‚¨ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®æ–‡æ›¸ï¼ˆ24å°æ™‚å¾Œè‡ªå‹•å‰Šé™¤ï¼‰</li>
<li><strong>ä»˜æ¬¾ä¿¡æ¯ï¼š</strong>é€šé Stripe ç­‰å®‰å…¨æ”¯ä»˜å¹³å°å‡¦ç†</li>
</ul>
<div class="highlight-box">
<strong><i class="fas fa-shield-alt"></i> é‡è¦ï¼š</strong>æˆ‘å€‘ãªã„æœƒæ°¸ä¹…å­˜å„²æ‚¨ã®æ–‡æ›¸ï¼Œã™ã¹ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã§å‡¦ç†å¾Œ 24 å°æ™‚å…§è‡ªå‹•å‰Šé™¤ã€‚
                    </div>
</div>
<div class="section">
<h2 class="section-title">
<div class="section-icon"><i class="fas fa-tasks"></i></div>
                        ä¿¡æ¯ä½¿ç”¨æ–¹å¼
                    </h2>
<ul>
<li>æä¾›ã¨æ”¹é€²æ–‡æ›¸å‡¦ç†æœå‹™</li>
<li>å‡¦ç†å–å¼•ä¸¦ç®¡ç†æ‚¨ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</li>
<li>ç™¼é€æœå‹™æ›´æ–°ï¼ˆéœ€ç¶“æ‚¨åŒæ„ï¼‰</li>
<li>å›æ‡‰æŸ¥è©¢ã¨ã‚µãƒãƒ¼ãƒˆè«‹æ±‚</li>
<li>ç¢ºä¿å¹³å°å®‰å…¨ä¸¦é˜²æ­¢æ¬ºè©</li>
</ul>
</div>
<div class="section">
<h2 class="section-title">
<div class="section-icon"><i class="fas fa-lock"></i></div>
                        å®‰å…¨æªæ–½
                    </h2>
<p>æˆ‘å€‘æ¡å–å¤šå±¤ç´šã®å®‰å…¨æªæ–½ä¿è­·æ‚¨ã®æ•¸æ“šï¼š</p>
<ul>
<li><strong>SSL/TLS åŠ å¯†ï¼š</strong>ã™ã¹ã¦æ•¸æ“šå‚³è¼¸éƒ½ç¶“éåŠ å¯†</li>
<li><strong>æ•¸æ“šåŠ å¯†ï¼š</strong>æ•æ„Ÿä¿¡æ¯ä½¿ç”¨è¡Œæ¥­æ¨™æº–åŠ å¯†å­˜å„²</li>
<li><strong>å®šæœŸå¯©è¨ˆï¼š</strong>æŒçºŒé€²è¡Œå®‰å…¨å¯©æŸ¥ã¨æ¼æ´æƒæ</li>
<li><strong>è¨ªå•åˆ¶å¾¡ï¼š</strong>åš´æ ¼é™åˆ¶æ•¸æ“šè¨ªå•æ¬Šé™</li>
</ul>
</div>
<div class="section">
<h2 class="section-title">
<div class="section-icon"><i class="fas fa-user-shield"></i></div>
                        æ‚¨ã®æ¬Šåˆ©
                    </h2>
<p>æ ¹æ“šæ•¸æ“šä¿è­·æ³•å¾‹ï¼Œæ‚¨æ“æœ‰ä»¥ä¸‹æ¬Šåˆ©ï¼š</p>
<ul>
<li><strong>è¨ªå•æ¬Šï¼š</strong>è¡¨ç¤ºæˆ‘å€‘æŒæœ‰ã®æ‚¨ã®ä¿¡æ¯</li>
<li><strong>æ›´æ­£æ¬Šï¼š</strong>æ›´æ­£ãªã„æº–ç¢ºã®ä¿¡æ¯</li>
<li><strong>å‰Šé™¤æ¬Šï¼š</strong>è¦æ±‚å‰Šé™¤æ‚¨ã®å€‹äººæ•¸æ“š</li>
<li><strong>æ•¸æ“šå¯æ”œæ¬Šï¼š</strong>ä»¥å¯æ”œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå–å¾—æ‚¨ã®æ•¸æ“š</li>
</ul>
</div>
<div class="section">
<h2 class="section-title">
<div class="section-icon"><i class="fas fa-globe"></i></div>
                        ç¬¬ä¸‰æ–¹æœå‹™
                    </h2>
<p>æˆ‘å€‘ä½¿ç”¨ä»¥ä¸‹å¯ä¿¡è³´ã®ç¬¬ä¸‰æ–¹æœå‹™ï¼š</p>
<ul>
<li><strong>Stripeï¼š</strong>å®‰å…¨ã®ä»˜æ¬¾å‡¦ç†</li>
<li><strong>Firebaseï¼š</strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè­‰ã¨æ•¸æ“šå­˜å„²</li>
<li><strong>Google Cloudï¼š</strong>AI æ–‡æ›¸å‡¦ç†</li>
</ul>
</div>
<div class="contact-card">
<h3>æœ‰ç–‘å•ï¼ŸãŠå•ã„åˆã‚ã›</h3>
<p>å¦‚æœæ‚¨å°æˆ‘å€‘ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼æœ‰ä»»ä½•ç–‘å•ï¼Œæ­¡è¿éš¨æ™‚ã¨æˆ‘å€‘è¯ç¹«</p>
<a class="contact-link" href="mailto:vaultcaddy@gmail.com">
<i class="fas fa-envelope"></i>
                        vaultcaddy@gmail.com
                    </a>
<a class="contact-link" href="index.html">
<i class="fas fa-home"></i>
                        è¨ªå•ç¶²ç«™
                    </a>
</div>
</div>
</div>
</div>
<!-- é å°¾ -->
<!-- Footer -->
<footer style="background: linear-gradient(180deg, #f9fafb 0%, #ffffff 100%); padding: 4rem 0 2rem; margin-top: 0; border-top: 1px solid #e5e7eb;">
<div style="max-width: 1200px; margin: 0 auto; padding: 0 2rem;">
<!-- Footer ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
<div style="display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 3rem; margin-bottom: 3rem;">
<!-- Logo ã¨èª¬æ˜ -->
<div>
<div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1.5rem;">
<div style="width: 40px; height: 40px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 1.5rem;">
                            V
                        </div>
<div>
<div style="font-weight: 700; font-size: 1.25rem; color: #1f2937;">VaultCaddy</div>
<div style="font-size: 0.75rem; color: #6b7280; text-transform: uppercase; letter-spacing: 0.05em;">AI DOCUMENT PROCESSING</div>
</div>
</div>
<p style="color: #6b7280; font-size: 0.9375rem; line-height: 1.6; margin: 0;">
                        å°ˆã¨ã—ã¦æœƒè¨ˆå¸«åŠå°å‹å…¬å¸è¨­è¨ˆã® AI æ–‡æ›¸å‡¦ç†å¹³å°ï¼Œ<br/>
                        è®“è²¡å‹™æ–‡æ›¸ç®¡ç†è®Šå¾—ç°¡å–®é«˜æ•ˆã€‚
                    </p>
</div>
<!-- å¿«é€Ÿé€£çµ -->
<div>
<h4 style="font-size: 0.875rem; font-weight: 700; color: #1f2937; margin-bottom: 1rem; text-transform: uppercase; letter-spacing: 0.05em;">å¿«é€Ÿé€£çµ</h4>
<ul style="list-style: none; padding: 0; margin: 0;">
<li style="margin-bottom: 0.75rem;">
<a href="#features" style="color: #6b7280; text-decoration: none; font-size: 0.9375rem; transition: color 0.2s;">æ©Ÿèƒ½ä»‹ç´¹</a>
</li>
<li style="margin-bottom: 0.75rem;">
<a href="#pricing" style="color: #6b7280; text-decoration: none; font-size: 0.9375rem; transition: color 0.2s;">ä¾¡æ ¼ãƒ—ãƒ©ãƒ³</a>
</li>
<li style="margin-bottom: 0.75rem;">
<a href="dashboard.html" style="color: #6b7280; text-decoration: none; font-size: 0.9375rem; transition: color 0.2s;">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a>
</li>
</ul>
</div>
<!-- æ³•å¾‹æ”¿ç­– -->
<div>
<h4 style="font-size: 0.875rem; font-weight: 700; color: #1f2937; margin-bottom: 1rem; text-transform: uppercase; letter-spacing: 0.05em;">æ³•å¾‹æ”¿ç­–</h4>
<ul style="list-style: none; padding: 0; margin: 0;">
<li style="margin-bottom: 0.75rem;">
<a href="privacy.html" style="color: #6b7280; text-decoration: none; font-size: 0.9375rem; transition: color 0.2s;">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
</li>
<li style="margin-bottom: 0.75rem;">
<a href="terms.html" style="color: #6b7280; text-decoration: none; font-size: 0.9375rem; transition: color 0.2s;">åˆ©ç”¨è¦ç´„</a>
</li>
</ul>
</div>
</div>
<!-- Footer åº•éƒ¨ -->
<div style="border-top: 1px solid #e5e7eb; padding-top: 2rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
<p style="color: #6b7280; font-size: 0.875rem; margin: 0;">Â© 2025 Made with vaultcaddy ç‰ˆæ¬Šã™ã¹ã¦</p>
<div style="display: flex; gap: 1.5rem;">
<a href="mailto:vaultcaddy@gmail.com" style="color: #6b7280; text-decoration: none; font-size: 0.875rem; transition: color 0.2s;">
<i class="fas fa-envelope" style="margin-right: 0.5rem;"></i>ãŠå•ã„åˆã‚ã›
                    </a>
</div>
</div>
</div>
</footer>
<style>
        /* Footer éˆæ¥ Hover æ•ˆæœ */
        footer a:hover {
            color: #667eea !important;
        }
        
        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ¬„ */
            .vaultcaddy-navbar {
                padding: 0 0.75rem !important;
            }
            
            /* é¡¯ç¤ºãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ */
            #mobile-menu-btn {
                display: block !important;
            }
            
            /* ğŸ”¥ éš±è—ãƒ¢ãƒã‚¤ãƒ«ç‰ˆ V å­— Logo */
            .desktop-logo {
                display: none !important;
            }
            
            /* éš±è—ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆ Logo ãƒ†ã‚­ã‚¹ãƒˆ */
            .desktop-logo-text {
                display: none !important;
            }
            
            /* éš±è—ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ¬„ä¸­ã®ãƒ†ã‚­ã‚¹ãƒˆéˆæ¥ */
            .vaultcaddy-navbar > div:last-child > div:first-child {
                display: none !important;
            }
            
            /* ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½ç½® */
            #user-dropdown {
                right: 0.75rem !important;
                left: 0.75rem !important;
                min-width: auto !important;
            }
            
            /* å®¹å™¨ */
            .container {
                padding: 0 0.75rem !important;
            }
            
            /* Footer */
            footer > div > div:first-child {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
<script>
        // ==================== ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ©Ÿèƒ½ ====================
        (function() {
            window.openMobileSidebar = function() {
                const sidebar = document.getElementById('mobile-sidebar');
                const overlay = document.getElementById('mobile-sidebar-overlay');
                if (sidebar && overlay) {
                    sidebar.style.left = '0';
                    overlay.style.display = 'block';
                    document.body.style.overflow = 'hidden';
                }
            };

            window.closeMobileSidebar = function() {
                const sidebar = document.getElementById('mobile-sidebar');
                const overlay = document.getElementById('mobile-sidebar-overlay');
                if (sidebar && overlay) {
                    sidebar.style.left = '-100%';
                    overlay.style.display = 'none';
                    document.body.style.overflow = '';
                }
            };

            function bindMenuButton() {
                const menuBtn = document.getElementById('mobile-menu-btn');
                if (menuBtn) {
                    menuBtn.addEventListener('click', window.openMobileSidebar);
                }
            }

            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', bindMenuButton);
            } else {
                bindMenuButton();
            }
            window.addEventListener('load', bindMenuButton);
        })();
        
        // ==================== ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ©Ÿèƒ½ ====================
        // ã‚¯ãƒªãƒƒã‚¯å¤–éƒ¨é—œé–‰ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('user-dropdown');
            const userMenu = document.getElementById('user-menu');
            
            if (dropdown && userMenu && 
                !dropdown.contains(event.target) && 
                !userMenu.contains(event.target)) {
                dropdown.style.display = 'none';
            }
        });
        
        window.toggleDropdown = async function() {
            const dropdown = document.getElementById('user-dropdown');
            if (dropdown.style.display === 'none' || !dropdown.style.display) {
                dropdown.style.display = 'block';
                
                if (window.simpleDataManager && window.simpleDataManager.initialized) {
                    const userCredits = await window.simpleDataManager.getUserCredits();
                    document.getElementById('dropdown-credits').textContent = userCredits.toLocaleString();
                }
            } else {
                dropdown.style.display = 'none';
            }
        };
        
        function getUserInitial() {
            if (window.simpleAuth && window.simpleAuth.getCurrentUser()) {
                const user = window.simpleAuth.getCurrentUser();
                const displayName = user.displayName || user.email || 'U';
                const names = displayName.split(' ');
                if (names.length >= 2) {
                    return (names[0][0] + names[1][0]).toUpperCase();
                }
                return displayName.substring(0, 2).toUpperCase();
            }
            return 'U';
        }
        
        async function updateUserMenu() {
            const userMenu = document.getElementById('user-menu');
            if (!userMenu) return;
            
            try {
                const isLoggedIn = window.simpleAuth && window.simpleAuth.isLoggedIn();
                
                if (isLoggedIn) {
                    const currentUser = window.simpleAuth.getCurrentUser();
                    const userEmail = currentUser.email || '';
                    let userCredits = 0;
                    
                    if (window.simpleDataManager && window.simpleDataManager.initialized) {
                        try {
                            userCredits = await window.simpleDataManager.getUserCredits();
                        } catch (error) {
                            console.log('âš ï¸ å–å¾—å¤±æ•— Credits');
                        }
                    }
                    
                    const userInitial = getUserInitial();
                    
                    userMenu.innerHTML = `
                        <div onclick="toggleDropdown()" style="cursor: pointer; padding: 0.5rem; border-radius: 8px; transition: background 0.2s;" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">
                            <div style="width: 32px; height: 32px; border-radius: 50%; background: #667eea; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 0.875rem;">${userInitial}</div>
                        </div>
                    `;
                } else {
                    userMenu.innerHTML = `
                        <button onclick="window.location.href='auth.html'" style="padding: 0.5rem 1rem; background: #8b5cf6; color: white; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; transition: background 0.2s; font-size: 0.875rem;" onmouseover="this.style.background='#7c3aed'" onmouseout="this.style.background='#8b5cf6'">ãƒ­ã‚°ã‚¤ãƒ³</button>
                    `;
                }
            } catch (e) {
                console.log('âŒ ç„¡æ³•æ›´æ–°ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼:', e);
            }
        }
        
        updateUserMenu();
        window.addEventListener('firebase-ready', updateUserMenu);
        window.addEventListener('user-logged-in', updateUserMenu);
        window.addEventListener('user-logged-out', updateUserMenu);
        
        window.handleLogout = async function() {
            try {
                if (window.simpleAuth) {
                    await window.simpleAuth.logout();
                    window.location.href = 'index.html';
                }
            } catch (error) {
                console.error('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå¤±æ•—:', error);
            }
        };
    </script>
<!-- å³ä¸‹è§’å°è©±ãƒœã‚¿ãƒ³ -->
<script src="contact-widget.js?v=20251125"></script>
<!-- ğŸ”¥ ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¶…ç´šç°¡å–®ä¿®å¾©ãƒ—ãƒ©ãƒ³ -->
<script>
        console.log('ğŸ”¥ é–‹å§‹åˆæœŸåŒ–ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼...');
        
        // é–‹ãã‚µã‚¤ãƒ‰ãƒãƒ¼å‡½æ•¸
        function openSidebar() {
            console.log('ğŸ”µ é–‹ãã‚µã‚¤ãƒ‰ãƒãƒ¼');
            const sidebar = document.getElementById('mobile-sidebar');
            const overlay = document.getElementById('mobile-sidebar-overlay');
            
            if (sidebar && overlay) {
                sidebar.style.left = '0';
                overlay.style.display = 'block';
                overlay.style.opacity = '1';
                document.body.style.overflow = 'hidden';
                console.log('âœ… ã‚µã‚¤ãƒ‰ãƒãƒ¼é–‹ã„ãŸ');
            }
        }
        
        // é—œé–‰ã‚µã‚¤ãƒ‰ãƒãƒ¼å‡½æ•¸
        function closeSidebar() {
            console.log('ğŸ”µ é—œé–‰ã‚µã‚¤ãƒ‰ãƒãƒ¼');
            const sidebar = document.getElementById('mobile-sidebar');
            const overlay = document.getElementById('mobile-sidebar-overlay');
            
            if (sidebar && overlay) {
                sidebar.style.left = '-100%';
                overlay.style.opacity = '0';
                setTimeout(() => {
                    overlay.style.display = 'none';
                }, 300); // å¾…æ©Ÿå‹•ç•«å®Œäº†ï¼ˆã¨ CSS transition ä¸€è‡´ï¼‰
                document.body.style.overflow = 'auto';
                console.log('âœ… ã‚µã‚¤ãƒ‰ãƒãƒ¼å·²é—œé–‰');
            }
        }
        
        // è¶…ç´šç°¡å–®ã®åˆæœŸåŒ–å‡½æ•¸
        function simpleInitMenu() {
            const btn = document.getElementById('mobile-menu-btn');
            const overlay = document.getElementById('mobile-sidebar-overlay');
            
            if (!btn || !overlay) {
                console.log('â³ è¦ç´ æœªæ‰¾ã¾ã§ï¼Œ200mså¾Œå†è©¦è¡Œ');
                setTimeout(simpleInitMenu, 200);
                return;
            }
            
            console.log('âœ… æ‰¾ã¾ã§ã™ã¹ã¦è¦ç´ ï¼');
            
            // ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯å‡¦ç†
            btn.addEventListener('click', function() {
                console.log('ğŸ”µ ãƒœã‚¿ãƒ³è¢«ã‚¯ãƒªãƒƒã‚¯ï¼');
                openSidebar();
            });
            
            // ã‚¿ãƒƒãƒå‡¦ç†
            btn.addEventListener('touchend', function(e) {
                e.preventDefault();
                console.log('ğŸ”µ ã‚¿ãƒƒãƒäº‹ä»¶ï¼');
                openSidebar();
            });
            
            // ãƒã‚¹ã‚¯ã‚¯ãƒªãƒƒã‚¯é—œé–‰
            overlay.addEventListener('click', function() {
                console.log('ğŸ”µ ã‚¯ãƒªãƒƒã‚¯ãƒã‚¹ã‚¯é—œé–‰');
                closeSidebar();
            });
            
            // ãƒã‚¹ã‚¯ã‚¿ãƒƒãƒé—œé–‰
            overlay.addEventListener('touchend', function(e) {
                e.preventDefault();
                console.log('ğŸ”µ ã‚¿ãƒƒãƒãƒã‚¹ã‚¯é—œé–‰');
                closeSidebar();
            });
            
            console.log('âœ… ã™ã¹ã¦äº‹ä»¶ç›£è½å™¨å·²ç¶å®š');
        }
        
        // å³åº§ã«å˜—è©¦åˆæœŸåŒ–
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', simpleInitMenu);
        } else {
            setTimeout(simpleInitMenu, 100);
        }
        
        // å…¬é–‹å‡½æ•¸ä¾›ã‚µã‚¤ãƒ‰ãƒãƒ¼å…§ã®é€£çµä½¿ç”¨
        window.closeMobileSidebar = closeSidebar;
    </script>
<script src="load-unified-navbar.js?v=20251129"></script>
</body>
</html>