#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
éŸ©æ–‡ç‰ˆæœ€ç»ˆæ¸…ç†ï¼šä¿®å¤æ‰€æœ‰å‰©ä½™æ··åˆæ–‡æœ¬
"""

import re

def fix_kr_final():
    file_path = 'kr/index.html'
    
    with open(file_path, 'r', encoding='utf-8') as f:
        content = f.read()
    
    chinese_before = len(re.findall(r'[ä¸€-é¾¥]', content))
    print(f"ğŸ” ä¿®å¤å‰: {chinese_before} ä¸ªä¸­æ–‡å­—ç¬¦\n")
    
    # ä¿®å¤æ··åˆæ–‡æœ¬
    fixes = {
        # ç”¨æˆ·è¯„ä»·ä¸­çš„æ··åˆæ–‡æœ¬
        'è¦çš„ç¾åœ¨åªéœ€å¹¾': '',  # åˆ é™¤ç¢ç‰‡
        'å€‘å°‡äº†å®ƒé¦–ç™¼': '',  # åˆ é™¤ç¢ç‰‡
        'éŠ€è¡Œç´šçš„åˆè¦': '',  # åˆ é™¤ç¢ç‰‡
        'çš„æ›´è¼•é¬†': '',  # åˆ é™¤ç¢ç‰‡
        'æˆ‘èƒ½åœ¨å¹¾å…§åˆ†æå¤§ç­†è¨˜éŒ„': '',  # åˆ é™¤ç¢ç‰‡
        
        # å®¢æœèŠå¤©æ¡†
        'æŸ¥çœ‹è¯¦ç»†ä»·æ ¼': 'ìš”ê¸ˆ í™•ì¸',
        'ç«‹å³æ³¨å†Œ': 'ì§€ê¸ˆ ê°€ì…',
        
        # å…¶ä»–å¸¸è§æ··åˆæ–‡æœ¬
        'æ•¸ì‹œê°„': 'ëª‡ ì‹œê°„',
        'ëª‡ ë¶„ ë§Œì—': 'ëª‡ ë¶„ ë§Œì—',
        'ä»¥ä¸Š': 'ì´ìƒ',
        'æº–ç¢ºåº¦': 'ì •í™•ë„',
        'è™•ç†ì‹œê°„': 'ì²˜ë¦¬ ì‹œê°„',
        'æ¸›å°‘äº†': 'ë‹¨ì¶•í–ˆìŠµë‹ˆë‹¤',
        'åˆè¦åŠŸèƒ½': 'ì»´í”Œë¼ì´ì–¸ìŠ¤ ê¸°ëŠ¥',
        'æ¥­å‹™ç™¼å±•': 'ë¹„ì¦ˆë‹ˆìŠ¤ ë°œì „',
        'ç¨½æ ¸éç¨‹': 'ê°ì‚¬ ê³¼ì •',
        'å¯©é–±ç”³è«‹äºº': 'ì‹ ì²­ì ê²€í† ',
        'å¤§é‡è¨˜éŒ„': 'ëŒ€ëŸ‰ì˜ ê¸°ë¡',
        'è²¸æ¬¾å¯©æ ¸': 'ëŒ€ì¶œ ìŠ¹ì¸',
    }
    
    for chinese, korean in fixes.items():
        content = content.replace(chinese, korean)
    
    # ä¿å­˜
    with open(file_path, 'w', encoding='utf-8') as f:
        f.write(content)
    
    chinese_after = len(re.findall(r'[ä¸€-é¾¥]', content))
    
    print(f"âœ… ä¿®å¤å: {chinese_after} ä¸ªä¸­æ–‡å­—ç¬¦")
    print(f"ğŸ“Š æ¸…ç†äº†: {chinese_before - chinese_after} ä¸ªå­—ç¬¦")
    
    return chinese_after

if __name__ == '__main__':
    remaining = fix_kr_final()
    print(f"\nğŸ‰ éŸ©æ–‡ç‰ˆæœ€ç»ˆæ¸…ç†å®Œæˆï¼")

