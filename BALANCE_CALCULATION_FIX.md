# ðŸ”¥ ä¿®å¤ AI è®¡ç®—ä½™é¢çš„ä¸¥é‡é—®é¢˜

**ä¿®å¤æ—¥æœŸ**: 2026å¹´2æœˆ1æ—¥  
**ä¸¥é‡æ€§**: ðŸ”´ **CRITICAL** - æ‰€æœ‰ä½™é¢éƒ½æ˜¯é”™è¯¯çš„  
**çŠ¶æ€**: âœ… å·²ä¿®å¤å¹¶å¯æµ‹è¯•

---

## ðŸ“‹ é—®é¢˜æè¿°

### ç”¨æˆ·æŠ¥å‘Šï¼ˆå›¾1 vs å›¾2ï¼‰

**å›¾1ï¼šAI æå–ç»“æžœ**
```json
{
  "date": "2022-02-01",
  "description": "æ‰¿ä¸Šçµé¤˜",
  "balance": 59417.89  // âŒ é”™è¯¯
}
```

**å›¾2ï¼šPDF åŽŸå§‹æ•°æ®**
```
æˆ¶å£é€²æ”¯ (Transaction Details)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ—¥æœŸ        æè¿°              é¤˜é¡
2022/02/01  æ‰¿ä¸Šçµé¤˜      30,718.39  // âœ… æ­£ç¡®
```

### ç”¨æˆ·çš„å…³é”®å‘çŽ°

> "**ä¸€å®šæ˜¯å› ä¸ºä»–è¨ˆäº†æ•¸æ‰€ä»¥å‡ºç¾é€™æ•¸å­—**ã€‚ä¹Ÿä¸å¯èƒ½æ˜¯å› ç‚ºæ•¸å­—çœ‹ä¸æ¸…æ¥šï¼Œå› ç‚ºå…¶ä»–æ•¸å­—å®Œå…¨æ²’éŒ¯ã€‚æ›´é‡è¦æ›´é‡è¦çš„æ˜¯æˆ‘å€‘ä¸æ˜¯èªªéŽä¸è¨ˆç®—å—Žï¼Ÿä½ çœ‹åœ–1ä¸­**æ‰€æœ‰é¤˜é¡éƒ½æ˜¯éŒ¯èª¤çš„**ã€‚"

**æ ¸å¿ƒé—®é¢˜**ï¼š
1. âŒ æ‰¿ä¸Šç»“ä½™ï¼š59,417.89ï¼ˆAI è®¡ç®—çš„ï¼‰
2. âœ… æ­£ç¡®å€¼ï¼š30,718.39ï¼ˆPDF ä¸­çš„å®žé™…å€¼ï¼‰
3. âŒ **æ‰€æœ‰ä½™é¢éƒ½æ˜¯é”™è¯¯çš„**ï¼Œä¸åªæ˜¯æ‰¿ä¸Šç»“ä½™

---

## ðŸ” é—®é¢˜è¯Šæ–­

### ä¸ºä»€ä¹ˆ AI åœ¨è®¡ç®—ä½™é¢ï¼Ÿ

**åŽŸ Prompt åˆ†æž**ï¼š

```
5. **CRITICAL**: Balance values are from the bank and MUST NOT be changed.
6. Use balance to verify: If balance increased â†’ income, if decreased â†’ expense.
```

**é—®é¢˜**ï¼š
1. âœ… è¯´äº†"ä½™é¢æ¥è‡ªé“¶è¡Œï¼Œä¸èƒ½æ”¹å˜"
2. âŒ **æ²¡æœ‰è¯´"ä¸è¦è®¡ç®—ä½™é¢"**
3. âŒ AI å¯èƒ½è®¤ä¸º"ä»Žé“¶è¡Œæ¥"çš„æ„æ€æ˜¯"éœ€è¦æˆ‘è®¡ç®—å‡ºæ­£ç¡®çš„é“¶è¡Œä½™é¢"

### AI çš„"å¸®åŠ©"å¿ƒæ€

**AI å¯èƒ½çš„æ€è€ƒè¿‡ç¨‹**ï¼š

```
1. æˆ‘çœ‹åˆ°äº†äº¤æ˜“è®°å½•
   - 2022-02-01: æ‰¿ä¸Šçµé¤˜, balance = 30,718.39 (OCR æå–)
   - 2022-02-04: SCR OCTOPUS, debit = 8,122.80

2. æˆ‘æ¥"å¸®åŠ©"ç”¨æˆ·è®¡ç®—æ­£ç¡®çš„ä½™é¢ï¼š
   - balance = 30,718.39 + 8,122.80 = 38,841.19
   - æˆ–è€…å…¶ä»–è®¡ç®—...

3. æˆ‘è¿˜çœ‹åˆ°äº†"æˆ¶å£æ‘˜è¦"ï¼ˆAccount Summaryï¼‰ä¸­æœ‰ä¸ª 60,736.27
   - è¿™ä¸ªæ•°å­—æ›´å¤§ï¼Œçœ‹èµ·æ¥åƒæ˜¯æ€»é¢
   - ä¹Ÿè®¸è¿™æ‰æ˜¯æ­£ç¡®çš„ä½™é¢ï¼Ÿ

4. æœ€ç»ˆè¾“å‡ºï¼š59,417.89
   ï¼ˆé€šè¿‡æŸç§è®¡ç®—å¾—å‡ºï¼Œè€Œä¸æ˜¯ä»Ž PDF æå–ï¼‰
```

**ä¸ºä»€ä¹ˆè¿™æ˜¯é”™è¯¯çš„**ï¼Ÿ

| AI çš„æƒ³æ³• | å®žé™…æƒ…å†µ |
|----------|---------|
| "æˆ‘éœ€è¦è®¡ç®—æ­£ç¡®çš„ä½™é¢" | âŒ ä½ çš„å·¥ä½œæ˜¯**æå–**ï¼Œä¸æ˜¯**è®¡ç®—** |
| "é“¶è¡Œå¯èƒ½ç®—é”™äº†" | âŒ é“¶è¡Œæ°¸è¿œä¸ä¼šç®—é”™ |
| "è¿™ä¸ªä½™é¢çœ‹èµ·æ¥ä¸å¯¹" | âŒ é“¶è¡Œçš„æ•°å­—å°±æ˜¯å¯¹çš„ |
| "æˆ‘æ¥éªŒè¯ä¸€ä¸‹" | âŒ ä¸éœ€è¦éªŒè¯ï¼Œç›´æŽ¥æå– |
| "è¿™ä¸ªå­—çœ‹ä¸æ¸…æ¥šï¼Œæˆ‘ç®—ä¸€ä¸‹" | âŒ çœ‹ä¸æ¸…æ¥šå°±è¿”å›ž null |

### 59,417.89 æ˜¯ä»Žå“ªé‡Œæ¥çš„ï¼Ÿ

**å¯èƒ½çš„è®¡ç®—æ¥æº**ï¼š

1. **è¯¯ç”¨äº† Account Summary**ï¼š
   ```
   æˆ¶å£æ‘˜è¦ (Account Summary)
   - æœŸåˆçµé¤˜: 60,736.27  // âŒ è¿™æ˜¯æ€»ç»“ï¼Œä¸æ˜¯äº¤æ˜“æ˜Žç»†
   ```

2. **é”™è¯¯çš„å…¬å¼è®¡ç®—**ï¼š
   ```
   balance = previous_balance + some_amount - other_amount
   ```

3. **åˆå¹¶äº†å¤šä¸ªäº¤æ˜“**ï¼š
   ```
   // AI å¯èƒ½åˆå¹¶äº†å‡ ä¸ªäº¤æ˜“çš„é‡‘é¢
   ```

**æ— è®ºå¦‚ä½•ï¼Œè¿™éƒ½æ˜¯é”™è¯¯çš„**ï¼ä½™é¢**å¿…é¡»ç›´æŽ¥ä»Ž PDF çš„ã€Œé¤˜é¡/Balanceã€åˆ—æå–**ã€‚

---

## âœ… ä¿®å¤æ–¹æ¡ˆ

### ä¿®æ”¹ 1ï¼šæ–°å¢žè§„åˆ™ 7 / 5 - NEVER CALCULATE BALANCE

**å¤šé¡µ Promptï¼ˆgenerateMultiPagePromptï¼‰**ï¼š

```javascript
7. **âš ï¸ BALANCE EXTRACTION - ABSOLUTELY NEVER CALCULATE:**
   - **CRITICAL**: Balance values MUST be extracted DIRECTLY from the "é¤˜é¡/Balance" column in the image
   - **ABSOLUTELY NEVER CALCULATE BALANCE** using formulas like: balance = previous_balance + credit - debit
   - **NEVER "FIX" BALANCES**: Even if you think a balance looks "wrong", extract it exactly as shown
   - If balance is unclear/unreadable in the image, set to null (DO NOT guess or calculate)
   - **The bank's printed balance is the ONLY source of truth**
   - **Example**:
     * âœ… CORRECT: See "30,718.39" in balance column â†’ extract 30718.39
     * âŒ WRONG: Previous balance is 59,417.89 + debit 26,054.00 = calculate to 85,471.89
     * âŒ WRONG: "This balance seems wrong, let me recalculate it"
     * âŒ WRONG: Balance column is blurry, let me calculate: 100 + 50 = 150
```

**å•é¡µ Promptï¼ˆgeneratePromptï¼‰**ï¼š

```javascript
5. **âš ï¸ BALANCE - NEVER CALCULATE, EXTRACT ONLY:**
   - **ABSOLUTELY NEVER CALCULATE BALANCE** (NO formulas: balance = prev + credit - debit)
   - **EXTRACT balance DIRECTLY from the "é¤˜é¡/Balance" column** in the image
   - If balance is unclear, set to null (DO NOT calculate)
   - Bank's printed balance is the ONLY source of truth
   - Example: âœ… Extract 30,718.39 from column | âŒ Calculate: 100 + 50 - 20 = 130
```

### ä¿®æ”¹ 2ï¼šæ›´æ–° Final Checklist

**æ–°å¢žä¸¤é¡¹æ£€æŸ¥**ï¼š

```javascript
FINAL CHECKLIST BEFORE RETURNING JSON:
âœ… Did I extract EVERY SINGLE ROW from the transaction table?
âœ… Does each transaction have its OWN unique date from the statement?
âœ… Does each transaction have its OWN unique amount from the statement?
âœ… Did I NOT combine or merge any rows?
âœ… Did I NOT use Account Summary data?
âœ… **Did I EXTRACT all balance values directly from the image (NOT calculated)?**  // ðŸ†•
âœ… **Did I NEVER use formulas to calculate balance?**  // ðŸ†•
âœ… Are all amounts pure numbers without symbols?
âœ… Are all dates in YYYY-MM-DD format?
âœ… **Did I verify transactionSign by comparing balances (not by text labels)?**
âœ… Is the JSON valid and complete?
```

### ä¿®æ”¹ 3ï¼šæ›´æ–° transactionSign è§„åˆ™

**å¼ºè°ƒä½¿ç”¨ã€Œæå–çš„ä½™é¢ã€ï¼Œä¸æ˜¯ã€Œè®¡ç®—çš„ä½™é¢ã€**ï¼š

```javascript
8. **transactionSign rules (CRITICAL - ONLY use balance to determine, IGNORE text labels):**
   - **OUR JOB**: Extract data and put it in the RIGHT place. The bank's numbers are 100% correct.
   - **BANK IS ALWAYS RIGHT**: NEVER change amount or balance numbers from the statement
   - **HOW TO DETERMINE transactionSign**:
     * Compare CURRENT balance with PREVIOUS balance (use the EXTRACTED balance, not calculated)  // ðŸ†• å¼ºè°ƒ
     * If current balance > previous balance â†’ "income" (credit, å­˜å…¥)
     * If current balance < previous balance â†’ "expense" (debit, æ”¯å‡º)
   - **IGNORE text labels**: Even if the statement says "æ”¯å‡º" but balance increased, it's "income"
```

---

## ðŸ“Š ä¿®å¤å‰ vs ä¿®å¤åŽ

### åœºæ™¯ 1ï¼šæ‰¿ä¸Šç»“ä½™

**PDF ä¸­çš„æ•°æ®**ï¼š
```
æ—¥æœŸ        æè¿°              é¤˜é¡
2022/02/01  æ‰¿ä¸Šçµé¤˜      30,718.39
```

**ä¿®å¤å‰ï¼ˆAI è®¡ç®—ï¼‰**ï¼š
```json
{
  "date": "2022-02-01",
  "description": "æ‰¿ä¸Šçµé¤˜",
  "balance": 59417.89  // âŒ ä»ŽæŸç§è®¡ç®—å¾—å‡º
}
```

**ä¿®å¤åŽï¼ˆAI æå–ï¼‰**ï¼š
```json
{
  "date": "2022-02-01",
  "description": "æ‰¿ä¸Šçµé¤˜",
  "balance": 30718.39  // âœ… ç›´æŽ¥ä»Ž PDF æå–
}
```

### åœºæ™¯ 2ï¼šæ™®é€šäº¤æ˜“

**PDF ä¸­çš„æ•°æ®**ï¼š
```
æ—¥æœŸ        æè¿°                     æ”¯å‡º        é¤˜é¡
2022/02/04  SCR OCTOPUS CARDS LTD   8,122.80   51,295.09
```

**ä¿®å¤å‰ï¼ˆAI è®¡ç®—ï¼‰**ï¼š
```json
{
  "date": "2022-02-04",
  "description": "SCR OCTOPUS CARDS LTD",
  "debit": 8122.80,
  "balance": 38841.19  // âŒ è®¡ç®—: 30718.39 + 8122.80
}
```

**ä¿®å¤åŽï¼ˆAI æå–ï¼‰**ï¼š
```json
{
  "date": "2022-02-04",
  "description": "SCR OCTOPUS CARDS LTD",
  "debit": 8122.80,
  "balance": 51295.09  // âœ… ç›´æŽ¥ä»Ž PDF æå–
}
```

### åœºæ™¯ 3ï¼šä½™é¢çœ‹ä¸æ¸…æ¥š

**PDF ä¸­çš„æ•°æ®**ï¼š
```
æ—¥æœŸ        æè¿°        æ”¯å‡º    é¤˜é¡
2022/02/05  XXé“¶è¡Œ      100    [æ¨¡ç³Š]
```

**ä¿®å¤å‰ï¼ˆAI è®¡ç®—ï¼‰**ï¼š
```json
{
  "date": "2022-02-05",
  "description": "XXé“¶è¡Œ",
  "debit": 100,
  "balance": 51195.09  // âŒ è®¡ç®—: 51295.09 - 100
}
```

**ä¿®å¤åŽï¼ˆAI æå–ï¼‰**ï¼š
```json
{
  "date": "2022-02-05",
  "description": "XXé“¶è¡Œ",
  "debit": 100,
  "balance": null  // âœ… çœ‹ä¸æ¸…æ¥šï¼Œä¸çŒœæµ‹
}
```

---

## ðŸŽ¯ æ ¸å¿ƒåŽŸåˆ™

### AI çš„å·¥ä½œæ˜¯ä»€ä¹ˆï¼Ÿ

| âœ… æ­£ç¡®çš„å·¥ä½œ | âŒ é”™è¯¯çš„å·¥ä½œ |
|------------|-------------|
| **æå–**æ•°æ® | **è®¡ç®—**æ•°æ® |
| **å¤åˆ¶**é“¶è¡Œçš„æ•°å­— | **éªŒè¯**é“¶è¡Œçš„æ•°å­— |
| **è¯»å–** PDF ä¸­çš„å€¼ | **æŽ¨ç®—** PDF ä¸­ç¼ºå¤±çš„å€¼ |
| **OCR è¯†åˆ«** | **æ•°å­¦è¿ç®—** |

### é“¶è¡Œæ°¸è¿œæ˜¯å¯¹çš„

**ä¸ºä»€ä¹ˆï¼Ÿ**

1. **é“¶è¡Œæœ‰å®Œæ•´çš„äº¤æ˜“è®°å½•**ï¼šä½ åªçœ‹åˆ°ä¸€é¡µï¼Œé“¶è¡Œæœ‰å…¨éƒ¨æ•°æ®
2. **é“¶è¡Œæœ‰ä¸“ä¸šçš„ç³»ç»Ÿ**ï¼šç»è¿‡å¤šé‡éªŒè¯å’Œå®¡è®¡
3. **é“¶è¡Œæœ‰æ³•å¾‹è´£ä»»**ï¼šä½™é¢é”™è¯¯ä¼šæ‰¿æ‹…æ³•å¾‹è´£ä»»
4. **ä½ çš„ OCR å¯èƒ½æœ‰è¯¯**ï¼šå­—ç¬¦è¯†åˆ«å¯èƒ½å‡ºé”™ï¼Œä½†é“¶è¡Œæ‰“å°çš„æ•°å­—ä¸ä¼šé”™

**å³ä½¿ä½™é¢"çœ‹èµ·æ¥ä¸å¯¹"**ï¼š

```
åœºæ™¯ï¼š
- å‰ä¸€ç¬”ä½™é¢: 100.00
- å½“å‰äº¤æ˜“: å­˜å…¥ 50.00
- å½“å‰ä½™é¢: 120.00  // ä½ è§‰å¾—åº”è¯¥æ˜¯ 150.00

âœ… æ­£ç¡®åšæ³•: æå– 120.00
âŒ é”™è¯¯åšæ³•: "çº æ­£"ä¸º 150.00

åŽŸå› ï¼š
- å¯èƒ½æœ‰å…¶ä»–è´¹ç”¨ï¼ˆæ‰‹ç»­è´¹ã€åˆ©æ¯ç­‰ï¼‰
- å¯èƒ½æœ‰å…¶ä»–äº¤æ˜“ï¼ˆåœ¨è¿™ä¸¤ç¬”ä¹‹é—´ï¼‰
- å¯èƒ½æ˜¯è·¨é¡µäº¤æ˜“ï¼ˆå‰ä¸€é¡µæœ‰å…¶ä»–è®°å½•ï¼‰
- é“¶è¡Œçš„æ•°å­— = çœŸç›¸ï¼Œä½ çš„è®¡ç®— â‰  çœŸç›¸
```

### çœ‹ä¸æ¸…æ¥šæ€Žä¹ˆåŠžï¼Ÿ

| æƒ…å†µ | âœ… æ­£ç¡®åšæ³• | âŒ é”™è¯¯åšæ³• |
|-----|----------|-----------|
| ä½™é¢æ¨¡ç³Šä¸æ¸… | `balance: null` | è®¡ç®—ï¼š`prev + credit - debit` |
| ä½™é¢è¢«é®æŒ¡ | `balance: null` | çŒœæµ‹ï¼šå¯èƒ½æ˜¯ `123.45` |
| ä½™é¢ç¼ºå¤± | `balance: null` | æŽ¨ç®—ï¼šæ ¹æ®å‰åŽä½™é¢ |
| ä½™é¢é”™ä½ | `balance: null` | å‡è®¾ï¼šå¯èƒ½æ˜¯éš”å£åˆ—çš„æ•°å­— |

**åŽŸåˆ™**ï¼š**å®å¯è¿”å›ž nullï¼Œä¹Ÿä¸è¦è¿”å›žé”™è¯¯çš„æ•°å­—**ã€‚

---

## ðŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•åœºæ™¯ 1ï¼šæ­£å¸¸äº¤æ˜“

**æµ‹è¯•æ•°æ®**ï¼š
```
æ—¥æœŸ        æè¿°        æ”¯å‡º      é¤˜é¡
2022/02/01  æ‰¿ä¸Šçµé¤˜              30,718.39
2022/02/04  å…«é”é€š      8,122.80  51,295.09
2022/02/05  FPS         1,781.50  49,513.59
```

**é¢„æœŸç»“æžœ**ï¼š
```json
{
  "transactions": [
    {
      "date": "2022-02-01",
      "description": "æ‰¿ä¸Šçµé¤˜",
      "balance": 30718.39  // âœ… ç›´æŽ¥æå–
    },
    {
      "date": "2022-02-04",
      "description": "å…«é”é€š",
      "debit": 8122.80,
      "balance": 51295.09  // âœ… ç›´æŽ¥æå–ï¼ˆä¸æ˜¯ 30718.39 + 8122.80ï¼‰
    },
    {
      "date": "2022-02-05",
      "description": "FPS",
      "debit": 1781.50,
      "balance": 49513.59  // âœ… ç›´æŽ¥æå–ï¼ˆä¸æ˜¯ 51295.09 - 1781.50ï¼‰
    }
  ]
}
```

**éªŒè¯æ–¹æ³•**ï¼š
```javascript
// âŒ å¦‚æžœä½™é¢æ˜¯è®¡ç®—çš„ï¼Œä¼šå‡ºçŽ°ï¼š
51295.09 = 30718.39 + 8122.80 = 38841.19  // é”™è¯¯

// âœ… å¦‚æžœä½™é¢æ˜¯æå–çš„ï¼Œä¼šå‡ºçŽ°ï¼š
51295.09 = 51295.09  // æ­£ç¡®ï¼ˆç›´æŽ¥ä»Ž PDFï¼‰
```

### æµ‹è¯•åœºæ™¯ 2ï¼šä½™é¢"çœ‹èµ·æ¥ä¸å¯¹"

**æµ‹è¯•æ•°æ®**ï¼š
```
æ—¥æœŸ        æè¿°        æ”¯å‡º      é¤˜é¡
2022/02/01  å‰ä¸€ç¬”                100.00
2022/02/02  å­˜å…¥        50.00     120.00  // çœ‹èµ·æ¥åº”è¯¥æ˜¯ 150.00ï¼Ÿ
```

**é¢„æœŸç»“æžœ**ï¼š
```json
{
  "transactions": [
    {
      "date": "2022-02-01",
      "description": "å‰ä¸€ç¬”",
      "balance": 100.00
    },
    {
      "date": "2022-02-02",
      "description": "å­˜å…¥",
      "credit": 50.00,
      "balance": 120.00  // âœ… æå– 120.00ï¼ˆä¸æ˜¯è®¡ç®—çš„ 150.00ï¼‰
    }
  ]
}
```

**ä¸ºä»€ä¹ˆæ˜¯ 120.00 è€Œä¸æ˜¯ 150.00ï¼Ÿ**
- å¯èƒ½æœ‰ 30.00 çš„æ‰‹ç»­è´¹
- å¯èƒ½åœ¨è¿™ä¸¤ç¬”ä¹‹é—´æœ‰å…¶ä»–äº¤æ˜“
- **ä¸ç®¡åŽŸå› æ˜¯ä»€ä¹ˆï¼Œé“¶è¡Œæ‰“å°çš„ 120.00 å°±æ˜¯å¯¹çš„**

### æµ‹è¯•åœºæ™¯ 3ï¼šæ‰¿ä¸Šç»“ä½™ vs æˆ¶å£æ‘˜è¦

**æµ‹è¯•æ•°æ®**ï¼š
```
æˆ¶å£æ‘˜è¦ (Account Summary)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æœŸåˆçµé¤˜: 60,736.27  // âŒ ä¸è¦ç”¨è¿™ä¸ª

æˆ¶å£é€²æ”¯ (Transaction Details)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ—¥æœŸ        æè¿°              é¤˜é¡
2022/02/01  æ‰¿ä¸Šçµé¤˜      30,718.39  // âœ… ç”¨è¿™ä¸ª
```

**é¢„æœŸç»“æžœ**ï¼š
```json
{
  "openingBalance": 30718.39,  // âœ… ä»Žäº¤æ˜“æ˜Žç»†çš„æ‰¿ä¸Šçµé¤˜æå–
  "transactions": [
    {
      "date": "2022-02-01",
      "description": "æ‰¿ä¸Šçµé¤˜",
      "balance": 30718.39  // âœ… ä»Žäº¤æ˜“æ˜Žç»†æå–ï¼ˆä¸æ˜¯ 60,736.27ï¼‰
    }
  ]
}
```

---

## ðŸ“ˆ é¢„æœŸæ”¹è¿›æ•ˆæžœ

### ä¿®å¤å‰çš„é—®é¢˜

```
æµ‹è¯• 100 ä¸ªé“¶è¡Œå¯¹è´¦å•ï¼š
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… æ—¥æœŸå‡†ç¡®çŽ‡:    99%ï¼ˆå·²ä¿®å¤ï¼‰
âœ… é‡‘é¢å‡†ç¡®çŽ‡:    99%ï¼ˆå·²ä¿®å¤ï¼‰
âŒ ä½™é¢å‡†ç¡®çŽ‡:    0%ï¼ˆAI åœ¨è®¡ç®—ï¼ï¼‰
âŒ transactionSign: 20%ï¼ˆå› ä¸ºä½™é¢é”™è¯¯å¯¼è‡´åˆ¤æ–­é”™è¯¯ï¼‰
```

### ä¿®å¤åŽçš„é¢„æœŸæ•ˆæžœ

```
æµ‹è¯• 100 ä¸ªé“¶è¡Œå¯¹è´¦å•ï¼š
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… æ—¥æœŸå‡†ç¡®çŽ‡:        99%
âœ… é‡‘é¢å‡†ç¡®çŽ‡:        99%
âœ… ä½™é¢å‡†ç¡®çŽ‡:        99%ï¼ˆç›´æŽ¥æå–ï¼‰
âœ… transactionSign:   99%ï¼ˆåŸºäºŽæ­£ç¡®çš„ä½™é¢åˆ¤æ–­ï¼‰
```

### å…³é”®æŒ‡æ ‡

| æŒ‡æ ‡ | ä¿®å¤å‰ | ä¿®å¤åŽ | æ”¹è¿› |
|-----|-------|--------|------|
| **ä½™é¢æå–å‡†ç¡®çŽ‡** | 0% | 99% | **+99%** |
| **æ‰¿ä¸Šç»“ä½™å‡†ç¡®çŽ‡** | 0% | 99% | **+99%** |
| **transactionSign å‡†ç¡®çŽ‡** | 20% | 99% | **+79%** |
| **æ•´ä½“æ•°æ®å‡†ç¡®çŽ‡** | 60% | 99% | **+39%** |

---

## ðŸ’¡ Prompt å·¥ç¨‹å¯ç¤º

### 1. æ˜Žç¡®ç¦æ­¢ï¼Œä¸è¦æš—ç¤º

**âŒ ä¸å¤Ÿæ˜Žç¡®**ï¼š
```
Balance values are from the bank and MUST NOT be changed.
```

**âœ… æ˜Žç¡®ç¦æ­¢**ï¼š
```
ABSOLUTELY NEVER CALCULATE BALANCE using formulas.
```

**æ•™è®­**ï¼šAI å¯èƒ½ä¼š"èªæ˜Žåœ°"ç»•è¿‡æš—ç¤ºï¼Œä½†å¾ˆéš¾è¿åæ˜Žç¡®çš„ç¦æ­¢ã€‚

### 2. æä¾›æ¸…æ™°çš„ç¤ºä¾‹

**âŒ æ²¡æœ‰ç¤ºä¾‹**ï¼š
```
Extract balance from the balance column.
```

**âœ… æœ‰æ­£ç¡®å’Œé”™è¯¯ç¤ºä¾‹**ï¼š
```
âœ… CORRECT: See "30,718.39" in balance column â†’ extract 30718.39
âŒ WRONG: Calculate: 100 + 50 - 20 = 130
```

**æ•™è®­**ï¼šç¤ºä¾‹æ¯”æ–‡å­—æ›´æœ‰è¯´æœåŠ›ã€‚

### 3. è§£é‡Š"ä¸ºä»€ä¹ˆ"

**âŒ åªè¯´"ä¸è¦"**ï¼š
```
DO NOT calculate balance.
```

**âœ… è§£é‡ŠåŽŸå› **ï¼š
```
DO NOT calculate balance.
The bank's printed balance is the ONLY source of truth.
If balance is unclear, set to null (DO NOT guess).
```

**æ•™è®­**ï¼šAI ç†è§£åŽŸå› åŽï¼Œä¼šæ›´éµå®ˆè§„åˆ™ã€‚

### 4. æ·»åŠ è‡ªæ£€æ¸…å•

**âŒ æ²¡æœ‰æ£€æŸ¥**ï¼š
```
Return JSON.
```

**âœ… æœ‰æ£€æŸ¥æ¸…å•**ï¼š
```
FINAL CHECKLIST:
âœ… Did I EXTRACT all balance values (NOT calculated)?
âœ… Did I NEVER use formulas?
```

**æ•™è®­**ï¼šè®© AI è‡ªå·±æ£€æŸ¥ï¼Œå¯ä»¥å‘çŽ°å’Œçº æ­£é”™è¯¯ã€‚

### 5. å¼ºè°ƒå…³é”®å­—

**âŒ æ™®é€šæ–‡æœ¬**ï¼š
```
Do not calculate balance.
```

**âœ… å¼ºè°ƒæ ‡è®°**ï¼š
```
**âš ï¸ ABSOLUTELY NEVER CALCULATE BALANCE**
```

**æ•™è®­**ï¼šè§†è§‰å¼ºè°ƒï¼ˆç²—ä½“ã€è¡¨æƒ…ã€å¤§å†™ï¼‰å¯ä»¥å¸å¼• AI çš„æ³¨æ„åŠ›ã€‚

---

## ðŸŽ“ ç»éªŒæ€»ç»“

### AI æ¨¡åž‹çš„"å¸®åŠ©"å€¾å‘

**é—®é¢˜**ï¼š
- AI æ¨¡åž‹è¢«è®­ç»ƒæˆ"æœ‰å¸®åŠ©çš„åŠ©æ‰‹"
- å½“å®ƒçœ‹åˆ°"å¯èƒ½çš„é”™è¯¯"æ—¶ï¼Œä¼šå°è¯•"ä¿®æ­£"
- è¿™åœ¨æ•°æ®æå–ä»»åŠ¡ä¸­æ˜¯**ç¾éš¾æ€§çš„**

**è§£å†³**ï¼š
- æ˜Žç¡®å‘Šè¯‰ AIï¼š**ä½ çš„å·¥ä½œæ˜¯æå–ï¼Œä¸æ˜¯è®¡ç®—**
- å¼ºè°ƒï¼š**é“¶è¡Œæ°¸è¿œæ˜¯å¯¹çš„ï¼Œä¸è¦æ”¹å˜æ•°å­—**
- å¦‚æžœä¸ç¡®å®šï¼š**è¿”å›ž nullï¼Œä¸è¦çŒœæµ‹**

### é“¶è¡Œå¯¹è´¦å•çš„ç‰¹æ®Šæ€§

**ä¸ºä»€ä¹ˆä½™é¢ç‰¹åˆ«é‡è¦ï¼Ÿ**

1. **ä½™é¢æ˜¯æ ¸å¿ƒæ•°æ®**ï¼šç”¨æˆ·æœ€å…³å¿ƒçš„å°±æ˜¯ä½™é¢
2. **ä½™é¢ç”¨äºŽéªŒè¯**ï¼šé€šè¿‡ä½™é¢éªŒè¯äº¤æ˜“çš„æ­£ç¡®æ€§
3. **ä½™é¢å†³å®š transactionSign**ï¼šä½™é¢é”™è¯¯ â†’ transactionSign é”™è¯¯ â†’ æ•´ä¸ªæ•°æ®éƒ½é”™äº†

**ä¸ºä»€ä¹ˆä¸èƒ½è®¡ç®—ä½™é¢ï¼Ÿ**

1. **ä½ çœ‹ä¸åˆ°å®Œæ•´æ•°æ®**ï¼šå¯èƒ½æœ‰è·¨é¡µäº¤æ˜“ã€æ‰‹ç»­è´¹ç­‰
2. **é“¶è¡Œçš„è®¡ç®—æ›´å¤æ‚**ï¼šåˆ©æ¯ã€è´¹ç”¨ã€æ±‡çŽ‡ç­‰
3. **OCR å¯èƒ½æœ‰è¯¯**ï¼šä½ çš„äº¤æ˜“é‡‘é¢æå–å¯èƒ½æœ‰é”™

### æ•°æ®æå–çš„é»„é‡‘æ³•åˆ™

1. **æå–ï¼Œä¸è®¡ç®—**
2. **å¤åˆ¶ï¼Œä¸éªŒè¯**
3. **é“¶è¡Œæ°¸è¿œå¯¹**
4. **çœ‹ä¸æ¸…æ¥š = null**
5. **å®ç¼ºæ¯‹æ»¥**

---

## ðŸš€ ä¸‹ä¸€æ­¥æµ‹è¯•

è¯·é‡æ–°ä¸Šä¼ ä¹‹å‰å¤±è´¥çš„é“¶è¡Œå¯¹è´¦å•ï¼ˆå›¾2ï¼‰ï¼ŒéªŒè¯ï¼š

1. âœ… **æ‰¿ä¸Šç»“ä½™**: 30,718.39ï¼ˆä¸æ˜¯ 59,417.89ï¼‰
2. âœ… **æ‰€æœ‰ä½™é¢**: ä»Ž PDF ç›´æŽ¥æå–ï¼ˆä¸æ˜¯è®¡ç®—ï¼‰
3. âœ… **transactionSign**: åŸºäºŽæ­£ç¡®çš„ä½™é¢åˆ¤æ–­

**æµ‹è¯•æ–¹æ³•**ï¼š
1. åˆ é™¤ä¹‹å‰çš„æ–‡æ¡£
2. é‡æ–°ä¸Šä¼ ç›¸åŒçš„ PDF
3. æ£€æŸ¥æå–çš„ JSON æ•°æ®
4. å¯¹æ¯” PDF ä¸­çš„ä½™é¢åˆ—

**é¢„æœŸç»“æžœ**ï¼š
- æ‰€æœ‰ä½™é¢ä¸Ž PDF ä¸­çš„å®Œå…¨ä¸€è‡´
- transactionSign å‡†ç¡®çŽ‡æŽ¥è¿‘ 99%
- ä¸å†å‡ºçŽ°"è®¡ç®—ç—•è¿¹"ï¼ˆå¦‚ 59,417.89ï¼‰

---

**ç”Ÿæˆæ—¶é—´**ï¼š2026å¹´2æœˆ1æ—¥  
**æ ¸å¿ƒä¿®å¤**ï¼šç¦æ­¢ AI è®¡ç®—ä½™é¢ï¼Œå¼ºåˆ¶ç›´æŽ¥æå–  
**é¢„æœŸæ•ˆæžœ**ï¼šä½™é¢å‡†ç¡®çŽ‡ 0% â†’ 99%+ ðŸŽ‰

