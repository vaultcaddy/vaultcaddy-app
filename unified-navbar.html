<!-- ✅ 統一導航欄 - 所有頁面共用 -->
<nav class="vaultcaddy-navbar" id="main-navbar" style="position: fixed; top: 0; left: 0; right: 0; height: 60px; background: #ffffff; border-bottom: 1px solid #e5e7eb; display: flex; align-items: center; justify-content: space-between; padding: 0 2rem; z-index: 1000; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);">
    <div style="display: flex; align-items: center; gap: 0.5rem;">
        <!-- 漢堡菜單按鈕（僅手機顯示）-->
        <button id="mobile-menu-btn" style="display: none; background: none; border: none; cursor: pointer; padding: 0.5rem; color: #1f2937; font-size: 1.5rem; -webkit-tap-highlight-color: rgba(0,0,0,0.1); touch-action: manipulation;">
            <i class="fas fa-bars" style="pointer-events: none;"></i>
        </button>
        
        <a href="/index.html" style="display: flex; align-items: center; gap: 0.75rem; text-decoration: none; color: #1f2937; font-weight: 600; font-size: 1.125rem;">
            <div class="desktop-logo" style="width: 32px; height: 32px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 1.25rem;">
                V
            </div>
            <div class="desktop-logo-text">
                <div>VaultCaddy</div>
                <div style="font-size: 0.75rem; color: #6b7280; font-weight: 400; text-transform: uppercase; letter-spacing: 0.05em;">AI DOCUMENT PROCESSING</div>
            </div>
        </a>
    </div>
    <div style="display: flex; align-items: center; gap: 2rem;">
        <div style="display: flex; align-items: center; gap: 2rem;">
            <a href="/index.html#features" style="color: #4b5563; text-decoration: none; font-size: 0.9375rem; font-weight: 500; transition: color 0.2s;">功能</a>
            <a href="/index.html#pricing" style="color: #4b5563; text-decoration: none; font-size: 0.9375rem; font-weight: 500; transition: color 0.2s;">價格</a>
            <a href="/dashboard.html" style="color: #4b5563; text-decoration: none; font-size: 0.9375rem; font-weight: 500; transition: color 0.2s;">儀表板</a>
        </div>
        <div id="user-menu" style="position: relative; display: flex; align-items: center; gap: 0.75rem;">
            <!-- 初始狀態：登入按鈕 -->
            <button onclick="window.location.href='/auth.html'" style="padding: 0.5rem 1rem; background: #8b5cf6; color: white; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; transition: background 0.2s; font-size: 0.875rem;" onmouseover="this.style.background='#7c3aed'" onmouseout="this.style.background='#8b5cf6'">登入</button>
        </div>
    </div>
</nav>

<!-- 手機側邊欄菜單 -->
<div id="mobile-sidebar-overlay" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.5); z-index: 1998; opacity: 0; transition: opacity 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); will-change: opacity;" onclick="closeMobileSidebar()"></div>

<aside id="mobile-sidebar" style="position: fixed; top: 0; left: 0; bottom: 0; width: 280px; max-width: 85vw; background: #ffffff; z-index: 1999; transform: translateX(-100%); transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); box-shadow: 4px 0 24px rgba(0, 0, 0, 0.15); overflow-y: auto; will-change: transform;">
    <div style="padding: 1.5rem;">
        <!-- 頭部 -->
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 1px solid #e5e7eb;">
            <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 32px; height: 32px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 1.25rem;">V</div>
                <div>
                    <div style="font-weight: 600; color: #1f2937;">VaultCaddy</div>
                    <div style="font-size: 0.75rem; color: #6b7280; text-transform: uppercase; letter-spacing: 0.05em;">AI DOCUMENT</div>
                </div>
            </div>
            <button onclick="closeMobileSidebar()" style="background: none; border: none; cursor: pointer; padding: 0.5rem; color: #6b7280; font-size: 1.5rem;">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <!-- 菜單項目 -->
        <nav style="display: flex; flex-direction: column; gap: 0.5rem;">
            <a href="/index.html" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;" onclick="closeMobileSidebar()" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">
                <i class="fas fa-home" style="width: 20px; color: #667eea;"></i>
                <span>首頁</span>
            </a>
            <a href="/index.html#features" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;" onclick="closeMobileSidebar()" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">
                <i class="fas fa-star" style="width: 20px; color: #667eea;"></i>
                <span>功能</span>
            </a>
            <a href="/index.html#pricing" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;" onclick="closeMobileSidebar()" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">
                <i class="fas fa-tag" style="width: 20px; color: #667eea;"></i>
                <span>價格</span>
            </a>
            <a href="/dashboard.html" id="mobile-dashboard-link" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; justify-content: space-between;" onclick="closeMobileSidebar()">
                <div style="display: flex; align-items: center; gap: 0.75rem;">
                    <i class="fas fa-th-large" style="width: 20px; color: #667eea;"></i>
                    <span>儀表板</span>
                </div>
                <i id="dashboard-arrow" class="fas fa-chevron-right" style="color: #9ca3af; font-size: 0.875rem; transition: transform 0.3s;" onclick="event.preventDefault(); event.stopPropagation(); toggleProjectsList();"></i>
            </a>
            
            <!-- 項目列表（折疊）-->
            <div id="mobile-projects-list" style="display: none; padding-left: 2.5rem; margin-top: 0.5rem;">
                <div style="font-size: 0.75rem; color: #9ca3af; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em;">項目</div>
                <div id="projects-container" style="display: flex; flex-direction: column; gap: 0.25rem;">
                    <!-- 動態加載項目 -->
                    <div style="padding: 0.5rem; color: #6b7280; font-size: 0.875rem;">
                        <i class="fas fa-spinner fa-spin" style="margin-right: 0.5rem;"></i>
                        載入中...
                    </div>
                </div>
            </div>
            
            <div style="height: 1px; background: #e5e7eb; margin: 1rem 0;"></div>
            
            <a href="/account.html" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;" onclick="closeMobileSidebar()" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">
                <i class="fas fa-user" style="width: 20px; color: #667eea;"></i>
                <span>帳戶設定</span>
            </a>
            <a href="/billing.html" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;" onclick="closeMobileSidebar()" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">
                <i class="fas fa-credit-card" style="width: 20px; color: #667eea;"></i>
                <span>計費</span>
            </a>
            
            <div style="height: 1px; background: #e5e7eb; margin: 1rem 0;"></div>
            
            <a href="/privacy.html" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;" onclick="closeMobileSidebar()" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">
                <i class="fas fa-shield-alt" style="width: 20px; color: #667eea;"></i>
                <span>隱私政策</span>
            </a>
            <a href="/terms.html" style="padding: 0.875rem 1rem; color: #374151; text-decoration: none; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;" onclick="closeMobileSidebar()" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">
                <i class="fas fa-file-contract" style="width: 20px; color: #667eea;"></i>
                <span>服務條款</span>
            </a>
        </nav>
    </div>
</aside>

<script>
    // 漢堡菜單函數
    function openMobileSidebar() {
        const sidebar = document.getElementById('mobile-sidebar');
        const overlay = document.getElementById('mobile-sidebar-overlay');
        if (sidebar && overlay) {
            overlay.style.display = 'block';
            setTimeout(() => {
                overlay.style.opacity = '1';
                sidebar.style.transform = 'translateX(0)';
            }, 10);
        }
    }

    function closeMobileSidebar() {
        const sidebar = document.getElementById('mobile-sidebar');
        const overlay = document.getElementById('mobile-sidebar-overlay');
        if (sidebar && overlay) {
            overlay.style.opacity = '0';
            sidebar.style.transform = 'translateX(-100%)';
            setTimeout(() => {
                overlay.style.display = 'none';
            }, 300);
        }
    }

    // 綁定漢堡菜單按鈕事件
    document.addEventListener('DOMContentLoaded', function() {
        const menuBtn = document.getElementById('mobile-menu-btn');
        if (menuBtn) {
            // 移除現有事件（如果有）
            menuBtn.replaceWith(menuBtn.cloneNode(true));
            const newMenuBtn = document.getElementById('mobile-menu-btn');
            
            newMenuBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                openMobileSidebar();
            });
            
            newMenuBtn.addEventListener('touchend', function(e) {
                e.preventDefault();
                e.stopPropagation();
                openMobileSidebar();
            });
        }
    });
</script>

