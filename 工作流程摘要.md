# ğŸ”„ é“¶è¡Œå¯¹è´¦å•è½¬æ¢æµç¨‹æ‘˜è¦

> **å¿«é€Ÿå‚è€ƒ** - å®Œæ•´ç‰ˆè¯·è§ `å½“å‰è½¬æ¢æµç¨‹è¯´æ˜.md`

---

## ğŸ“Š 10æ­¥æµç¨‹

| æ­¥éª¤ | æ“ä½œ | å…³é”®ç‚¹ | æ–‡ä»¶/å‡½æ•° |
|------|------|--------|-----------|
| 1ï¸âƒ£ | **ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ + åˆ›å»ºæ–‡æ¡£** | ç«‹å³åˆ›å»º"processing"çŠ¶æ€çš„æ–‡æ¡£ | `firstproject.html` â†’ `handleUpload()` |
| 2ï¸âƒ£ | **æ£€æŸ¥Creditsä½™é¢** | éªŒè¯æ˜¯å¦è¶³å¤Ÿï¼Œä¸è¶³åˆ™åœæ­¢ | `credits-manager.js` â†’ `checkCredits()` |
| 3ï¸âƒ£ | **æ–‡ä»¶ç±»å‹åˆ¤æ–­** | æ£€æŸ¥æ˜¯å¦ä¸ºPDF | `pdfToImageConverter.isPDF()` |
| 4ï¸âƒ£ | **ä¸Šä¼ Firebase Storage** | PDFå…ˆè½¬å›¾ç‰‡ï¼ˆ300 DPIï¼‰ï¼Œå¹¶è¡Œä¸Šä¼  | `pdf-to-image-converter.js` |
| 5ï¸âƒ£ | **æ‰£é™¤Creditsï¼ˆçœŸæ­£æ‰£é™¤ï¼‰** | ä¸Šä¼ æˆåŠŸåï¼ŒæŒ‰å®é™…é¡µæ•°æ‰£é™¤ | `credits-manager.js` â†’ `deductCredits()` |
| 6ï¸âƒ£ | **è°ƒç”¨åƒé—®AI** | Base64 + Prompt â†’ APIï¼ˆ8-15ç§’ï¼‰ | `qwen-vl-max-processor.js` |
| 7ï¸âƒ£ | **è§£æAIå“åº”** | æ¸…ç†markdownï¼ŒéªŒè¯JSON | `parseJSON()` |
| 8ï¸âƒ£ | **å‰ç«¯åå¤„ç†** | ğŸ”¥ **å¡«å……ç©ºç™½æ—¥æœŸ**ï¼ˆæ ¸å¿ƒï¼‰ | `postProcessTransactions()` |
| 9ï¸âƒ£ | **ä¿å­˜åˆ°Firestore** | æ›´æ–°çŠ¶æ€ï¼šprocessing â†’ completed | `simple-data-manager.js` |
| ğŸ”Ÿ | **åˆ·æ–°UIæ˜¾ç¤º** | è¯»å–æ•°æ®ï¼Œæ¸²æŸ“è¡¨æ ¼ | `loadDocuments()` |

---

## ğŸ”‘ å…³é”®æœºåˆ¶

### Creditsä¸¤æ­¥å¤„ç†

```
æ­¥éª¤2ï¼šæ£€æŸ¥ä½™é¢ â”€â”€â”
                   â”œâ”€ ä¸ºä»€ä¹ˆåˆ†ä¸¤æ­¥ï¼Ÿ
æ­¥éª¤5ï¼šçœŸæ­£æ‰£é™¤ â”€â”€â”˜
```

**åŸå› ï¼š**
- âœ… é¿å…æå‰æ‰£è´¹ï¼ˆPDFè½¬æ¢å¯èƒ½å¤±è´¥ï¼‰
- âœ… æŒ‰å®é™…é¡µæ•°æ‰£è´¹ï¼ˆæ›´å‡†ç¡®ï¼‰
- âœ… å¤±è´¥æ—¶å¯é€€å›Credits

---

### å‰ç«¯åå¤„ç†ï¼ˆè§£å†³æ’ç”Ÿé“¶è¡Œé—®é¢˜ï¼‰

```
AIæå–ï¼š
[
  {date: "10 Mar", ...},
  {date: "",       ...},  â† ç©ºç™½
  {date: "",       ...}   â† ç©ºç™½
]

å‰ç«¯å¡«å……ï¼š
[
  {date: "10 Mar", ...},
  {date: "10 Mar", ...},  â† å·²å¡«å……
  {date: "10 Mar", ...}   â† å·²å¡«å……
]
```

**ç®—æ³•ï¼š**
```javascript
lastValidDate = null
for each transaction:
    if (dateä¸ºç©º):
        transaction.date = lastValidDate  // ä½¿ç”¨ä¸Šä¸€ç¬”
    else:
        lastValidDate = transaction.date  // æ›´æ–°
```

---

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | ä½œç”¨ |
|------|------|
| `firstproject.html` | ä¸»é¡µé¢ï¼Œå¤„ç†ä¸Šä¼ é˜Ÿåˆ— |
| `qwen-vl-max-processor.js` | AIå¤„ç† + å‰ç«¯åå¤„ç† |
| `credits-manager.js` | Creditsç®¡ç†ï¼ˆæ£€æŸ¥+æ‰£é™¤ï¼‰ |
| `pdf-to-image-converter.js` | PDFè½¬å›¾ç‰‡ï¼ˆ300 DPIï¼‰ |
| `simple-data-manager.js` | Firestoreæ•°æ®ç®¡ç† |

---

## ğŸ¯ ç”¨æˆ·ä½“éªŒäº®ç‚¹

1. **ç«‹å³åé¦ˆ** - ä¸Šä¼ åé©¬ä¸Šçœ‹åˆ°"å¤„ç†ä¸­"çŠ¶æ€
2. **Creditsä¿æŠ¤** - å…ˆæ£€æŸ¥ä½™é¢ï¼Œé¿å…æµªè´¹
3. **å¤±è´¥é‡è¯•** - å¤±è´¥æ—¶è‡ªåŠ¨é€€å›Credits
4. **é˜Ÿåˆ—å¤„ç†** - å¤šæ–‡ä»¶é¡ºåºå¤„ç†ï¼Œä¸é˜»å¡
5. **è¿›åº¦æç¤º** - æ¸…æ™°çš„å¤„ç†çŠ¶æ€å’Œè­¦å‘Š

---

**æœ€åæ›´æ–°ï¼š** 2026-02-03  
**ç‰ˆæœ¬ï¼š** 1.1
