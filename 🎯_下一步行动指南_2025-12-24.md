# ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨æŒ‡å—

## ğŸ‰ document-detail é¡µé¢å·²æ¢å¤æ­£å¸¸ï¼

---

## ğŸ“‹ å¾…è§£å†³çš„2ä¸ªé—®é¢˜

### é—®é¢˜1ï¼šåˆ é™¤åŠŸèƒ½æƒé™ä¸è¶³ âš ï¸

**é”™è¯¯**ï¼š`DeleteDocumentFailed: Missing or insufficient permissions.`

**åŸå› **ï¼šFirebase Security Rules æ²¡æœ‰é…ç½®åˆ é™¤æƒé™

**ä¿®å¤æ–¹æ¡ˆ**ï¼šæ›´æ–°Firebase Security Rulesï¼ˆ5åˆ†é’Ÿï¼‰

**è¯¦ç»†æŒ‡å—**ï¼šğŸ“„ `ğŸ”§_ä¿®å¤åˆ é™¤åŠŸèƒ½å’Œå¤šé¡µPDF_2025-12-24.md`

---

### é—®é¢˜2ï¼šå¤šé¡µPDFåªæå–ç¬¬ä¸€é¡µ âš ï¸

**ç°è±¡**ï¼šä¸Šä¼ å¤šé¡µPDFï¼Œåªæ˜¾ç¤ºç¬¬ä¸€é¡µæ•°æ®

**å¥½æ¶ˆæ¯**ï¼šâœ… ç³»ç»Ÿä»£ç å®Œå…¨æ”¯æŒå¤šé¡µå¤„ç†ï¼

**éœ€è¦è¯Šæ–­**ï¼šç¡®å®šæ˜¯å“ªä¸ªç¯èŠ‚å‡ºäº†é—®é¢˜

**è¯¦ç»†æŒ‡å—**ï¼šğŸ“„ `ğŸ‰_å¥½æ¶ˆæ¯_ç³»ç»Ÿå·²æ”¯æŒå¤šé¡µPDF_2025-12-24.md`

---

## ğŸš€ ç«‹å³è¡ŒåŠ¨è®¡åˆ’

### æ­¥éª¤1ï¼šä¿®å¤åˆ é™¤åŠŸèƒ½ï¼ˆ5åˆ†é’Ÿï¼‰â­

1. **æ‰“å¼€** [Firebase Console](https://console.firebase.google.com/)
2. **è¿›å…¥** Firestore Database â†’ è§„åˆ™
3. **å¤åˆ¶ä»¥ä¸‹è§„åˆ™**ï¼š

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // é¡¹ç›®é›†åˆ
    match /projects/{projectId} {
      allow read, create, update: if request.auth != null 
        && request.auth.uid == resource.data.userId;
      
      // âœ… æ·»åŠ åˆ é™¤æƒé™
      allow delete: if request.auth != null 
        && request.auth.uid == resource.data.userId;
      
      // æ–‡æ¡£å­é›†åˆ
      match /documents/{documentId} {
        allow read, create, update: if request.auth != null 
          && request.auth.uid == get(/databases/$(database)/documents/projects/$(projectId)).data.userId;
        
        // âœ… æ·»åŠ åˆ é™¤æƒé™
        allow delete: if request.auth != null 
          && request.auth.uid == get(/databases/$(database)/documents/projects/$(projectId)).data.userId;
      }
    }
    
    // ç”¨æˆ·é›†åˆ
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
```

4. **ç‚¹å‡»** å‘å¸ƒ
5. **æµ‹è¯•** åˆ é™¤åŠŸèƒ½

---

### æ­¥éª¤2ï¼šæµ‹è¯•å¤šé¡µPDFï¼ˆ10åˆ†é’Ÿï¼‰â­

#### A. ä¸Šä¼ æ–°çš„æµ‹è¯•PDF

1. **å‡†å¤‡** ä¸€ä¸ª2-3é¡µçš„é“¶è¡Œå¯¹è´¦å•PDF
2. **æ‰“å¼€** Dashboard
3. **é€‰æ‹©æ–‡æ¡£ç±»å‹**ï¼šâš ï¸ **ä¸€å®šè¦é€‰ "Bank Statement"**
4. **ä¸Šä¼ ** PDF
5. **æ‰“å¼€æµè§ˆå™¨Console**ï¼ˆF12ï¼‰
6. **è§‚å¯Ÿæ—¥å¿—**ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
   ```
   ğŸ“„ æª¢æ¸¬åˆ° PDF æ–‡ä»¶ï¼Œé–‹å§‹è½‰æ›ç‚ºåœ–ç‰‡...
   âœ… PDF è½‰æ›å®Œæˆï¼Œç”Ÿæˆ X å¼µåœ–ç‰‡
   ğŸ“„ å°‡è™•ç†æ‰€æœ‰ X é 
   ```

#### B. æ£€æŸ¥Firebaseæ•°æ®

1. **æ‰“å¼€** Firebase Console â†’ Firestore
2. **æ‰¾åˆ°** åˆšä¸Šä¼ çš„æ–‡æ¡£
3. **æ£€æŸ¥è¿™äº›å­—æ®µ**ï¼š
   - `documentType`ï¼šåº”è¯¥æ˜¯ `bank_statement`
   - `pages`ï¼šåº”è¯¥æ˜¯å®é™…é¡µæ•°ï¼ˆå¦‚3ï¼‰
   - `imageUrls`ï¼šåº”è¯¥æ˜¯æ•°ç»„ï¼Œæœ‰å¤šä¸ªURL
   - `extractedData.transactions`ï¼šåº”è¯¥æœ‰å¤šæ¡è®°å½•

#### C. æä¾›æˆªå›¾ ğŸ“¸

**è¯·æˆªå›¾å¹¶å‘ç»™æˆ‘**ï¼š
1. ä¸Šä¼ æ—¶çš„Consoleæ—¥å¿—ï¼ˆå®Œæ•´çš„ï¼‰
2. Firebaseä¸­è¯¥æ–‡æ¡£çš„å­—æ®µæ•°æ®
3. document-detailé¡µé¢æ˜¾ç¤ºçš„å†…å®¹

---

## ğŸ“¸ éœ€è¦çš„3å¼ æˆªå›¾

| # | æˆªå›¾å†…å®¹ | ç”¨é€” |
|---|---------|------|
| 1 | Consoleæ—¥å¿—ï¼ˆä¸Šä¼ è¿‡ç¨‹ï¼‰ | ç¡®è®¤PDFè½¬æ¢æ˜¯å¦æˆåŠŸ |
| 2 | Firebaseæ–‡æ¡£å­—æ®µ | ç¡®è®¤æ•°æ®æ˜¯å¦æ­£ç¡®å­˜å‚¨ |
| 3 | document-detailæ˜¾ç¤ºç»“æœ | ç¡®è®¤æ˜¾ç¤ºé€»è¾‘æ˜¯å¦æ­£ç¡® |

---

## â±ï¸ æ—¶é—´å®‰æ’

| ä»»åŠ¡ | æ—¶é—´ | çŠ¶æ€ |
|------|------|------|
| æ­¥éª¤1ï¼šä¿®å¤åˆ é™¤åŠŸèƒ½ | 5åˆ†é’Ÿ | â³ å¾…æ‰§è¡Œ |
| æ­¥éª¤2Aï¼šä¸Šä¼ æµ‹è¯•PDF | 3åˆ†é’Ÿ | â³ å¾…æ‰§è¡Œ |
| æ­¥éª¤2Bï¼šæ£€æŸ¥Firebase | 2åˆ†é’Ÿ | â³ å¾…æ‰§è¡Œ |
| æ­¥éª¤2Cï¼šæä¾›æˆªå›¾ | 5åˆ†é’Ÿ | â³ å¾…æ‰§è¡Œ |
| **æ€»è®¡** | **15åˆ†é’Ÿ** | |

---

## ğŸ¯ ä¸‹ä¸€æ­¥

**è¯·æŒ‰é¡ºåºæ‰§è¡Œä¸Šè¿°æ­¥éª¤ï¼Œç„¶åå°†3å¼ æˆªå›¾å‘ç»™æˆ‘ï¼**

æˆ‘ä¼šæ ¹æ®æˆªå›¾ä¸­çš„å®é™…æƒ…å†µï¼Œæä¾›ç²¾ç¡®çš„ä¿®å¤æ–¹æ¡ˆï¼

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

| æ–‡æ¡£ | ç”¨é€” |
|------|------|
| `ğŸ”§_ä¿®å¤åˆ é™¤åŠŸèƒ½å’Œå¤šé¡µPDF_2025-12-24.md` | åˆ é™¤åŠŸèƒ½è¯¦ç»†ä¿®å¤æ–¹æ¡ˆ |
| `ğŸ‰_å¥½æ¶ˆæ¯_ç³»ç»Ÿå·²æ”¯æŒå¤šé¡µPDF_2025-12-24.md` | å¤šé¡µPDFå®Œæ•´è¯Šæ–­æŒ‡å— |
| `âœ…_å›é€€å®Œæˆ_ç«‹å³ä¸Šä¼ _2025-12-24.md` | å›é€€æ“ä½œå®ŒæˆæŠ¥å‘Š |
| `ğŸ¯_å¿«é€Ÿä¸Šä¼ æŒ‡å—_2025-12-24.md` | å¿«é€Ÿä¸Šä¼ æŒ‡å— |

---

**æˆ‘åœ¨ç­‰æ‚¨çš„æˆªå›¾å’Œæµ‹è¯•ç»“æœï¼** ğŸ¤ğŸ“¸

---

*åˆ›å»ºæ—¶é—´ï¼š2025å¹´12æœˆ24æ—¥*  
*é¢„è®¡å®Œæˆæ—¶é—´ï¼š15åˆ†é’Ÿ*  
*çŠ¶æ€ï¼šç­‰å¾…ç”¨æˆ·æ‰§è¡Œæµ‹è¯•*

