# ğŸš¨ **ç·Šæ€¥ä¿®å¾©ï¼šç«‹å³æ›´æ–° Cloudflare Worker**

## âŒ **ç•¶å‰å•é¡Œ**
Cloudflare Worker ä½¿ç”¨çš„æ˜¯**èˆŠä»£ç¢¼**ï¼Œå°è‡´æŒçºŒ 404 éŒ¯èª¤ã€‚

---

## âœ… **3 æ­¥é©Ÿä¿®å¾©ï¼ˆ5 åˆ†é˜å®Œæˆï¼‰**

### **Step 1: è¤‡è£½ä»£ç¢¼**

1. æ‰“é–‹æœ¬åœ°æ–‡ä»¶ï¼š`cloudflare-worker-gemini.js`
2. **å…¨é¸**ï¼ˆCmd+Aï¼‰
3. **è¤‡è£½**ï¼ˆCmd+Cï¼‰

---

### **Step 2: è¨ªå• Cloudflare**

æ‰“é–‹ç€è¦½å™¨ï¼Œè¨ªå•ï¼š
```
https://dash.cloudflare.com/6748a0e547bac4008c90c8005f437648/workers/services/edit/gemini-proxy/production
```

ï¼ˆé€™å€‹æ¨™ç±¤æ‡‰è©²å·²ç¶“æ‰“é–‹äº†ï¼‰

---

### **Step 3: éƒ¨ç½²æ–°ä»£ç¢¼**

åœ¨ Cloudflare ç·¨è¼¯å™¨ä¸­ï¼š

1. **å…¨é¸ç¾æœ‰ä»£ç¢¼**ï¼ˆCmd+Aï¼‰
2. **åˆªé™¤**ï¼ˆDeleteï¼‰
3. **ç²˜è²¼æ–°ä»£ç¢¼**ï¼ˆCmd+Vï¼‰
4. **æ‰¾åˆ°å³ä¸Šè§’çš„ "Save and Deploy" æŒ‰éˆ•**
5. **é»æ“Šéƒ¨ç½²**
6. **ç­‰å¾… 3-5 ç§’**ï¼Œç›´åˆ°çœ‹åˆ° "Successfully deployed" æ¶ˆæ¯

---

## ğŸ” **å¦‚ä½•ç¢ºèªå·²éƒ¨ç½²æˆåŠŸï¼Ÿ**

éƒ¨ç½²å¾Œï¼Œåœ¨çµ‚ç«¯åŸ·è¡Œï¼š

```bash
curl -X POST https://gemini-proxy.vaultcaddy.workers.dev \
  -H "Content-Type: application/json" \
  -d '{"contents":[{"parts":[{"text":"test"}]}]}'
```

**é æœŸéŸ¿æ‡‰**ï¼š
- âŒ å¦‚æœé‚„æ˜¯ 404ï¼šä»£ç¢¼æ²’æœ‰æ›´æ–°æˆåŠŸï¼Œé‡è©¦ Step 3
- âœ… å¦‚æœæ˜¯å…¶ä»–éŒ¯èª¤ï¼ˆå¦‚ 400ï¼‰ï¼šä»£ç¢¼å·²æ›´æ–°ï¼Œå¯ä»¥æ¸¬è©¦ä¸Šå‚³äº†

---

## ğŸ“ **é—œéµæª¢æŸ¥é»**

éƒ¨ç½²æ–°ä»£ç¢¼å¾Œï¼Œç¬¬ 9 è¡Œæ‡‰è©²æ˜¯ï¼š
```javascript
const GEMINI_API_ENDPOINT = 'https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent';
```

**ç¢ºèªè¦é»**ï¼š
- âœ… `v1`ï¼ˆä¸æ˜¯ `v1beta`ï¼‰
- âœ… `gemini-1.5-flash`ï¼ˆä¸æ˜¯ `gemini-1.5-flash-latest`ï¼‰
- âœ… `:generateContent`ï¼ˆä¸è¦æ¼æ‰ï¼‰

---

## ğŸš€ **éƒ¨ç½²å¾Œæ¸¬è©¦**

1. **æ¸…é™¤ç€è¦½å™¨ç·©å­˜**ï¼ˆCmd+Shift+Deleteï¼‰
2. **è¨ªå•**ï¼š`https://vaultcaddy.com/firstproject.html`
3. **æ‰“é–‹ Console**ï¼ˆCmd+Option+Iï¼‰
4. **ä¸Šå‚³æ¸¬è©¦ç™¼ç¥¨**
5. **è§€å¯Ÿè¼¸å‡º**

**é æœŸæˆåŠŸè¼¸å‡º**ï¼š
```
âœ… geminiAI è™•ç†æˆåŠŸ
   è€—æ™‚: 3000-5000ms
ğŸ“Š æå–çš„ç™¼ç¥¨æ•¸æ“š: {...}
```

---

## âš ï¸ **å¸¸è¦‹éŒ¯èª¤**

### **éŒ¯èª¤ 1: éƒ¨ç½²æŒ‰éˆ•æ‰¾ä¸åˆ°**
- å¯èƒ½æ–‡å­—æ˜¯ "Deploy"ã€"Save"ã€"Save and Deploy"
- é€šå¸¸åœ¨å³ä¸Šè§’ï¼Œå¯èƒ½æ˜¯è—è‰²æˆ–ç¶ è‰²æŒ‰éˆ•

### **éŒ¯èª¤ 2: éƒ¨ç½²å¾Œé‚„æ˜¯ 404**
- ç­‰å¾… 10-30 ç§’è®“ Cloudflare CDN æ›´æ–°
- æ¸…é™¤ç€è¦½å™¨ç·©å­˜
- é‡æ–°æ¸¬è©¦

### **éŒ¯èª¤ 3: 403 Forbidden**
- ç¢ºèª Google Cloud API Key é™åˆ¶å·²è¨­ç‚º "ç„¡"
- ç­‰å¾… 5-10 åˆ†é˜

---

## ğŸ“ **å¦‚æœé‚„æ˜¯ä¸è¡Œ**

è«‹æä¾›ï¼š
1. Cloudflare ç·¨è¼¯å™¨ç¬¬ 9 è¡Œçš„æˆªåœ–
2. éƒ¨ç½²æˆåŠŸçš„æˆªåœ–
3. æœ€æ–°çš„ Console éŒ¯èª¤æˆªåœ–

---

**ç¾åœ¨å°±å»éƒ¨ç½²å§ï¼** ğŸš€
