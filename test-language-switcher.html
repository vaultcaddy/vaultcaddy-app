<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Switcher Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        .test-section {
            margin: 2rem 0;
            padding: 1.5rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            background: #f9fafb;
        }
        h2 {
            color: #1f2937;
            margin-top: 0;
        }
        .status {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            margin: 1rem 0;
            font-weight: 500;
        }
        .status.success {
            background: #d1fae5;
            color: #065f46;
        }
        .status.error {
            background: #fee2e2;
            color: #991b1b;
        }
        #language-switcher {
            margin: 1rem 0;
        }
    </style>
    <script defer src="multilingual-data-sync.js"></script>
</head>
<body>
    <h1>üåê Language Switcher Test Page</h1>
    
    <div class="test-section">
        <h2>Test 1: Script Loading</h2>
        <div id="script-status" class="status">Checking...</div>
    </div>
    
    <div class="test-section">
        <h2>Test 2: Language Switcher Container</h2>
        <div id="language-switcher" style="display: inline-block; margin-right: 1rem;"></div>
        <div id="container-status" class="status">Checking...</div>
    </div>
    
    <div class="test-section">
        <h2>Test 3: MultilingualSync Object</h2>
        <div id="object-status" class="status">Checking...</div>
    </div>
    
    <div class="test-section">
        <h2>Test 4: Language Detection</h2>
        <div id="detection-status" class="status">Checking...</div>
    </div>
    
    <script>
        // Wait for everything to load
        window.addEventListener('load', () => {
            setTimeout(() => {
                // Test 1: Script Loading
                const scriptStatus = document.getElementById('script-status');
                if (typeof window.multilingualSync !== 'undefined') {
                    scriptStatus.className = 'status success';
                    scriptStatus.textContent = '‚úÖ multilingual-data-sync.js loaded successfully';
                } else {
                    scriptStatus.className = 'status error';
                    scriptStatus.textContent = '‚ùå multilingual-data-sync.js failed to load';
                }
                
                // Test 2: Language Switcher Container
                const containerStatus = document.getElementById('container-status');
                const switcher = document.getElementById('language-switcher');
                if (switcher && switcher.innerHTML.trim() !== '') {
                    containerStatus.className = 'status success';
                    containerStatus.textContent = '‚úÖ Language switcher rendered successfully';
                } else {
                    containerStatus.className = 'status error';
                    containerStatus.textContent = '‚ùå Language switcher is empty';
                }
                
                // Test 3: MultilingualSync Object
                const objectStatus = document.getElementById('object-status');
                if (window.multilingualSync && typeof window.multilingualSync.initialize === 'function') {
                    objectStatus.className = 'status success';
                    objectStatus.textContent = '‚úÖ MultilingualSync object is available';
                } else {
                    objectStatus.className = 'status error';
                    objectStatus.textContent = '‚ùå MultilingualSync object is not available';
                }
                
                // Test 4: Language Detection
                const detectionStatus = document.getElementById('detection-status');
                if (window.multilingualSync && window.multilingualSync.currentLang) {
                    detectionStatus.className = 'status success';
                    detectionStatus.textContent = `‚úÖ Current language detected: ${window.multilingualSync.currentLang}`;
                } else {
                    detectionStatus.className = 'status error';
                    detectionStatus.textContent = '‚ùå Language detection failed';
                }
                
                console.log('üß™ Test Results:', {
                    scriptLoaded: typeof window.multilingualSync !== 'undefined',
                    switcherRendered: switcher && switcher.innerHTML.trim() !== '',
                    objectAvailable: window.multilingualSync && typeof window.multilingualSync.initialize === 'function',
                    currentLang: window.multilingualSync ? window.multilingualSync.currentLang : 'N/A'
                });
            }, 500);
        });
    </script>
</body>
</html>

