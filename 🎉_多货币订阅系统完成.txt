# ğŸ‰ å¤šè´§å¸è®¢é˜…ç³»ç»Ÿé…ç½®å®Œæˆï¼

## âœ… **å·²å®Œæˆçš„é…ç½®**

### **1. Stripe äº§å“å’Œä»·æ ¼**ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰âœ…

#### **æœˆè´¹äº§å“**
- **äº§å“åç§°**: `VaultCaddy Monthly`
- **äº§å“ ID**: `prod_Taz6oB3E5jx8cX`
- **å›ºå®šä»·æ ¼ ID**: `price_1Sdn7oJmiQ31C0GT8BSefS3u`
- **æŒ‰é‡ä»·æ ¼ ID**: `price_1Sdn7pJmiQ31C0GTTK1yVopH`

**æ”¯æŒçš„è´§å¸å’Œä»·æ ¼**ï¼š
| è´§å¸ | æœˆè´¹ | è¶…é¢ä»·æ ¼ï¼ˆ101+ Creditsï¼‰|
|------|------|----------------------|
| HKDï¼ˆæ¸¯å¸ï¼‰ | HK$58.00 | HK$0.50/ä¸ª |
| USDï¼ˆç¾å…ƒï¼‰ | $7.48 | $0.07/ä¸ª |
| GBPï¼ˆè‹±é•‘ï¼‰ | Â£5.58 | Â£0.05/ä¸ª |
| JPYï¼ˆæ—¥å…ƒï¼‰ | Â¥1,158 | Â¥10/ä¸ª |
| KRWï¼ˆéŸ©å…ƒï¼‰ | â‚©10,888 | â‚©94/ä¸ª |
| EURï¼ˆæ¬§å…ƒï¼‰ | â‚¬6.28 | â‚¬0.05/ä¸ª |

---

#### **å¹´è´¹äº§å“**ï¼ˆèŠ‚çœ 20%ï¼‰
- **äº§å“åç§°**: `VaultCaddy Yearly`
- **äº§å“ ID**: `prod_Taz65Ym3vP2Cwx`
- **å›ºå®šä»·æ ¼ ID**: `price_1Sdn7qJmiQ31C0GT57jbZfIg`
- **æŒ‰é‡ä»·æ ¼ ID**: `price_1Sdn7qJmiQ31C0GTwJVp4q4Q`

**æ”¯æŒçš„è´§å¸å’Œä»·æ ¼**ï¼š
| è´§å¸ | å¹´è´¹ | è¶…é¢ä»·æ ¼ï¼ˆ1201+ Creditsï¼‰|
|------|------|----------------------|
| HKD | HK$557.00 | HK$0.50/ä¸ª |
| USD | $71.81 | $0.07/ä¸ª |
| GBP | Â£53.57 | Â£0.05/ä¸ª |
| JPY | Â¥11,117 | Â¥10/ä¸ª |
| KRW | â‚©104,525 | â‚©94/ä¸ª |
| EUR | â‚¬60.29 | â‚¬0.05/ä¸ª |

---

### **2. Firebase Functions å·²æ›´æ–°** âœ…

- âœ… æ›´æ–° `createStripeCheckoutSession` å‡½æ•°
- âœ… ä½¿ç”¨æ–°çš„æµ‹è¯•æ¨¡å¼ Price IDs
- âœ… æ”¯æŒæœˆè´¹å’Œå¹´è´¹æµ‹è¯•
- âœ… ç§»é™¤ metered price çš„ quantity å‚æ•°

---

### **3. billing.html å·²æ›´æ–°** âœ…

- âœ… å¯ç”¨å¹´è´¹æµ‹è¯•æŒ‰é’®
- âœ… æœˆè´¹å’Œå¹´è´¹éƒ½å¯ä»¥æµ‹è¯•
- âœ… æ”¯æŒå¤šè´§å¸ï¼ˆStripe è‡ªåŠ¨æ˜¾ç¤ºï¼‰

---

### **4. å·²éƒ¨ç½²åˆ°çº¿ä¸Š** âœ…

- âœ… Firebase Functions å·²éƒ¨ç½²
- âœ… Hosting å·²éƒ¨ç½²
- âœ… ç½‘ç«™ URL: https://vaultcaddy.com/billing.html

---

## ğŸŒ **å¤šè¯­è¨€æ”¯æŒè¯´æ˜**

### **Stripe å¤šè¯­è¨€æ”¯æŒçš„å·¥ä½œåŸç†**ï¼š

#### **1. äº§å“åç§°**
- Stripe ä¸­ï¼šè‹±æ–‡åç§°ï¼ˆ`VaultCaddy Monthly`ï¼‰
- å‰ç«¯æ˜¾ç¤ºï¼šæ ¹æ®ç”¨æˆ·è¯­è¨€ç¿»è¯‘
  - ä¸­æ–‡ï¼š`VaultCaddy æœˆè´¹`
  - è‹±æ–‡ï¼š`VaultCaddy Monthly`
  - æ—¥æ–‡ï¼š`VaultCaddy æœˆé¡`
  - éŸ©æ–‡ï¼š`VaultCaddy ì›”ê°„`

#### **2. Checkout é¡µé¢**
- Stripe è‡ªåŠ¨æ ¹æ®ç”¨æˆ·æµè§ˆå™¨è¯­è¨€æ˜¾ç¤ºç•Œé¢
- æ”¯æŒ 40+ ç§è¯­è¨€

#### **3. è´§å¸æ˜¾ç¤º**
- Stripe æ ¹æ®ç”¨æˆ·ä½ç½®/æµè§ˆå™¨è‡ªåŠ¨é€‰æ‹©è´§å¸
- ç”¨æˆ·å¯ä»¥åœ¨ Checkout é¡µé¢æ‰‹åŠ¨åˆ‡æ¢è´§å¸
- æ‰€æœ‰ä»·æ ¼éƒ½æ˜¯æ•´æ•°

---

## ğŸ¯ **ç”¨æˆ·ä½“éªŒç¤ºä¾‹**

### **é¦™æ¸¯ç”¨æˆ·**ï¼š
```
æµè§ˆå™¨è¯­è¨€ï¼šä¸­æ–‡ï¼ˆç¹ä½“ï¼‰
è‡ªåŠ¨æ˜¾ç¤ºè´§å¸ï¼šHKD

çœ‹åˆ°çš„å†…å®¹ï¼š
- äº§å“åç§°ï¼šVaultCaddy æœˆè´¹ï¼ˆå‰ç«¯ç¿»è¯‘ï¼‰
- ä»·æ ¼ï¼šHK$58/æœˆ
- Checkout é¡µé¢ï¼šä¸­æ–‡ç•Œé¢
```

### **ç¾å›½ç”¨æˆ·**ï¼š
```
æµè§ˆå™¨è¯­è¨€ï¼šè‹±æ–‡
è‡ªåŠ¨æ˜¾ç¤ºè´§å¸ï¼šUSD

çœ‹åˆ°çš„å†…å®¹ï¼š
- äº§å“åç§°ï¼šVaultCaddy Monthly
- ä»·æ ¼ï¼š$7.48/month
- Checkout é¡µé¢ï¼šè‹±æ–‡ç•Œé¢
```

### **æ—¥æœ¬ç”¨æˆ·**ï¼š
```
æµè§ˆå™¨è¯­è¨€ï¼šæ—¥æ–‡
è‡ªåŠ¨æ˜¾ç¤ºè´§å¸ï¼šJPY

çœ‹åˆ°çš„å†…å®¹ï¼š
- äº§å“åç§°ï¼šVaultCaddy æœˆé¡ï¼ˆå‰ç«¯ç¿»è¯‘ï¼‰
- ä»·æ ¼ï¼šÂ¥1,158/æœˆ
- Checkout é¡µé¢ï¼šæ—¥æ–‡ç•Œé¢
```

### **éŸ©å›½ç”¨æˆ·**ï¼š
```
æµè§ˆå™¨è¯­è¨€ï¼šéŸ©æ–‡
è‡ªåŠ¨æ˜¾ç¤ºè´§å¸ï¼šKRW

çœ‹åˆ°çš„å†…å®¹ï¼š
- äº§å“åç§°ï¼šVaultCaddy ì›”ê°„ï¼ˆå‰ç«¯ç¿»è¯‘ï¼‰
- ä»·æ ¼ï¼šâ‚©10,888/ì›”
- Checkout é¡µé¢ï¼šéŸ©æ–‡ç•Œé¢
```

---

## ğŸ§ª **ç«‹å³æµ‹è¯•**

### **æµ‹è¯• 1ï¼šæœˆè´¹è®¢é˜…**

1. è®¿é—®ï¼šhttps://vaultcaddy.com/billing.html

2. ç‚¹å‡»æœˆè´¹çš„ **"ğŸ§ª æ¸¬è©¦ Get Started"** æŒ‰é’®

3. åœ¨ Stripe Checkout é¡µé¢ï¼š
   - æŸ¥çœ‹æ˜¾ç¤ºçš„è´§å¸ï¼ˆåº”è¯¥æ ¹æ®æ‚¨çš„ä½ç½®è‡ªåŠ¨é€‰æ‹©ï¼‰
   - å°è¯•åˆ‡æ¢è´§å¸
   - å®Œæˆæ”¯ä»˜

4. éªŒè¯ï¼š
   - Firestore ä¸­è·å¾— 100 Credits
   - planType ä¸º "Pro Plan"
   - resetDate ä¸º 1 ä¸ªæœˆå

---

### **æµ‹è¯• 2ï¼šå¹´è´¹è®¢é˜…**

1. ç‚¹å‡»å¹´è´¹çš„ **"ğŸ§ª æ¸¬è©¦ Get Started"** æŒ‰é’®

2. åœ¨ Stripe Checkout é¡µé¢ï¼š
   - æŸ¥çœ‹ä»·æ ¼ï¼ˆåº”è¯¥æ˜¾ç¤ºå¹´è´¹ä»·æ ¼ï¼‰
   - å°è¯•åˆ‡æ¢è´§å¸
   - å®Œæˆæ”¯ä»˜

3. éªŒè¯ï¼š
   - Firestore ä¸­è·å¾— 1,200 Credits
   - planType ä¸º "Pro Plan"
   - resetDate ä¸º 1 å¹´å

---

### **æµ‹è¯• 3ï¼šæŒ‰é‡è®¡è´¹**

1. å°†ç”¨æˆ· Credits è®¾ä¸º 5

2. ä½¿ç”¨ 6 æ¬¡ï¼ˆè§¦å‘è¶…é¢ï¼‰

3. éªŒè¯ï¼š
   - Credits å˜ä¸º -1
   - Stripe Dashboard æ˜¾ç¤ºä½¿ç”¨é‡
   - å³å°†åˆ°æ¥çš„å‘ç¥¨æ˜¾ç¤ºè¶…é¢è´¹ç”¨

---

## ğŸŒ **å‰ç«¯å¤šè¯­è¨€æ˜¾ç¤ºï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰**

å¦‚æœæ‚¨æƒ³åœ¨å‰ç«¯æ ¹æ®ç”¨æˆ·è¯­è¨€æ˜¾ç¤ºä¸åŒçš„äº§å“åç§°ï¼Œå¯ä»¥æ·»åŠ ï¼š

```javascript
// billing.html ä¸­æ·»åŠ 
const PRODUCT_NAMES = {
    monthly: {
        'zh-TW': 'VaultCaddy æœˆè´¹',
        'zh-CN': 'VaultCaddy æœˆè´¹',
        'en': 'VaultCaddy Monthly',
        'ja': 'VaultCaddy æœˆé¡',
        'ko': 'VaultCaddy ì›”ê°„',
        'default': 'VaultCaddy Monthly'
    },
    yearly: {
        'zh-TW': 'VaultCaddy å¹´è´¹',
        'zh-CN': 'VaultCaddy å¹´è´¹',
        'en': 'VaultCaddy Yearly',
        'ja': 'VaultCaddy å¹´é¡',
        'ko': 'VaultCaddy ì—°ê°„',
        'default': 'VaultCaddy Yearly'
    }
};

// è·å–ç”¨æˆ·è¯­è¨€
const userLang = navigator.language || 'en';
const productName = PRODUCT_NAMES.monthly[userLang] || PRODUCT_NAMES.monthly.default;
```

---

## ğŸš€ **ä¸ºç”Ÿäº§æ¨¡å¼é…ç½®ï¼ˆçœŸå®çš„ Get Startedï¼‰**

æµ‹è¯•å®Œæˆåï¼Œä¸ºç”Ÿäº§æ¨¡å¼åˆ›å»ºç›¸åŒçš„é…ç½®ï¼š

### **æ­¥éª¤ 1ï¼šè·å–ç”Ÿäº§æ¨¡å¼å¯†é’¥**

1. åœ¨ Stripe Dashboard å³ä¸Šè§’ï¼Œå…³é—­ "æµ‹è¯•æ¨¡å¼"
2. å‰å¾€ï¼šhttps://dashboard.stripe.com/apikeys
3. å¤åˆ¶ç”Ÿäº§æ¨¡å¼çš„ Secret keyï¼ˆä»¥ `sk_live_` å¼€å¤´ï¼‰

---

### **æ­¥éª¤ 2ï¼šè¿è¡Œè„šæœ¬**

```bash
cd /Users/cavlinyeung/ai-bank-parser
node setup-multi-currency.js <ç”Ÿäº§æ¨¡å¼å¯†é’¥>
```

è¿™ä¼šåˆ›å»ºï¼š
- âœ… ç”Ÿäº§æ¨¡å¼çš„æœˆè´¹å’Œå¹´è´¹äº§å“
- âœ… æ”¯æŒç›¸åŒçš„ 6 ç§è´§å¸
- âœ… ç›¸åŒçš„ä»·æ ¼é…ç½®
- âœ… ä¿å­˜é…ç½®åˆ° `stripe-config-live.json`

---

### **æ­¥éª¤ 3ï¼šæ›´æ–°ç”Ÿäº§æ¨¡å¼ Price IDs**

åœ¨ `firebase-functions/index.js` ä¸­æ›´æ–°ï¼š

```javascript
const productionPriceMapping = {
    monthly: {
        basePriceId: '<ç”Ÿäº§æ¨¡å¼æœˆè´¹å›ºå®šä»·æ ¼ID>',
        usagePriceId: '<ç”Ÿäº§æ¨¡å¼æœˆè´¹æŒ‰é‡ä»·æ ¼ID>'
    },
    yearly: {
        basePriceId: '<ç”Ÿäº§æ¨¡å¼å¹´è´¹å›ºå®šä»·æ ¼ID>',
        usagePriceId: '<ç”Ÿäº§æ¨¡å¼å¹´è´¹æŒ‰é‡ä»·æ ¼ID>'
    }
};
```

---

### **æ­¥éª¤ 4ï¼šæ›´æ–°ç”Ÿäº§æ¨¡å¼ Webhook**

1. å‰å¾€ï¼šhttps://dashboard.stripe.com/webhooks
2. ç¡®è®¤ç›‘å¬ 5 ä¸ªäº‹ä»¶ï¼š
   - checkout.session.completed
   - customer.subscription.created
   - customer.subscription.updated
   - customer.subscription.deleted
   - invoice.paid

---

## ğŸ“Š **å®Œæ•´åŠŸèƒ½åˆ—è¡¨**

### **âœ… å·²å®ç°çš„åŠŸèƒ½**ï¼š

1. âœ… **å¤šè´§å¸æ”¯æŒ**
   - 6 ç§è´§å¸ï¼ˆHKD, USD, GBP, JPY, KRW, EURï¼‰
   - æ‰€æœ‰ä»·æ ¼éƒ½æ˜¯æ•´æ•°
   - Stripe è‡ªåŠ¨è´§å¸é€‰æ‹©

2. âœ… **æœˆè´¹å’Œå¹´è´¹é€‰é¡¹**
   - æœˆè´¹ï¼š100 Credits/æœˆ
   - å¹´è´¹ï¼š1,200 Credits/å¹´ï¼ˆèŠ‚çœ 20%ï¼‰

3. âœ… **æŒ‰é‡è®¡è´¹**
   - å‰ 100/1200 Creditsï¼šåŒ…å«åœ¨è®¢é˜…ä¸­
   - è¶…é¢ Creditsï¼šè‡ªåŠ¨æŒ‰é‡æ”¶è´¹

4. âœ… **ç»­è´¹è‡ªåŠ¨æ¸…é›¶**
   - åˆ°æœŸæ—¶è‡ªåŠ¨æ¸…é›¶æ—§ Credits
   - æ·»åŠ æ–°çš„ Credits
   - æ›´æ–° resetDate

5. âœ… **å¤šè¯­è¨€ç•Œé¢**
   - Stripe Checkout è‡ªåŠ¨å¤šè¯­è¨€
   - æ”¯æŒ 40+ ç§è¯­è¨€

6. âœ… **æµ‹è¯•æ¨¡å¼**
   - æœˆè´¹å’Œå¹´è´¹éƒ½å¯ä»¥æµ‹è¯•
   - æµ‹è¯•å¡å·ï¼š4242 4242 4242 4242

---

## ğŸ¯ **ä¸‹ä¸€æ­¥**

1. âœ… **æµ‹è¯•æ‰€æœ‰åŠŸèƒ½**
   - æµ‹è¯•æœˆè´¹è®¢é˜…
   - æµ‹è¯•å¹´è´¹è®¢é˜…
   - æµ‹è¯•æŒ‰é‡è®¡è´¹
   - æµ‹è¯•ç»­è´¹æ¸…é›¶
   - æµ‹è¯•å¤šè´§å¸æ˜¾ç¤º

2. âœ… **ç¡®è®¤ä¸€åˆ‡æ­£å¸¸åï¼Œé…ç½®ç”Ÿäº§æ¨¡å¼**
   - è¿è¡Œè„šæœ¬åˆ›å»ºç”Ÿäº§äº§å“
   - æ›´æ–° Firebase Functions
   - éƒ¨ç½²åˆ°çº¿ä¸Š

3. âœ… **å½’æ¡£æ—§äº§å“**
   - åœ¨ Stripe Dashboard ä¸­å½’æ¡£æ—§äº§å“
   - ç¡®ä¿ç°æœ‰ç”¨æˆ·ä¸å—å½±å“

---

## ğŸŠ **æ­å–œï¼**

æ‚¨ç°åœ¨æœ‰äº†ä¸€ä¸ª**å®Œæ•´çš„å›½é™…åŒ–è®¢é˜…ç³»ç»Ÿ**ï¼š

- âœ… æ”¯æŒ 6 ç§è´§å¸
- âœ… è‡ªåŠ¨è´§å¸é€‰æ‹©å’Œè½¬æ¢
- âœ… å¤šè¯­è¨€ç•Œé¢
- âœ… æœˆè´¹å’Œå¹´è´¹é€‰é¡¹
- âœ… æŒ‰é‡è®¡è´¹
- âœ… è‡ªåŠ¨ç»­è´¹å’Œæ¸…é›¶
- âœ… æ‰€æœ‰ä»·æ ¼éƒ½æ˜¯æ•´æ•°

**ç«‹å³è®¿é—® https://vaultcaddy.com/billing.html æµ‹è¯•ï¼** ğŸš€

