# âœ… è®¢é˜…å–æ¶ˆå¤„ç†å®Œæ•´è¯´æ˜

## ğŸ¯ **ç”¨æˆ·ä¸­æ–­ç»­è´¹çš„å®Œæ•´æµç¨‹**

---

## ğŸ“‹ **åœºæ™¯ 1ï¼šæ— è¶…é¢ä½¿ç”¨ + å–æ¶ˆè®¢é˜…**

### **æ—¶é—´çº¿**ï¼š

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“… 2025å¹´12æœˆ13æ—¥ï¼šè®¢é˜…å¹´è´¹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… æ”¯ä»˜ï¼šHK$552.00
âœ… è·å¾—ï¼š1,200 Credits

Firestore:
  credits: 1200
  totalCreditsUsed: 0
  includedCredits: 1200
  planType: "Pro Plan"
  subscription: {
    stripeSubscriptionId: "sub_xxx",
    meteredSubscriptionItemId: "si_xxx",
    currentPeriodEnd: 2026-12-13
  }

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“… 2025å¹´12æœˆ - 2026å¹´6æœˆï¼šæ­£å¸¸ä½¿ç”¨
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç”¨æˆ·ä½¿ç”¨äº† 500 ä¸ª Credits

Firestore:
  credits: 700 â† å‰©ä½™
  totalCreditsUsed: 500
  planType: "Pro Plan"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“… 2026å¹´6æœˆ1æ—¥ï¼šç”¨æˆ·å–æ¶ˆè®¢é˜…
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç”¨æˆ·åœ¨ Stripe Dashboard æˆ– billing.html ç‚¹å‡»"å–æ¶ˆè®¢é˜…"

Stripe:
  subscription.cancel_at_period_end = true â† æ ‡è®°ä¸ºå–æ¶ˆ
  subscription.status = "active" â† ä»ç„¶æœ‰æ•ˆ
  subscription.current_period_end = 2026-12-13 â† åˆ°æœŸæ—¥

âš ï¸ é‡è¦ï¼š
  - è®¢é˜…ä»ç„¶æœ‰æ•ˆï¼Œç›´åˆ° 2026å¹´12æœˆ13æ—¥
  - ç”¨æˆ·å¯ä»¥ç»§ç»­ä½¿ç”¨å‰©ä½™çš„ 700 Credits
  - ä¸ä¼šç«‹å³å¤±å» Pro Plan æƒç›Š

Firestoreï¼ˆåç«¯ handleSubscriptionChange æ›´æ–°ï¼‰:
  subscription.cancelAtPeriodEnd: true â† è®°å½•å–æ¶ˆçŠ¶æ€
  planType: "Pro Plan" â† ä»ç„¶æ˜¯ Pro Plan

è´­ä¹°è®°å½•æ–°å¢ï¼š
  type: "subscription_update"
  description: "è®¢é˜…å·²è®¾ç½®ä¸ºåˆ°æœŸåå–æ¶ˆ"
  metadata: {
    cancelAtPeriodEnd: true,
    currentPeriodEnd: "2026-12-13"
  }

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“… 2026å¹´6æœˆ - 2026å¹´12æœˆï¼šç»§ç»­ä½¿ç”¨ï¼ˆå€’è®¡æ—¶ï¼‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç”¨æˆ·ç»§ç»­ä½¿ç”¨å‰©ä½™çš„ 700 Credits

Firestore:
  credits: 700 â†’ 500 â†’ 300 â†’ 100 â†’ 0
  totalCreditsUsed: 500 â†’ 700 â†’ 900 â†’ 1100 â†’ 1200
  planType: "Pro Plan" â† ä»ç„¶æœ‰æ•ˆ

âš ï¸ å¦‚æœç”¨æˆ·ç”¨å®Œ 1,200 Creditsï¼š
  - ä»ç„¶å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼ˆPro Plan æƒç›Šï¼‰
  - Credits ä¼šå˜æˆè´Ÿæ•°ï¼ˆ-1, -2, -3...ï¼‰
  - è¶…é¢ä½¿ç”¨ä¼šæŠ¥å‘Šç»™ Stripe

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“… 2026å¹´12æœˆ13æ—¥ï¼šè®¢é˜…åˆ°æœŸ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å‡è®¾æœ€ç»ˆä½¿ç”¨äº† 1,000 ä¸ª Creditsï¼ˆå‰©ä½™ 200ï¼‰

Stripe äº‹ä»¶ï¼š
  1. customer.subscription.deleted â† è®¢é˜…ç»“æŸ

åç«¯ handleSubscriptionCancelled è§¦å‘ï¼š
  âœ… æ›´æ–° Firestore:
    planType: "Free Plan" â† é™çº§
    subscription: null â† åˆ é™¤è®¢é˜…ä¿¡æ¯
    credits: 200 â† ä¿ç•™å‰©ä½™ Creditsï¼
    totalCreditsUsed: 1000 â† ä¿ç•™å†å²è®°å½•
    cancelledAt: 2026-12-13

  âœ… è®°å½•å–æ¶ˆäº‹ä»¶:
    type: "subscription_cancelled"
    description: "è®¢é˜…å·²å–æ¶ˆï¼ˆå‰©ä½™ 200 Creditsï¼‰"
    metadata: {
      remainingCredits: 200,
      totalCreditsUsed: 1000
    }

æœ€ç»ˆç”¨æˆ·çŠ¶æ€ï¼š
  planType: "Free Plan"
  credits: 200 â† å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼
  totalCreditsUsed: 1000
  subscription: null

âš ï¸ Free Plan é™åˆ¶ï¼š
  - ä¸èƒ½ä½¿ç”¨è´Ÿæ•° Credits
  - ç”¨å®Œ 200 Credits åéœ€è¦è´­ä¹°
```

---

## ğŸ“‹ **åœºæ™¯ 2ï¼šæœ‰è¶…é¢ä½¿ç”¨ + å–æ¶ˆè®¢é˜…**

### **æ—¶é—´çº¿**ï¼š

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“… 2025å¹´12æœˆ13æ—¥ï¼šè®¢é˜…å¹´è´¹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… æ”¯ä»˜ï¼šHK$552.00
âœ… è·å¾—ï¼š1,200 Credits

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“… 2026å¹´3æœˆ1æ—¥ï¼šè¶…é¢ä½¿ç”¨
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç”¨æˆ·ä½¿ç”¨äº† 1,250 ä¸ª Creditsï¼ˆè¶…é¢ 50 ä¸ªï¼‰

Firestore:
  credits: -50 â† è´Ÿæ•°
  totalCreditsUsed: 1250
  includedCredits: 1200

å‰ç«¯è‡ªåŠ¨æŠ¥å‘Šï¼š
  è¶…é¢ï¼š1250 - 1200 = 50
  è°ƒç”¨ reportCreditsUsage()

åç«¯æŠ¥å‘Šç»™ Stripe:
  ä½¿ç”¨é‡ï¼š50 credits
  è´¹ç”¨ï¼š50 Ã— HK$0.50 = HK$25.00

Stripe Dashboard:
  Subscription Usage:
    vaultcaddy_credit_usage: 50
    Amount: HK$25.00ï¼ˆå¾…ä¸‹æ¬¡è´¦å•æ”¶å–ï¼‰

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“… 2026å¹´6æœˆ1æ—¥ï¼šç”¨æˆ·å–æ¶ˆè®¢é˜…
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç”¨æˆ·ç‚¹å‡»"å–æ¶ˆè®¢é˜…"

Stripe:
  subscription.cancel_at_period_end = true
  subscription.current_period_end = 2026-12-13

âš ï¸ é‡è¦ï¼š
  - è¶…é¢è´¹ç”¨ HK$25.00 ä»ç„¶éœ€è¦æ”¯ä»˜ï¼
  - å°†åœ¨è®¢é˜…åˆ°æœŸæ—¶æ”¶å–

Firestore:
  credits: -50
  totalCreditsUsed: 1250
  subscription.cancelAtPeriodEnd: true

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“… 2026å¹´6æœˆ - 2026å¹´12æœˆï¼šç»§ç»­ä½¿ç”¨
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å‡è®¾ç”¨æˆ·åˆä½¿ç”¨äº† 20 ä¸ª Credits

Firestore:
  credits: -50 â†’ -70
  totalCreditsUsed: 1250 â†’ 1270

å‰ç«¯è‡ªåŠ¨æŠ¥å‘Šï¼š
  è¶…é¢ï¼š1270 - 1200 = 70
  æ›´æ–° Stripe ä½¿ç”¨é‡

Stripe Dashboard:
  Subscription Usage:
    vaultcaddy_credit_usage: 70 â† æ›´æ–°
    Amount: HK$35.00 â† æ›´æ–°

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“… 2026å¹´12æœˆ13æ—¥ï¼šè®¢é˜…åˆ°æœŸ + æœ€ç»ˆè´¦å•
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Stripe è‡ªåŠ¨ç”Ÿæˆæœ€ç»ˆè´¦å•ï¼š

ğŸ“„ Invoice #xxx
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
VaultCaddy Yearly (ç»­è´¹)     HK$0.00 â† ä¸ç»­è´¹ï¼Œä¸æ”¶å¹´è´¹
Usage (70 credits)            HK$35.00 â† è¶…é¢è´¹ç”¨
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Total                          HK$35.00 âœ…
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Stripe è‡ªåŠ¨æ‰£æ¬¾ï¼šHK$35.00

Stripe äº‹ä»¶é¡ºåºï¼š
  1. invoice.payment_succeeded â† è¶…é¢è´¹ç”¨æ”¯ä»˜æˆåŠŸ
  2. invoice.paid â† å‘ç¥¨å·²æ”¯ä»˜
  3. customer.subscription.deleted â† è®¢é˜…ç»“æŸ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
åç«¯å¤„ç†ï¼šhandleInvoicePaid
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ£€æŸ¥ï¼šsubscription.cancel_at_period_end = true

âš ï¸ å‘ç°è®¢é˜…å·²å–æ¶ˆï¼

ä¸æ·»åŠ æ–° Creditsï¼Œåªè®°å½•æœ€ç»ˆè´¦å•ï¼š
  type: "final_invoice"
  description: "è®¢é˜…æœ€ç»ˆè´¦å•ï¼ˆå·²å–æ¶ˆï¼Œä¸æ·»åŠ æ–° Creditsï¼‰"
  metadata: {
    invoiceId: "in_xxx",
    amountPaid: 35.00,
    currency: "hkd"
  }

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
åç«¯å¤„ç†ï¼šhandleSubscriptionCancelled
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ›´æ–° Firestore:
  planType: "Free Plan" â† é™çº§
  subscription: null â† åˆ é™¤è®¢é˜…ä¿¡æ¯
  credits: -70 â† ä¿ç•™è´Ÿæ•°ï¼
  totalCreditsUsed: 1270 â† ä¿ç•™å†å²è®°å½•
  cancelledAt: 2026-12-13

è®°å½•å–æ¶ˆäº‹ä»¶:
  type: "subscription_cancelled"
  description: "è®¢é˜…å·²å–æ¶ˆï¼ˆå‰©ä½™ -70 Creditsï¼‰"

è®°å½•è­¦å‘Š:
  type: "warning"
  description: "è®¢é˜…å–æ¶ˆï¼ŒCredits ä¸ºè´Ÿæ•°ï¼ˆ-70ï¼‰ï¼Œéœ€è¦è´­ä¹° Credits"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æœ€ç»ˆç”¨æˆ·çŠ¶æ€
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

planType: "Free Plan"
credits: -70 â† è´Ÿæ•°ï¼
totalCreditsUsed: 1270
subscription: null

âš ï¸ ç”¨æˆ·æ— æ³•ç»§ç»­ä½¿ç”¨ï¼š
  - Free Plan ä¸å…è®¸è´Ÿæ•° Credits
  - å¿…é¡»è´­ä¹° Credits æ‰èƒ½ç»§ç»­ä½¿ç”¨
  - ä¾‹å¦‚ï¼šè´­ä¹° 100 Credits â†’ credits: -70 + 100 = 30
```

---

## ğŸ“Š **è´¹ç”¨æ€»ç»“**

### **åœºæ™¯ 1ï¼ˆæ— è¶…é¢ï¼‰**ï¼š
| æ—¶é—´ | äº‹ä»¶ | è´¹ç”¨ |
|------|------|------|
| 2025-12-13 | è®¢é˜…å¹´è´¹ | HK$552.00 |
| 2026-06-01 | å–æ¶ˆè®¢é˜… | HK$0.00 |
| 2026-12-13 | è®¢é˜…åˆ°æœŸ | HK$0.00 |
| **æ€»è®¡** | | **HK$552.00** |

### **åœºæ™¯ 2ï¼ˆæœ‰è¶…é¢ï¼‰**ï¼š
| æ—¶é—´ | äº‹ä»¶ | è´¹ç”¨ |
|------|------|------|
| 2025-12-13 | è®¢é˜…å¹´è´¹ | HK$552.00 |
| 2026-06-01 | å–æ¶ˆè®¢é˜… | HK$0.00 |
| 2026-12-13 | æœ€ç»ˆè´¦å•ï¼ˆè¶…é¢ï¼‰ | HK$35.00 |
| **æ€»è®¡** | | **HK$587.00** |

---

## ğŸ”‘ **å…³é”®è¦ç‚¹**

### **1. å–æ¶ˆæ—¶æœº**
```
âœ… æ¨èï¼šåœ¨å½“å‰å‘¨æœŸç»“æŸæ—¶å–æ¶ˆï¼ˆcancel_at_period_endï¼‰
  - ç”¨æˆ·ç»§ç»­äº«å—æœåŠ¡ç›´åˆ°åˆ°æœŸ
  - ä¸ä¼šæµªè´¹å·²æ”¯ä»˜çš„è´¹ç”¨

âŒ ä¸æ¨èï¼šç«‹å³å–æ¶ˆ
  - ç«‹å³å¤±å» Pro Plan æƒç›Š
  - å·²æ”¯ä»˜çš„å¹´è´¹ä¸é€€æ¬¾
```

### **2. Credits å¤„ç†**
```
âœ… å‰©ä½™ Credits ä¼šä¿ç•™
  - é™çº§ä¸º Free Plan åä»ç„¶å¯ä»¥ä½¿ç”¨
  - ä¾‹å¦‚ï¼šå‰©ä½™ 200 Credits â†’ å¯ä»¥ç»§ç»­å¤„ç† 200 é¡µæ–‡æ¡£

âš ï¸ è´Ÿæ•° Credits ä¹Ÿä¼šä¿ç•™
  - ä½† Free Plan ä¸å…è®¸ä½¿ç”¨è´Ÿæ•° Credits
  - å¿…é¡»è´­ä¹° Credits æ‰èƒ½ç»§ç»­ä½¿ç”¨
```

### **3. è¶…é¢è´¹ç”¨**
```
âš ï¸ å¿…é¡»æ”¯ä»˜
  - å³ä½¿å–æ¶ˆè®¢é˜…ï¼Œè¶…é¢è´¹ç”¨ä»ç„¶éœ€è¦æ”¯ä»˜
  - åœ¨è®¢é˜…åˆ°æœŸæ—¶è‡ªåŠ¨æ‰£æ¬¾

ğŸ“Š è®¡ç®—æ–¹å¼
  - åŸºäºæ•´ä¸ªä½¿ç”¨å‘¨æœŸçš„ç´¯è®¡è¶…é¢
  - ä¾‹å¦‚ï¼šä½¿ç”¨ 1,270 ä¸ªï¼Œè¶…é¢ 70 ä¸ªï¼Œè´¹ç”¨ HK$35.00
```

### **4. æœ€ç»ˆè´¦å•**
```
åªåŒ…å«è¶…é¢è´¹ç”¨ï¼Œä¸åŒ…å«å¹´è´¹ï¼š

Invoice:
  VaultCaddy Yearly (ç»­è´¹)    HK$0.00 â† ä¸ç»­è´¹
  Usage (70 credits)           HK$35.00 â† è¶…é¢
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Total                         HK$35.00
```

---

## ğŸ¯ **ç”¨æˆ·ä½“éªŒè®¾è®¡å»ºè®®**

### **1. å–æ¶ˆç¡®è®¤é¡µé¢**
```
âš ï¸ å–æ¶ˆè®¢é˜…
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ‚¨çš„è®¢é˜…å°†åœ¨ 2026å¹´12æœˆ13æ—¥ åˆ°æœŸååœæ­¢ç»­è´¹ã€‚

åœ¨æ­¤ä¹‹å‰ï¼Œæ‚¨ä»ç„¶å¯ä»¥ï¼š
âœ… ä½¿ç”¨å‰©ä½™çš„ 700 Credits
âœ… äº«å— Pro Plan æƒç›Š
âœ… ç»§ç»­è¶…é¢ä½¿ç”¨ï¼ˆæŒ‰ HK$0.50/credit è®¡è´¹ï¼‰

âš ï¸ å¦‚æœæ‚¨æœ‰è¶…é¢ä½¿ç”¨ï¼Œå°†åœ¨åˆ°æœŸæ—¶æ”¶å–è´¹ç”¨ã€‚

[ å–æ¶ˆè®¢é˜… ]  [ ä¿ç•™è®¢é˜… ]
```

### **2. å–æ¶ˆåçš„é€šçŸ¥**
```
âœ… è®¢é˜…å·²å–æ¶ˆ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ‚¨çš„è®¢é˜…å°†åœ¨ 2026å¹´12æœˆ13æ—¥ ç»“æŸã€‚

åœ¨æ­¤ä¹‹å‰ï¼Œæ‚¨å¯ä»¥ç»§ç»­ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½ã€‚

å‰©ä½™ Creditsï¼š700
åˆ°æœŸæ—¥æœŸï¼š2026å¹´12æœˆ13æ—¥

éœ€è¦æ¢å¤è®¢é˜…ï¼Ÿè¯·è”ç³»å®¢æœã€‚
```

### **3. åˆ°æœŸåçš„æç¤º**
```
âš ï¸ è®¢é˜…å·²åˆ°æœŸ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ‚¨çš„ Pro Plan è®¢é˜…å·²äº 2026å¹´12æœˆ13æ—¥ ç»“æŸã€‚

å½“å‰çŠ¶æ€ï¼šFree Plan
å‰©ä½™ Creditsï¼š200 â† å¯ä»¥ç»§ç»­ä½¿ç”¨

å¦‚éœ€ç»§ç»­ä½¿ç”¨ Pro Plan æƒç›Šï¼Œè¯·é‡æ–°è®¢é˜…ã€‚

[ é‡æ–°è®¢é˜… ]  [ è´­ä¹° Credits ]
```

---

## âœ… **ä»£ç å®ç°å®Œæˆ**

### **å·²å®ç°çš„åŠŸèƒ½**ï¼š

1. âœ… **`handleSubscriptionCancelled`**
   - è‡ªåŠ¨é™çº§ä¸º Free Plan
   - ä¿ç•™å‰©ä½™ Creditsï¼ˆæ­£æ•°æˆ–è´Ÿæ•°ï¼‰
   - è®°å½•å–æ¶ˆäº‹ä»¶
   - å¦‚æœ Credits ä¸ºè´Ÿæ•°ï¼Œè®°å½•è­¦å‘Š

2. âœ… **`handleInvoicePaid`**
   - æ£€æµ‹ `cancel_at_period_end` æ ‡å¿—
   - å¦‚æœè®¢é˜…å·²å–æ¶ˆï¼Œåªè®°å½•æœ€ç»ˆè´¦å•ï¼Œä¸æ·»åŠ æ–° Credits
   - å¦‚æœè®¢é˜…æœªå–æ¶ˆï¼Œæ­£å¸¸å¤„ç†ç»­è´¹

3. âœ… **`reportCreditsUsage`**
   - è‡ªåŠ¨æŠ¥å‘Šè¶…é¢ä½¿ç”¨ç»™ Stripe
   - ç¡®ä¿è¶…é¢è´¹ç”¨åœ¨æœ€ç»ˆè´¦å•ä¸­æ”¶å–

---

## ğŸ§ª **æµ‹è¯•åœºæ™¯**

### **æµ‹è¯• 1ï¼šæ— è¶…é¢å–æ¶ˆ**
1. è®¢é˜…å¹´è´¹ï¼ˆHK$552ï¼‰
2. ä½¿ç”¨ 500 Credits
3. å–æ¶ˆè®¢é˜…
4. ç»§ç»­ä½¿ç”¨åˆ°åˆ°æœŸ
5. **éªŒè¯**ï¼š
   - åˆ°æœŸåé™çº§ä¸º Free Plan
   - å‰©ä½™ 700 Credits ä¿ç•™
   - æ— é¢å¤–è´¹ç”¨

### **æµ‹è¯• 2ï¼šæœ‰è¶…é¢å–æ¶ˆ**
1. è®¢é˜…å¹´è´¹ï¼ˆHK$552ï¼‰
2. ä½¿ç”¨ 1,250 Creditsï¼ˆè¶…é¢ 50ï¼‰
3. å–æ¶ˆè®¢é˜…
4. ç»§ç»­ä½¿ç”¨åˆ°åˆ°æœŸï¼ˆå‡è®¾æ€»å…± 1,270ï¼‰
5. **éªŒè¯**ï¼š
   - åˆ°æœŸæ—¶æ”¶å–è¶…é¢è´¹ç”¨ï¼ˆHK$35ï¼‰
   - é™çº§ä¸º Free Plan
   - Credits ä¸ºè´Ÿæ•°ï¼ˆ-70ï¼‰
   - æ— æ³•ç»§ç»­ä½¿ç”¨ï¼Œéœ€è´­ä¹° Credits

---

## ğŸ‰ **å®Œæˆï¼**

**è®¢é˜…å–æ¶ˆå¤„ç†é€»è¾‘å·²å®Œæ•´å®ç°ï¼**

ç”¨æˆ·å¯ä»¥å®‰å¿ƒå–æ¶ˆè®¢é˜…ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†æ‰€æœ‰é€»è¾‘ï¼ ğŸš€


