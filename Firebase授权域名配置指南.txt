# ğŸ”§ Firebase Google ç™»å½•å¤±è´¥ - ä¿®å¤æŒ‡å—

## âŒ é—®é¢˜æè¿°

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Firebase: This domain is not authorized for OAuth operations for your Firebase project.
Edit the list of authorized domains from the Firebase console (auth/unauthorized-domain)
```

**é—®é¢˜åŸå› ï¼š**
- vaultcaddy.com æ²¡æœ‰è¢«æ·»åŠ åˆ° Firebase çš„æˆæƒåŸŸååˆ—è¡¨ä¸­
- Firebase é»˜è®¤åªå…è®¸ localhost å’Œ Firebase æä¾›çš„åŸŸåè¿›è¡Œ OAuth ç™»å½•
- ç”Ÿäº§ç¯å¢ƒçš„åŸŸåéœ€è¦æ‰‹åŠ¨æ·»åŠ 

---

## âœ… è§£å†³æ–¹æ¡ˆï¼šæ·»åŠ æˆæƒåŸŸå

### æ­¥éª¤1ï¼šç™»å½• Firebase Console

1. è®¿é—®ï¼šhttps://console.firebase.google.com/
2. é€‰æ‹©æ‚¨çš„é¡¹ç›®ï¼ˆVaultCaddy é¡¹ç›®ï¼‰
3. ç¡®ä¿é€‰æ‹©äº†æ­£ç¡®çš„é¡¹ç›®

---

### æ­¥éª¤2ï¼šè¿›å…¥ Authentication è®¾ç½®

**å¯¼èˆªè·¯å¾„ï¼š**
```
å·¦ä¾§èœå• â†’ Build â†’ Authentication â†’ Settingsï¼ˆè®¾ç½®ï¼‰
```

**è¯¦ç»†æ­¥éª¤ï¼š**
1. ç‚¹å‡»å·¦ä¾§èœå•çš„ "Build"ï¼ˆæ„å»ºï¼‰
2. ç‚¹å‡» "Authentication"ï¼ˆèº«ä»½éªŒè¯ï¼‰
3. ç‚¹å‡»é¡¶éƒ¨çš„ "Settings"ï¼ˆè®¾ç½®ï¼‰æ ‡ç­¾
4. å‘ä¸‹æ»šåŠ¨æ‰¾åˆ° "Authorized domains"ï¼ˆæˆæƒåŸŸåï¼‰éƒ¨åˆ†

---

### æ­¥éª¤3ï¼šæ·»åŠ æˆæƒåŸŸå

**åœ¨ "Authorized domains" éƒ¨åˆ†ï¼š**

1. ç‚¹å‡» "Add domain"ï¼ˆæ·»åŠ åŸŸåï¼‰æŒ‰é’®

2. è¾“å…¥ä»¥ä¸‹åŸŸåï¼š
   ```
   vaultcaddy.com
   ```

3. ç‚¹å‡» "Add"ï¼ˆæ·»åŠ ï¼‰ç¡®è®¤

4. **é‡è¦ï¼š** å¦‚æœæœ‰ www å­åŸŸåï¼Œä¹Ÿéœ€è¦æ·»åŠ ï¼š
   ```
   www.vaultcaddy.com
   ```

---

### æ­¥éª¤4ï¼šéªŒè¯é…ç½®

**å®Œæˆåï¼ŒæˆæƒåŸŸååˆ—è¡¨åº”è¯¥åŒ…æ‹¬ï¼š**
```
âœ… localhost (é»˜è®¤)
âœ… vaultcaddy.com (æ–°æ·»åŠ )
âœ… www.vaultcaddy.com (å¯é€‰ï¼Œå¦‚æœä½¿ç”¨)
âœ… *.firebaseapp.com (é»˜è®¤)
âœ… *.web.app (é»˜è®¤)
```

---

### æ­¥éª¤5ï¼šæµ‹è¯•ç™»å½•

1. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**
   - Mac: Cmd+Shift+R
   - Windows: Ctrl+Shift+R

2. **é‡æ–°è®¿é—®ç™»å½•é¡µé¢**
   ```
   https://vaultcaddy.com/auth.html
   ```

3. **ç‚¹å‡» "ä½¿ç”¨Googleç™»å…¥"**

4. **é¢„æœŸç»“æœï¼š**
   - âœ… å¼¹å‡º Google ç™»å½•çª—å£
   - âœ… é€‰æ‹©è´¦å·åæˆåŠŸç™»å½•
   - âœ… è·³è½¬åˆ° dashboard.html
   - âœ… æ§åˆ¶å°æ²¡æœ‰æˆæƒé”™è¯¯

---

## ğŸ“¸ æˆªå›¾æŒ‡å—

### æ‰¾åˆ° "Authorized domains" è®¾ç½®

**ä½ç½®ï¼š**
```
Firebase Console
â””â”€â”€ æ‚¨çš„é¡¹ç›®
    â””â”€â”€ Authentication
        â””â”€â”€ Settings (è®¾ç½®)
            â””â”€â”€ Authorized domains (æˆæƒåŸŸå)
```

**åº”è¯¥çœ‹åˆ°çš„å†…å®¹ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Authorized domains                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Add domain                    [+]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ localhost                           â”‚
â”‚ vaultcaddy.com              [åˆ é™¤] â”‚
â”‚ *.firebaseapp.com                   â”‚
â”‚ *.web.app                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” å¸¸è§é—®é¢˜

### Q1ï¼šæ·»åŠ åŸŸååè¿˜æ˜¯å¤±è´¥ï¼Ÿ
**Aï¼š** 
1. ç¡®è®¤åŸŸåæ‹¼å†™æ­£ç¡®ï¼ˆvaultcaddy.comï¼Œä¸æ˜¯ www.vaultcaddy.comï¼‰
2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å¹¶é‡è¯•
3. ç­‰å¾…1-2åˆ†é’Ÿè®©é…ç½®ç”Ÿæ•ˆ
4. æ£€æŸ¥æ˜¯å¦å¯ç”¨äº† Google ç™»å½•æä¾›å•†

---

### Q2ï¼šå¦‚ä½•å¯ç”¨ Google ç™»å½•æä¾›å•†ï¼Ÿ

**æ­¥éª¤ï¼š**
```
1. Firebase Console â†’ Authentication â†’ Sign-in method
2. æ‰¾åˆ° "Google" æä¾›å•†
3. ç‚¹å‡» "Google"
4. å¯ç”¨å¼€å…³
5. å¡«å†™é¡¹ç›®æ”¯æŒé‚®ç®±
6. ä¿å­˜
```

---

### Q3ï¼šlocalhost å¯ä»¥ç™»å½•ï¼Œä½†ç”Ÿäº§ç¯å¢ƒä¸è¡Œï¼Ÿ

**åŸå› ï¼š**
- æˆæƒåŸŸååˆ—è¡¨ä¸­ç¼ºå°‘ç”Ÿäº§åŸŸå

**è§£å†³ï¼š**
- æŒ‰ä¸Šè¿°æ­¥éª¤æ·»åŠ  vaultcaddy.com

---

### Q4ï¼šéœ€è¦æ·»åŠ å“ªäº›åŸŸåï¼Ÿ

**å¿…é¡»æ·»åŠ ï¼š**
```
âœ… vaultcaddy.com (ä¸»åŸŸå)
```

**å¯é€‰æ·»åŠ ï¼š**
```
â­• www.vaultcaddy.com (å¦‚æœä½¿ç”¨ www å­åŸŸå)
â­• staging.vaultcaddy.com (å¦‚æœæœ‰æµ‹è¯•ç¯å¢ƒ)
```

**ä¸éœ€è¦æ·»åŠ ï¼š**
```
âŒ https://vaultcaddy.com (ä¸è¦åŒ…å«åè®®)
âŒ vaultcaddy.com/auth.html (ä¸è¦åŒ…å«è·¯å¾„)
```

---

### Q5ï¼šå¯ä»¥æ·»åŠ é€šé…ç¬¦åŸŸåå—ï¼Ÿ

**ä¸å¯ä»¥ï¼š**
```
âŒ *.vaultcaddy.com (ä¸æ”¯æŒ)
```

**å¿…é¡»é€ä¸ªæ·»åŠ ï¼š**
```
âœ… vaultcaddy.com
âœ… www.vaultcaddy.com
âœ… api.vaultcaddy.com
```

---

## âš ï¸ é‡è¦æé†’

### 1. åŸŸåæ ¼å¼
```
âœ… æ­£ç¡®ï¼švaultcaddy.com
âŒ é”™è¯¯ï¼šhttps://vaultcaddy.com
âŒ é”™è¯¯ï¼švaultcaddy.com/
âŒ é”™è¯¯ï¼šwww.vaultcaddy.com (å¦‚æœå®é™…ä½¿ç”¨çš„æ˜¯ vaultcaddy.com)
```

### 2. å¤§å°å†™æ•æ„Ÿ
```
åŸŸåä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†å»ºè®®ä½¿ç”¨å°å†™
âœ… vaultcaddy.com
â­• VaultCaddy.com (å¯ä»¥ï¼Œä½†ä¸æ¨è)
```

### 3. å­åŸŸå
```
æ¯ä¸ªå­åŸŸåéƒ½éœ€è¦å•ç‹¬æ·»åŠ ï¼š
- vaultcaddy.com
- www.vaultcaddy.com
- api.vaultcaddy.com
```

### 4. æµ‹è¯•ç¯å¢ƒ
```
å¦‚æœæœ‰æµ‹è¯•ç¯å¢ƒï¼Œä¹Ÿéœ€è¦æ·»åŠ æµ‹è¯•åŸŸåï¼š
- staging.vaultcaddy.com
- test.vaultcaddy.com
```

---

## ğŸ§ª éªŒè¯æ­¥éª¤

### 1. æ£€æŸ¥æˆæƒåŸŸååˆ—è¡¨
```
Firebase Console â†’ Authentication â†’ Settings â†’ Authorized domains
ç¡®è®¤ vaultcaddy.com åœ¨åˆ—è¡¨ä¸­
```

### 2. æ£€æŸ¥ Google æä¾›å•†çŠ¶æ€
```
Firebase Console â†’ Authentication â†’ Sign-in method
ç¡®è®¤ Google æä¾›å•†å·²å¯ç”¨
```

### 3. æµ‹è¯•ç™»å½•æµç¨‹
```
1. è®¿é—®ï¼šhttps://vaultcaddy.com/auth.html
2. ç‚¹å‡» "ä½¿ç”¨Googleç™»å…¥"
3. é€‰æ‹© Google è´¦å·
4. ç¡®è®¤ç™»å½•æˆåŠŸ
```

### 4. æ£€æŸ¥æ§åˆ¶å°
```
æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰
ç¡®è®¤æ²¡æœ‰ Firebase æˆæƒé”™è¯¯
```

---

## ğŸ“‹ å®Œæ•´é…ç½®æ£€æŸ¥æ¸…å•

**Firebase Authentication è®¾ç½®ï¼š**
- [ ] å·²å¯ç”¨ Google ç™»å½•æä¾›å•†
- [ ] å·²æ·»åŠ é¡¹ç›®æ”¯æŒé‚®ç®±
- [ ] å·²æ·»åŠ  vaultcaddy.com åˆ°æˆæƒåŸŸå
- [ ] å·²æ·»åŠ  www.vaultcaddy.comï¼ˆå¦‚æœä½¿ç”¨ï¼‰
- [ ] å·²ä¿å­˜æ‰€æœ‰æ›´æ”¹

**Google Cloud Consoleï¼ˆå¯é€‰ï¼‰ï¼š**
- [ ] OAuth 2.0 å®¢æˆ·ç«¯ ID å·²é…ç½®
- [ ] æˆæƒçš„é‡å®šå‘ URI å·²æ·»åŠ 
- [ ] æˆæƒçš„ JavaScript æ¥æºå·²æ·»åŠ 

**æµ‹è¯•ï¼š**
- [ ] æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- [ ] ç™»å½•æµç¨‹æ­£å¸¸
- [ ] æ— æ§åˆ¶å°é”™è¯¯
- [ ] ç™»å½•åæ­£ç¡®è·³è½¬

---

## ğŸ”— ç›¸å…³é“¾æ¥

**Firebase æ–‡æ¡£ï¼š**
- Firebase Authentication: https://firebase.google.com/docs/auth
- æˆæƒåŸŸå: https://firebase.google.com/docs/auth/web/google-signin#authenticate_with_firebase_using_a_custom_domain

**Google Cloud Consoleï¼š**
- OAuth 2.0 è®¾ç½®: https://console.cloud.google.com/apis/credentials

**å¸¸è§é”™è¯¯ä»£ç ï¼š**
- auth/unauthorized-domain: åŸŸåæœªæˆæƒ
- auth/popup-blocked: å¼¹çª—è¢«é˜»æ­¢
- auth/popup-closed-by-user: ç”¨æˆ·å…³é—­å¼¹çª—

---

## ğŸš€ å¿«é€Ÿä¿®å¤ï¼ˆTL;DRï¼‰

**3æ­¥å¿«é€Ÿä¿®å¤ï¼š**

1. **æ‰“å¼€ Firebase Console**
   ```
   https://console.firebase.google.com/
   â†’ é€‰æ‹©é¡¹ç›®
   â†’ Authentication
   â†’ Settings
   ```

2. **æ·»åŠ åŸŸå**
   ```
   Authorized domains
   â†’ Add domain
   â†’ è¾“å…¥ï¼švaultcaddy.com
   â†’ Add
   ```

3. **æµ‹è¯•**
   ```
   æ¸…é™¤ç¼“å­˜ï¼ˆCmd+Shift+Rï¼‰
   â†’ è®¿é—® auth.html
   â†’ æµ‹è¯• Google ç™»å½•
   ```

---

## ğŸ“ ä»ç„¶æœ‰é—®é¢˜ï¼Ÿ

**æ£€æŸ¥æ¸…å•ï¼š**
1. âœ… åŸŸåæ‹¼å†™æ­£ç¡®
2. âœ… Google æä¾›å•†å·²å¯ç”¨
3. âœ… å·²æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
4. âœ… ç­‰å¾…1-2åˆ†é’Ÿè®©é…ç½®ç”Ÿæ•ˆ

**å¦‚æœè¿˜æ˜¯å¤±è´¥ï¼š**
- æ£€æŸ¥ Firebase é¡¹ç›®æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ config.js ä¸­çš„ Firebase é…ç½®
- æŸ¥çœ‹æ§åˆ¶å°çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯
- ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸

---

ğŸ‰ **ä¿®å¤å®Œæˆåï¼ŒGoogle ç™»å½•åº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼**
