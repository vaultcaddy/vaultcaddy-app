<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VaultCaddy Firebase è¨­ç½®å·¥å…·</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .header h1 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .header p {
            color: #718096;
            font-size: 1.2rem;
        }
        
        .step {
            background: #f8fafc;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 4px solid #4299e1;
        }
        
        .step h3 {
            color: #2d3748;
            margin-top: 0;
            font-size: 1.4rem;
        }
        
        .step-number {
            background: #4299e1;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .link-button {
            display: inline-block;
            background: #4299e1;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            margin: 10px 10px 10px 0;
            transition: background 0.3s;
        }
        
        .link-button:hover {
            background: #3182ce;
        }
        
        .success-button {
            background: #48bb78;
        }
        
        .success-button:hover {
            background: #38a169;
        }
        
        .config-input {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            white-space: pre-wrap;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a5568;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
        }
        
        .button {
            background: #4299e1;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }
        
        .button:hover {
            background: #3182ce;
        }
        
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .alert-info {
            background: #ebf8ff;
            border: 1px solid #bee3f8;
            color: #2b6cb0;
        }
        
        .alert-success {
            background: #f0fff4;
            border: 1px solid #9ae6b4;
            color: #276749;
        }
        
        .alert-warning {
            background: #fffbeb;
            border: 1px solid #fbd38d;
            color: #b7791f;
        }
        
        .code-block {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        .progress-bar {
            background: #e2e8f0;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            background: #4299e1;
            height: 100%;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”¥ Firebase è¨­ç½®å·¥å…·</h1>
            <p>ç‚º VaultCaddy è¨­ç½® Google Firebase æ•¸æ“šåº«å’Œé›²ç«¯å­˜å„²</p>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
            </div>
        </div>
        
        <div class="alert alert-info">
            <strong>ğŸ“‹ å®Œæˆé€™å€‹è¨­ç½®å¾Œï¼Œæ‚¨çš„ç”¨æˆ¶æ•¸æ“šå°‡ï¼š</strong><br>
            âœ… æ°¸ä¹…ä¿å­˜åœ¨ Google é›²ç«¯<br>
            âœ… è·¨è¨­å‚™åŒæ­¥<br>
            âœ… è‡ªå‹•å‚™ä»½å’Œæ¢å¾©<br>
            âœ… ä¼æ¥­ç´šå®‰å…¨ä¿è­·
        </div>
        
        <!-- æ­¥é©Ÿ 1ï¼šå‰µå»º Firebase é …ç›® -->
        <div class="step">
            <h3><span class="step-number">1</span>å‰µå»º Firebase é …ç›®</h3>
            <p>é¦–å…ˆï¼Œåœ¨ Firebase Console ä¸­å‰µå»ºä¸€å€‹æ–°é …ç›®</p>
            
            <a href="https://console.firebase.google.com/" target="_blank" class="link-button">
                ğŸš€ æ‰“é–‹ Firebase Console
            </a>
            
            <div class="alert alert-info" style="margin-top: 15px;">
                <strong>ğŸ“ æ­¥é©Ÿèªªæ˜ï¼š</strong><br>
                1. é»æ“Š "Create a project" æˆ– "æ–°å¢å°ˆæ¡ˆ"<br>
                2. é …ç›®åç¨±è¼¸å…¥ï¼š<strong>VaultCaddy Production</strong><br>
                3. å•Ÿç”¨ Google Analyticsï¼ˆæ¨è–¦ï¼‰<br>
                4. é¸æ“‡ Analytics å¸³æˆ¶æˆ–å‰µå»ºæ–°å¸³æˆ¶<br>
                5. é»æ“Š "Create project"
            </div>
        </div>
        
        <!-- æ­¥é©Ÿ 2ï¼šæ·»åŠ  Web æ‡‰ç”¨ -->
        <div class="step">
            <h3><span class="step-number">2</span>æ·»åŠ  Web æ‡‰ç”¨åˆ°é …ç›®</h3>
            <p>åœ¨æ‚¨çš„ Firebase é …ç›®ä¸­æ·»åŠ  Web æ‡‰ç”¨</p>
            
            <div class="alert alert-warning">
                <strong>âš ï¸ è«‹å…ˆå®Œæˆæ­¥é©Ÿ 1ï¼Œç„¶å¾Œï¼š</strong><br>
                1. åœ¨ Firebase é …ç›®é¦–é ï¼Œé»æ“Š Web åœ–æ¨™ (&lt;/&gt;)<br>
                2. æ‡‰ç”¨æš±ç¨±è¼¸å…¥ï¼š<strong>VaultCaddy Web App</strong><br>
                3. å‹¾é¸ "Also set up Firebase Hosting for this app"<br>
                4. é»æ“Š "Register app"<br>
                5. è¤‡è£½æä¾›çš„é…ç½®ä»£ç¢¼
            </div>
        </div>
        
        <!-- æ­¥é©Ÿ 3ï¼šå•Ÿç”¨æœå‹™ -->
        <div class="step">
            <h3><span class="step-number">3</span>å•Ÿç”¨å¿…è¦çš„ Firebase æœå‹™</h3>
            <p>å•Ÿç”¨ Authentication å’Œ Firestore æœå‹™</p>
            
            <div class="alert alert-info">
                <strong>ğŸ”§ éœ€è¦å•Ÿç”¨çš„æœå‹™ï¼š</strong><br><br>
                
                <strong>1. Authenticationï¼š</strong><br>
                â€¢ åœ¨å·¦å´é¸å–®é»æ“Š "Authentication"<br>
                â€¢ é»æ“Š "Get started"<br>
                â€¢ åœ¨ "Sign-in method" é é¢å•Ÿç”¨ "Google"<br>
                â€¢ è¼¸å…¥é …ç›®æ”¯æ´éƒµç®±<br><br>
                
                <strong>2. Firestore Databaseï¼š</strong><br>
                â€¢ åœ¨å·¦å´é¸å–®é»æ“Š "Firestore Database"<br>
                â€¢ é»æ“Š "Create database"<br>
                â€¢ é¸æ“‡ "Start in production mode"<br>
                â€¢ é¸æ“‡åœ°å€ï¼ˆæ¨è–¦ï¼šasia-east1 é¦™æ¸¯ï¼‰<br><br>
                
                <strong>3. Storageï¼š</strong><br>
                â€¢ åœ¨å·¦å´é¸å–®é»æ“Š "Storage"<br>
                â€¢ é»æ“Š "Get started"<br>
                â€¢ ä½¿ç”¨é»˜èªå®‰å…¨è¦å‰‡<br>
                â€¢ é¸æ“‡ç›¸åŒåœ°å€
            </div>
        </div>
        
        <!-- æ­¥é©Ÿ 4ï¼šè¼¸å…¥é…ç½® -->
        <div class="step">
            <h3><span class="step-number">4</span>è¼¸å…¥ Firebase é…ç½®</h3>
            <p>è¤‡è£½æ­¥é©Ÿ 2 ä¸­çš„é…ç½®ä»£ç¢¼ï¼Œä¸¦å¡«å…¥ä¸‹é¢çš„è¡¨å–®</p>
            
            <div class="form-group">
                <label for="apiKey">API Key:</label>
                <input type="text" id="apiKey" placeholder="AIza...">
            </div>
            
            <div class="form-group">
                <label for="authDomain">Auth Domain:</label>
                <input type="text" id="authDomain" placeholder="vaultcaddy-xxxxx.firebaseapp.com">
            </div>
            
            <div class="form-group">
                <label for="projectId">Project ID:</label>
                <input type="text" id="projectId" placeholder="vaultcaddy-xxxxx">
            </div>
            
            <div class="form-group">
                <label for="storageBucket">Storage Bucket:</label>
                <input type="text" id="storageBucket" placeholder="vaultcaddy-xxxxx.appspot.com">
            </div>
            
            <div class="form-group">
                <label for="messagingSenderId">Messaging Sender ID:</label>
                <input type="text" id="messagingSenderId" placeholder="123456789">
            </div>
            
            <div class="form-group">
                <label for="appId">App ID:</label>
                <input type="text" id="appId" placeholder="1:123456789:web:abcdef123456">
            </div>
            
            <button class="button" onclick="generateConfig()">
                ğŸ“ ç”Ÿæˆé…ç½®ä»£ç¢¼
            </button>
        </div>
        
        <!-- æ­¥é©Ÿ 5ï¼šæ‡‰ç”¨é…ç½® -->
        <div class="step" id="step5" style="display: none;">
            <h3><span class="step-number">5</span>æ‡‰ç”¨é…ç½®åˆ°ç³»çµ±</h3>
            <p>å°‡ç”Ÿæˆçš„é…ç½®ä»£ç¢¼æ‡‰ç”¨åˆ° VaultCaddy ç³»çµ±</p>
            
            <div class="alert alert-success">
                <strong>âœ… é…ç½®å·²ç”Ÿæˆï¼</strong><br>
                ç³»çµ±å°‡è‡ªå‹•æ›´æ–°é…ç½®æ–‡ä»¶ã€‚
            </div>
            
            <div id="generated-config" class="code-block"></div>
            
            <button class="button success-button" onclick="applyConfig()">
                ğŸš€ æ‡‰ç”¨é…ç½®ä¸¦éƒ¨ç½²
            </button>
        </div>
        
        <!-- æ­¥é©Ÿ 6ï¼šæ¸¬è©¦é€£æ¥ -->
        <div class="step" id="step6" style="display: none;">
            <h3><span class="step-number">6</span>æ¸¬è©¦ Firebase é€£æ¥</h3>
            <p>é©—è­‰ Firebase æœå‹™æ˜¯å¦æ­£å¸¸å·¥ä½œ</p>
            
            <div class="alert alert-success">
                <strong>ğŸ‰ Firebase è¨­ç½®å®Œæˆï¼</strong><br>
                æ‚¨çš„ VaultCaddy ç¾åœ¨å·²é€£æ¥åˆ° Google é›²ç«¯æœå‹™ã€‚
            </div>
            
            <a href="auth.html" class="link-button success-button">
                ğŸ” æ¸¬è©¦ Google ç™»å…¥
            </a>
            
            <a href="dashboard.html" class="link-button">
                ğŸ“Š å‰å¾€ Dashboard
            </a>
        </div>
    </div>
    
    <script>
        let currentStep = 1;
        
        function updateProgress() {
            const progress = (currentStep / 6) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
        }
        
        function generateConfig() {
            const apiKey = document.getElementById('apiKey').value;
            const authDomain = document.getElementById('authDomain').value;
            const projectId = document.getElementById('projectId').value;
            const storageBucket = document.getElementById('storageBucket').value;
            const messagingSenderId = document.getElementById('messagingSenderId').value;
            const appId = document.getElementById('appId').value;
            
            if (!apiKey || !authDomain || !projectId) {
                alert('è«‹å¡«å…¥å¿…è¦çš„é…ç½®ä¿¡æ¯ï¼ˆAPI Key, Auth Domain, Project IDï¼‰');
                return;
            }
            
            const config = {
                apiKey: apiKey,
                authDomain: authDomain,
                projectId: projectId,
                storageBucket: storageBucket,
                messagingSenderId: messagingSenderId,
                appId: appId
            };
            
            const configCode = `// Firebase é…ç½®
const firebaseConfig = ${JSON.stringify(config, null, 2)};

// åˆå§‹åŒ– Firebase
import { initializeApp } from 'firebase/app';
import { getFirestore } from 'firebase/firestore';
import { getAuth } from 'firebase/auth';
import { getStorage } from 'firebase/storage';

const app = initializeApp(firebaseConfig);
export const db = getFirestore(app);
export const auth = getAuth(app);
export const storage = getStorage(app);`;
            
            document.getElementById('generated-config').textContent = configCode;
            document.getElementById('step5').style.display = 'block';
            
            // ä¿å­˜é…ç½®åˆ° localStorage ä»¥ä¾¿å¾ŒçºŒä½¿ç”¨
            localStorage.setItem('vaultcaddy_firebase_config', JSON.stringify(config));
            
            currentStep = 5;
            updateProgress();
        }
        
        function applyConfig() {
            const config = JSON.parse(localStorage.getItem('vaultcaddy_firebase_config'));
            
            if (!config) {
                alert('é…ç½®ä¿¡æ¯ä¸Ÿå¤±ï¼Œè«‹é‡æ–°ç”Ÿæˆ');
                return;
            }
            
            // é€™è£¡å¯ä»¥é€šé API æ›´æ–°é…ç½®æ–‡ä»¶
            // æˆ–è€…é¡¯ç¤ºæ‰‹å‹•æ›´æ–°æŒ‡ç¤º
            
            alert('é…ç½®å·²ä¿å­˜ï¼ç³»çµ±å°‡åœ¨ä¸‹æ¬¡éƒ¨ç½²æ™‚æ‡‰ç”¨æ–°é…ç½®ã€‚');
            
            document.getElementById('step6').style.display = 'block';
            currentStep = 6;
            updateProgress();
        }
        
        // åˆå§‹åŒ–é€²åº¦æ¢
        updateProgress();
        
        // è‡ªå‹•å¡«å…¥ä¸€äº›ç¤ºä¾‹å€¼ï¼ˆé–‹ç™¼ç”¨ï¼‰
        if (window.location.search.includes('demo=true')) {
            document.getElementById('apiKey').value = 'AIzaSyCpH0qoL0wSEtHzutJzIqElbL_17cBuvug';
            document.getElementById('authDomain').value = 'vaultcaddy-production.firebaseapp.com';
            document.getElementById('projectId').value = 'vaultcaddy-production';
            document.getElementById('storageBucket').value = 'vaultcaddy-production.appspot.com';
            document.getElementById('messagingSenderId').value = '123456789';
            document.getElementById('appId').value = '1:123456789:web:abcdef123456';
        }
    </script>
</body>
</html>
