# 📖 首页智能同步系统 - 完整指南

## 🎯 系统目标

**问题：**
> 如何同步中文版index.html的内容到其他语言版本，但保持每个版本的价格和地区信息不同？
> - 中文版：HK$0.5/页，香港地区
> - 英文版：$0.06/页，美国地区
> - 日文版：¥8/页，日本地区
> - 韩文版：₩80/页，韩国地区

**解决方案：**
✅ **智能首页同步系统** - 同步内容结构，但保护本地化信息！

---

## 🚀 快速使用

### 最简单的方法

```bash
# 同步首页到所有语言版本
python3 sync_index_intelligent.py
```

**完成！** 系统会自动：
1. ✅ 同步内容结构
2. ✅ 保护价格信息（每个版本使用正确的货币）
3. ✅ 保护地区信息（每个版本针对正确的地区）
4. ✅ 翻译通用文本

---

## 📊 价格和地区配置

### 当前配置

| 版本 | 货币 | 每页价格 | 月费 | 地区 | 银行示例 |
|------|------|---------|------|------|----------|
| 🇨🇳 中文 | HKD | HK$0.5 | HK$58 | 香港 | 匯豐、恆生、中銀、渣打 |
| 🇺🇸 英文 | USD | $0.06 | $6.99 | 美国 | Bank of America, Chase, Wells Fargo |
| 🇯🇵 日文 | JPY | ¥8 | ¥880 | 日本 | 三菱UFJ、みずほ、三井住友 |
| 🇰🇷 韩文 | KRW | ₩80 | ₩8,800 | 韩国 | KB국민은행, 신한은행, 우리은행 |

### 如何修改价格

编辑 `index_localization_config.json`：

```json
{
  "regions": {
    "en": {
      "prices": {
        "per_page": "0.06",           // ← 修改这里
        "per_page_display": "$0.06",  // ← 和这里
        "monthly": "6.99",             // ← 月费
        "monthly_display": "$6.99"     // ← 显示格式
      }
    }
  }
}
```

修改后运行：
```bash
python3 sync_index_intelligent.py
```

---

## 🔧 系统组成

### 核心文件

| 文件 | 作用 |
|------|------|
| `sync_index_intelligent.py` | 智能同步脚本 |
| `index_localization_config.json` | 价格和地区配置文件 |
| `index.html` | 中文版（源文件） |
| `en/index.html` | 英文版（自动生成） |
| `jp/index.html` | 日文版（自动生成） |
| `kr/index.html` | 韩文版（自动生成） |

---

## 💡 工作原理

### 同步流程

```
1. 读取中文版 index.html
    ↓
2. 识别需要保护的内容：
   - 价格信息（HK$0.5 → $0.06/¥8/₩80）
   - 地区信息（香港 → 美国/日本/韩国）
   - 银行列表（匯豐 → Bank of America等）
    ↓
3. 替换为目标地区的价格和信息
    ↓
4. 翻译通用内容（功能描述、按钮文字等）
    ↓
5. 生成目标语言版本
    ↓
6. 完成！✅
```

### 保护机制

**价格保护：**
```
中文版: HK$0.5/页
    ↓ 智能替换
英文版: $0.06/页    ← 自动转换为美金
日文版: ¥8/页       ← 自动转换为日元
韩文版: ₩80/页      ← 自动转换为韩元
```

**地区保护：**
```
中文版: 香港會計師、匯豐銀行、香港企業
    ↓ 智能替换
英文版: US Accountants, Bank of America, US Businesses
日文版: 日本の会計士、三菱UFJ銀行、日本企業
韩文版: 한국 회계사, KB국민은행, 한국 기업
```

---

## 📋 详细配置说明

### index_localization_config.json 结构

```json
{
  "regions": {
    "zh": {
      "language": "中文",                    // 语言名称
      "currency": "HKD",                     // ISO货币代码
      "currency_symbol": "HK$",              // 货币符号
      "region": "香港",                      // 地区名称（中文）
      "region_en": "Hong Kong",              // 地区名称（英文）
      "country_code": "HK",                  // ISO国家代码
      "locale": "zh_TW",                     // 语言区域代码
      
      "prices": {
        "per_page": "0.5",                   // 每页价格（数字）
        "per_page_display": "HK$0.5",        // 显示格式
        "monthly": "58",                     // 月费（数字）
        "monthly_display": "HK$58",          // 显示格式
        "yearly": "552",                     // 年费（数字）
        "yearly_display": "HK$552"           // 显示格式
      },
      
      "banks": [                             // 本地银行列表
        "匯豐HSBC",
        "恆生",
        "中銀",
        "渣打"
      ],
      
      "accounting_standard": "香港會計準則",  // 会计准则
      "accounting_standard_code": "HKFRS",   // 准则代码
      "example_company": "香港茶餐廳"         // 示例公司名称
    }
  }
}
```

---

## 🎯 使用场景

### 场景1：修改中文版内容

```bash
# 1. 编辑中文版
vim index.html
# 修改任何内容（标题、描述、功能介绍等）

# 2. 同步到其他版本
python3 sync_index_intelligent.py

# 3. 完成！✅
# - 内容已同步
# - 价格保持不变（英文版仍是$0.06，日文版仍是¥8）
# - 地区保持不变（英文版仍是美国，日文版仍是日本）
```

### 场景2：调整价格

```bash
# 1. 编辑配置文件
vim index_localization_config.json

# 2. 修改目标版本的价格
# 例如：将英文版月费从$6.99改为$7.99

# 3. 同步
python3 sync_index_intelligent.py

# 4. 验证
open en/index.html  # 查看价格已更新
```

### 场景3：添加新功能描述

```bash
# 1. 在中文版添加新功能
vim index.html
# 添加：<p>新功能：智能分类</p>

# 2. 在脚本中添加翻译
vim sync_index_intelligent.py
# 在 TRANSLATION_DICT 添加：
# '智能分类': {'en': 'Smart Categorization', 'jp': 'スマート分類', 'kr': '스마트 분류'}

# 3. 同步
python3 sync_index_intelligent.py

# 4. 完成！新功能在所有版本中都有对应翻译
```

---

## 💰 汇率参考

### 当前汇率（供参考）

基准：HK$0.5/页

| 货币 | 汇率 | 转换价格 | 使用价格 |
|------|------|---------|----------|
| USD | 1 HKD = 0.13 USD | $0.065 | $0.06 |
| JPY | 1 HKD = 16 JPY | ¥8 | ¥8 |
| KRW | 1 HKD = 160 KRW | ₩80 | ₩80 |

**注意：** 价格已考虑本地市场购买力，不是简单的汇率转换。

---

## 🔍 内容保护机制

### 自动保护的内容

✅ **价格信息**
- HK$0.5 → $0.06/¥8/₩80
- HK$58 → $6.99/¥880/₩8,800
- "每页低至 HK$0.5" → "From $0.06/page"

✅ **地区信息**
- 香港 → 美国/日本/韩国
- Hong Kong → United States/Japan/South Korea
- 香港企業 → US businesses/日本企業/한국 기업

✅ **银行列表**
- 匯豐/恆生/中銀 → Bank of America/Chase/Wells Fargo
- → 三菱UFJ/みずほ/三井住友
- → KB국민은행/신한은행/우리은행

✅ **会计准则**
- 香港會計準則(HKFRS) → GAAP/日本会計基準/한국회계기준

✅ **示例公司**
- 香港茶餐廳 → Tech Startup Inc./東京レストラン/서울 레스토랑

---

## 🌐 翻译的内容

### 自动翻译的通用内容

✅ **功能描述**
- 自動分類收支交易 → Auto categorize income and expense
- 一鍵匯出 QuickBooks → One-click export to QuickBooks
- 98% 準確率 → 98% Accuracy

✅ **按钮和行动号召**
- 立即免費試用 → Try Free Now / 今すぐ無料で試す / 지금 무료로 체험
- 開始使用 → Get Started / 始める / 시작하기

✅ **导航菜单**
- 功能 → Features / 機能 / 기능
- 價格 → Pricing / 価格 / 가격
- 儀表板 → Dashboard / ダッシュボード / 대시보드

---

## 📝 维护指南

### 日常维护

**每次修改中文版后：**
```bash
# 运行同步
python3 sync_index_intelligent.py

# 验证结果
open en/index.html
open jp/index.html
open kr/index.html
```

### 添加新翻译

编辑 `sync_index_intelligent.py`，在 `TRANSLATION_DICT` 中添加：

```python
TRANSLATION_DICT = {
    # ... 现有翻译 ...
    
    # 添加新翻译
    '您的新术语': {
        'en': 'Your New Term',
        'jp': 'あなたの新しい用語',
        'kr': '새로운 용어'
    },
}
```

### 更新价格

编辑 `index_localization_config.json`：

```json
{
  "regions": {
    "en": {
      "prices": {
        "monthly": "7.99",              // ← 更新价格
        "monthly_display": "$7.99"      // ← 更新显示格式
      }
    }
  }
}
```

---

## ⚠️ 注意事项

### 重要规则

✅ **正确做法：**
1. 只修改中文版 `index.html`
2. 修改价格时编辑 `index_localization_config.json`
3. 修改后运行 `python3 sync_index_intelligent.py`

❌ **错误做法：**
1. ❌ 不要直接修改 `en/index.html`、`jp/index.html`、`kr/index.html`
2. ❌ 不要在中文版中硬编码其他语言的价格
3. ❌ 不要手动复制粘贴内容到其他版本

### 特殊情况处理

**如果某个版本需要特殊内容：**
1. 先运行同步脚本
2. 然后手动修改该版本的特殊内容
3. 记录修改，下次同步时注意

**如果发现价格没有正确替换：**
1. 检查配置文件中的价格格式
2. 检查中文版中的价格格式是否一致
3. 查看脚本的正则表达式是否需要更新

---

## 🎯 效率对比

### 传统方式 ❌

```
1. 修改中文版 index.html
2. 复制到 en/index.html
3. 手动替换所有价格（HK$ → $）
4. 手动替换所有地区（香港 → 美国）
5. 手动翻译所有文本
6. 重复步骤2-5 for 日文版
7. 重复步骤2-5 for 韩文版

时间：2-3小时
错误率：高（容易遗漏或错误）
```

### 智能同步方式 ✅

```
1. 修改中文版 index.html
2. 运行：python3 sync_index_intelligent.py
3. 完成！✅

时间：30秒
错误率：低（自动化处理）
效率提升：240-360倍！
```

---

## 🎉 成就解锁

✅ 创建智能首页同步系统  
✅ 自动保护价格信息  
✅ 自动保护地区信息  
✅ 配置文件化管理  
✅ 支持4种语言和货币  
✅ 一键同步所有版本  
✅ 效率提升240-360倍

---

## 📖 相关文档

- `index_localization_config.json` - 价格和地区配置
- `sync_index_intelligent.py` - 智能同步脚本
- `🎊_多语言系统_完整部署报告.md` - 整体系统报告

---

## 🚀 快速参考

```bash
# 同步首页到所有版本
python3 sync_index_intelligent.py

# 修改价格
vim index_localization_config.json

# 添加新翻译
vim sync_index_intelligent.py  # 编辑 TRANSLATION_DICT

# 验证结果
open en/index.html
open jp/index.html
open kr/index.html
```

---

**系统版本：** v1.0  
**创建日期：** 2025年12月21日  
**状态：** ✅ 已部署，运行中

🎉 **恭喜！现在可以高效同步首页，同时保护价格和地区信息！** 🌐✨



