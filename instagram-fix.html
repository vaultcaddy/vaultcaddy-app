<!-- Instagram WebView å…¼å®¹æ€§æµ‹è¯•é¡µé¢ -->
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" type="image/png" href="favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram å…¼å®¹æ€§æµ‹è¯•</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            padding: 2rem;
            max-width: 600px;
            margin: 0 auto;
        }
        .status {
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 8px;
            background: #f3f4f6;
        }
        .success { background: #d1fae5; color: #065f46; }
        .error { background: #fee2e2; color: #991b1b; }
        .info { background: #dbeafe; color: #1e40af; }
    </style>
</head>
<body>
    <h1>ğŸ” Instagram WebView å…¼å®¹æ€§æµ‹è¯•</h1>
    
    <div id="results">
        <div class="status">æ£€æµ‹ä¸­...</div>
    </div>
    
    <script>
        const results = document.getElementById('results');
        
        function addStatus(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.textContent = message;
            results.appendChild(div);
        }
        
        // æ¸…é™¤åˆå§‹æ¶ˆæ¯
        results.innerHTML = '';
        
        // 1. æ£€æµ‹æµè§ˆå™¨ç¯å¢ƒ
        const userAgent = navigator.userAgent || navigator.vendor || window.opera;
        const isInstagram = (userAgent.indexOf('Instagram') > -1);
        const isFBWebView = (userAgent.indexOf('FBAN') > -1 || userAgent.indexOf('FBAV') > -1);
        
        addStatus(`User Agent: ${userAgent}`, 'info');
        addStatus(`Instagram WebView: ${isInstagram ? 'æ˜¯' : 'å¦'}`, isInstagram ? 'success' : 'info');
        addStatus(`Facebook WebView: ${isFBWebView ? 'æ˜¯' : 'å¦'}`, isFBWebView ? 'success' : 'info');
        
        // 2. æ£€æµ‹JavaScriptåŠŸèƒ½
        addStatus('âœ… JavaScript æ­£å¸¸æ‰§è¡Œ', 'success');
        
        // 3. æ£€æµ‹DOM API
        try {
            document.createElement('div');
            addStatus('âœ… DOM API å¯ç”¨', 'success');
        } catch (e) {
            addStatus('âŒ DOM API é”™è¯¯: ' + e.message, 'error');
        }
        
        // 4. æ£€æµ‹Fetch API
        if (typeof fetch !== 'undefined') {
            addStatus('âœ… Fetch API å¯ç”¨', 'success');
        } else {
            addStatus('âŒ Fetch API ä¸å¯ç”¨', 'error');
        }
        
        // 5. æ£€æµ‹Local Storage
        try {
            localStorage.setItem('test', 'test');
            localStorage.removeItem('test');
            addStatus('âœ… Local Storage å¯ç”¨', 'success');
        } catch (e) {
            addStatus('âŒ Local Storage é”™è¯¯: ' + e.message, 'error');
        }
        
        // 6. æ£€æµ‹ç½‘ç»œè¿æ¥
        fetch('https://vaultcaddy.com/index.html')
            .then(response => {
                addStatus('âœ… ç½‘ç»œè¿æ¥æ­£å¸¸', 'success');
                addStatus(`çŠ¶æ€ç : ${response.status}`, 'info');
            })
            .catch(err => {
                addStatus('âŒ ç½‘ç»œè¿æ¥å¤±è´¥: ' + err.message, 'error');
            });
        
        // 7. æ£€æµ‹Firebase CDN
        fetch('https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js', { method: 'HEAD' })
            .then(response => {
                if (response.ok) {
                    addStatus('âœ… Firebase CDN å¯è®¿é—®', 'success');
                } else {
                    addStatus('âŒ Firebase CDN è®¿é—®å¤±è´¥: ' + response.status, 'error');
                }
            })
            .catch(err => {
                addStatus('âŒ Firebase CDN é”™è¯¯: ' + err.message, 'error');
            });
        
        // 8. æ£€æµ‹CSSåŠ è½½
        const style = window.getComputedStyle(document.body);
        addStatus(`âœ… CSS åŠ è½½æ­£å¸¸ (å­—ä½“: ${style.fontFamily})`, 'success');
        
        // 9. æ˜¾ç¤ºçª—å£ä¿¡æ¯
        addStatus(`çª—å£å¤§å°: ${window.innerWidth}x${window.innerHeight}`, 'info');
        addStatus(`å±å¹•å¤§å°: ${screen.width}x${screen.height}`, 'info');
    </script>
</body>
</html>

