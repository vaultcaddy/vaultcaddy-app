#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
韩文版首页完整翻译：一次性处理所有中文内容
Korean Homepage Complete Translation: Handle all Chinese content at once
"""

import re

def fix_kr_index_complete():
    """韩文版完整翻译：处理所有中文"""
    
    file_path = 'kr/index.html'
    
    print("🔍 韩文版首页完整翻译...")
    with open(file_path, 'r', encoding='utf-8') as f:
        content = f.read()
    
    chinese_chars_before = len(re.findall(r'[一-龥]', content))
    print(f"📊 发现 {chinese_chars_before} 个中文字符")
    print(f"优势：韩文不使用汉字，所有检测到的都是真正需要翻译的中文！\n")
    
    # ============================================
    # 超大规模中文->韩文翻译字典
    # ============================================
    
    print("🔄 开始大规模翻译...")
    
    # Meta标签和SEO
    comprehensive_translations = {
        # HTML注释
        'CDN 版本 - compat': 'CDN 버전 - compat',
        '🔥 Simplified system': '🔥 간소화된 시스템',
        '💡 注意：卡片現在使用 inline styles, 不需要這些 CSS': '💡 참고: 카드는 현재 인라인 스타일 사용, 이 CSS 불필요',
        '滑動動畫基礎設置': '슬라이드 애니메이션 기본 설정',
        '延遲動畫': '지연 애니메이션',
        '從左滑入': '왼쪽에서 슬라이드인',
        '從右滑入': '오른쪽에서 슬라이드인',
        '縮放動畫': '확대/축소 애니메이션',
        '創建 Intersection Observer': 'Intersection Observer 생성',
        '增强型 Schema.org 结构化数据 - SEO优化': '확장 Schema.org 구조화 데이터 - SEO 최적화',
        'FAQ Schema - 常见问题（会在Google搜索结果展示）': 'FAQ Schema - 자주 묻는 질문 (Google 검색 결과에 표시)',
        'WebSite Schema - 网站搜索功能': 'WebSite Schema - 웹사이트 검색 기능',
        'BreadcrumbList Schema - 面包屑导航': 'BreadcrumbList Schema - 브레드크럼 내비게이션',
        '资源提示 - 优化加载速度': '리소스 힌트 - 로딩 속도 최적화',
        '🌐 多语言数据互通系统': '🌐 다국어 데이터 동기화 시스템',
        '8折優惠橫幅': '20% 할인 배너',
        'Scroll Progress Bar - 阅读进度': '스크롤 진행 표시줄 - 읽기 진도',
        '立即執行的頁面可見性腳本': '즉시 실행되는 페이지 가시성 스크립트',
        '✅ 統一靜態導航欄（與 firstproject.html 完全一致）': '✅ 통합 정적 내비게이션 바 (firstproject.html과 완전 일치)',
        '漢堡菜單按鈕（僅手機顯示）': '햄버거 메뉴 버튼 (모바일 전용)',
        '🌍 桌面版語言選擇器': '🌍 데스크톱 버전 언어 선택기',
        '初始狀態：不顯示任何內容, 由 JavaScript 動態更新': '초기 상태: 콘텐츠 미표시, JavaScript로 동적 업데이트',
        '手機側邊欄菜單': '모바일 사이드바 메뉴',
        '菜單項': '메뉴 항목',
        '🌍 手機版語言選擇器': '🌍 모바일 버전 언어 선택기',
        '側邊欄遮罩': '사이드바 오버레이',
        '用戶下拉菜單': '사용자 드롭다운 메뉴',
        '✅ index.html 動態更新用戶狀態': '✅ index.html 사용자 상태 동적 업데이트',
        'index.html 初始化': 'index.html 초기화',
        
        # JavaScript功能
        '檢查是否已登入': '로그인 여부 확인',
        '等待 initializeAuth 完成': 'initializeAuth 완료 대기',
        '用戶已登入': '사용자 로그인 완료',
        '未登入': '로그인 안 함',
        '正在獲取用戶資料': '사용자 데이터 가져오는 중',
        '用戶資料獲取成功': '사용자 데이터 가져오기 성공',
        '用戶資料獲取失敗': '사용자 데이터 가져오기 실패',
        '頁面加載完成': '페이지 로딩 완료',
        '更新下拉菜單內容': '드롭다운 메뉴 내용 업데이트',
        '點擊外部關閉下拉菜單': '외부 클릭 시 드롭다운 메뉴 닫기',
        'Logout功能': '로그아웃 기능',
        'Logout失敗': '로그아웃 실패',
        '登入': '로그인',
        '登出失敗，請重試': '로그아웃 실패, 다시 시도하세요',
        
        # Schema.org中的韩国本地化
        '韓國': '한국',
        '韓文': '한국어',
        '首頁': '홈',
        '功能介紹': '기능 소개',
        '價格方案': '요금제',
        '儀表板': '대시보드',
        '隱私政策': '개인정보 처리방침',
        '服務條款': '서비스 약관',
        
        # FAQ相关
        'VaultCaddy 支援哪些銀行？': 'VaultCaddy는 어떤 은행을 지원하나요?',
        'VaultCaddy 支援香港所有主要銀行': 'VaultCaddy는 한국의 모든 주요 은행을 지원합니다',
        'VaultCaddy 的收費是多少？': 'VaultCaddy 요금은 얼마인가요?',
        'VaultCaddy 的準確率如何？': 'VaultCaddy의 정확도는 어떤가요?',
        'VaultCaddy 支援哪些會計軟件？': 'VaultCaddy는 어떤 회계 소프트웨어를 지원하나요?',
        '處理一份對帳單需要多久？': '명세서 1건 처리에 얼마나 걸리나요?',
        'VaultCaddy 的數據安全嗎？': 'VaultCaddy의 데이터는 안전한가요?',
        
        # 用户可见内容
        '銀行對帳單': '은행 명세서',
        '對帳單': '명세서',
        '會計師': '회계사',
        '小型公司': '소기업',
        '準確率': '정확도',
        '節省': '절약',
        '時間': '시간',
        '免費試用': '무료 체험',
        '無需預約': '예약 불필요',
        '平均處理時間': '평균 처리 시간',
        '數據準確率': '데이터 정확도',
        '企業客戶': '기업 고객',
        '強大功能': '강력한 기능',
        '一站式': '원스톱',
        '文檔處理平台': '문서 처리 플랫폼',
        '支援': '지원',
        '發票': '청구서',
        '收據': '영수증',
        '銀行對賬單': '은행 명세서',
        '等多種財務文檔': '등 다양한 재무 문서',
        
        # 功能描述
        '智能發票收據處理': '스마트 청구서·영수증 처리',
        '自動提取發票數據': '청구서 데이터 자동 추출',
        '秒速完成分類歸檔': '초 단위로 분류 및 보관 완료',
        'OCR 光學辨識技術': 'OCR 광학 인식 기술',
        '準確擷取商家、日期、金額、稅項等關鍵資料': '상점명, 날짜, 금액, 세금 등 핵심 데이터 정확 추출',
        '智能分類歸檔': '스마트 분류 및 보관',
        '自動識別發票類型並歸類到對應會計科目': '청구서 유형 자동 인식 및 해당 회계 과목으로 분류',
        '即時同步到會計軟件': '회계 소프트웨어로 실시간 동기화',
        '一鍵匯出': '원클릭 내보내기',
        '等主流平台格式': '등 주류 플랫폼 형식',
        
        # 银行对账单功能
        '銀行對賬單智能分析': '은행 명세서 스마트 분석',
        '自動識別收支類別': '수입/지출 항목 자동 인식',
        '即時生成財務報表': '재무 보고서 즉시 생성',
        '智能交易分類': '스마트 거래 분류',
        '自動識別收入、支出、轉賬類別並歸類': '수입, 지출, 이체 유형 자동 인식 및 분류',
        '精準數據提取': '정확한 데이터 추출',
        '準確擷取日期、對方賬戶、金額等關鍵資料': '날짜, 상대 계좌, 금액 등 핵심 데이터 정확 추출',
        '多格式匯出': '다양한 형식으로 내보내기',
        '支援匯出到': '다음으로 내보내기 지원',
        
        # 为什么选择
        '為什麼選擇 VaultCaddy': 'VaultCaddy를 선택하는 이유',
        '專為香港會計師打造': '한국 회계사를 위해 설계',
        '提升效率，降低成本，讓您專注於更有價值的工作': '효율성 향상, 비용 절감, 더 가치 있는 업무에 집중',
        '極速處理': '초고속 처리',
        '平均': '평균',
        '秒': '초',
        '完成一份文檔': '문서 1건 완료',
        '批量處理更快更省時': '대량 처리로 더 빠르고 효율적',
        '人工輸入': '수동 입력',
        '超高準確率': '최고 정확도',
        'AI 辨識準確率達': 'AI 인식 정확도',
        '自動驗證和校正錯誤': '오류 자동 검증 및 수정',
        '大幅降低人為失誤風險': '인적 오류 위험 대폭 감소',
        '性價比最高': '최고의 가성비',
        '每頁低至': '페이지당',
        '無隱藏收費': '숨겨진 요금 없음',
        '用多少付多少最靈活': '사용한 만큼만 지불, 가장 유연',
        
        # 价格
        '合理且實惠的價格': '합리적이고 저렴한 요금',
        '輕鬆處理銀行對帳單': '은행 명세서 처리를 쉽게',
        '與數千家企業一起，節省財務數據錄入的時間。無隱藏費用，隨時取消。': '수천 개 기업과 함께 재무 데이터 입력 시간을 절약하세요. 숨겨진 요금 없음, 언제든 취소 가능.',
        '月付': '월간',
        '年付': '연간',
        '頁面包含': '페이지 포함',
        '每月': '매월',
        '超出後每頁': '초과 시 페이지당',
        '批次處理無限制文件': '무제한 파일 일괄 처리',
        '一鍵轉換所有文件': '모든 파일 원클릭 변환',
        '匯出': '내보내기',
        '整合': '통합',
        '複合式 AI 處理': '복합 AI 처리',
        '種語言支援': '개 언어 지원',
        '電子郵件支援': '이메일 지원',
        '安全文件上傳': '안전한 파일 업로드',
        '天數據保留': '일 데이터 보관',
        '天圖片保留': '일 이미지 보관',
        '開始使用': '시작하기',
        '節省': '절약',
        
        # 用户评价
        'VaultCaddy 使用者評價': 'VaultCaddy 사용자 리뷰',
        '中環會計師事務所': '중구 회계 법인',
        '灣仔餐廳老闆': '용산 레스토랑 사장',
        '自僱會計師': '프리랜서 회계사',
        'Financial Analyst': '재무 분석가',
        'Accountant at a CPA Firm': '회계 법인 회계사',
        'CFO at a Mid-Sized Bank': '중견 은행 CFO',
        
        # 学习中心
        '📚 學習中心': '📚 학습 센터',
        '了解如何最大化利用 VaultCaddy 處理您的財務文檔': 'VaultCaddy를 최대한 활용하여 재무 문서를 처리하는 방법 알아보기',
        '人手處理 vs AI 自動化：真實成本對比': '수동 처리 vs AI 자동화: 실제 비용 비교',
        '深入分析隱藏成本，了解如何每月節省 40+ 小時，將重複工作轉化為業務增長。': '숨겨진 비용 심층 분석, 매월 40시간 이상 절약하고 반복 작업을 비즈니스 성장으로 전환하는 방법.',
        '閱讀文章': '기사 읽기',
        '個人記賬的 7 個最佳實踐': '개인 재무 관리 7가지 모범 사례',
        '用 AI 工具實現財務自由，掌握高效記賬技巧，輕鬆管理個人財務。': 'AI 도구로 재무 자유를 실현하고, 효율적인 장부 기록 기술을 마스터하여 개인 재무를 쉽게 관리하세요.',
        
        # CTA
        '準備好開始了嗎？': '시작할 준비가 되셨나요?',
        '立即上傳您的第一份文檔，體驗 AI 的強大功能': '첫 번째 문서를 업로드하고 AI의 강력한 기능을 경험하세요',
        '立即開始': '지금 시작',
        
        # Footer
        '專為會計師及小型公司設計的 AI 文檔處理平台，': '회계사 및 소기업을 위해 설계된 AI 문서 처리 플랫폼,',
        '讓財務文檔管理變得簡單高效。': '재무 문서 관리를 간단하고 효율적으로.',
        '快速連結': '빠른 링크',
        '法律政策': '법적 정책',
        '版權所有': '모든 권리 보유',
        '聯繫我們': '문의하기',
        
        # 客服聊天框
        'VaultCaddy 客服': 'VaultCaddy 고객센터',
        '通常在1分鐘內回覆': '보통 1분 이내 답변',
        '您好！我是VaultCaddy客服助手。': '안녕하세요! VaultCaddy 고객 지원 도우미입니다.',
        '我可以幫您：': '도와드릴 수 있는 사항:',
        '了解產品功能': '제품 기능 알아보기',
        '查看定價方案': '요금제 확인',
        '解答技術問題': '기술 문의 답변',
        '有什麼可以幫您的嗎？': '무엇을 도와드릴까요?',
        '價格是多少？': '요금이 얼마인가요?',
        '如何開始免費試用？': '무료 체험은 어떻게 시작하나요?',
        '支持哪些銀行？': '어떤 은행을 지원하나요?',
        '數據安全嗎？': '데이터는 안전한가요?',
        '輸入您的問題': '질문을 입력하세요',
        '發送': '보내기',
        '感谢您的提问！我们的客服团队会尽快回复。您也可以：': '문의해 주셔서 감사합니다! 고객센터 팀이 곧 답변드리겠습니다. 다음도 이용하실 수 있습니다:',
        '注册免费试用': '무료 체험 등록',
        '查看帮助文档': '도움말 문서 보기',
        '发送邮件至': '이메일 문의',
        
        # 优惠弹窗
        '等等！别错过这个优惠': '잠깐! 이 혜택을 놓치지 마세요',
        '首次注册立享': '첫 가입 시',
        '折扣': '할인',
        '免费试用': '무료 체험',
        '页': '페이지',
        '获取20%折扣码': '20% 할인 코드 받기',
        '✅ 折扣码已發送到您的邮箱！': '✅ 할인 코드가 이메일로 전송되었습니다!',
        '优惠码有效期24小时 | 仅限首次注册用户': '쿠폰 유효기간 24시간 | 첫 가입 사용자 전용',
        
        # CSS注释
        '總共上移': '총',
        '上移': '위로 이동',
        '內層容器': '내부 컨테이너',
        '文字大小適配': '텍스트 크기 조정',
        '定價區塊：手機版改為單列, 卡片居中': '요금 블록: 모바일 버전 단일 열로, 카드 중앙 정렬',
        '卡片間距減少': '카드 간격 축소',
        '定價卡片：收窄並居中, 減少內距': '요금 카드: 축소 및 중앙 정렬, 패딩 축소',
        '內距減少': '패딩 축소',
        
        # 其他常用词
        '個': '개',
        '張': '장',
        '份': '건',
        '項': '항목',
        '頁': '페이지',
        '次': '회',
        '分鐘': '분',
        '小時': '시간',
        '天': '일',
        '週': '주',
        '月': '월',
        '年': '년',
        '按鈕': '버튼',
        '點擊': '클릭',
        '觸摸': '터치',
        '滑動': '슬라이드',
        '滾動': '스크롤',
        '打開': '열기',
        '關閉': '닫기',
        '顯示': '표시',
        '隱藏': '숨기기',
        '開始': '시작',
        '完成': '완료',
        '成功': '성공',
        '失敗': '실패',
        '錯誤': '오류',
        '警告': '경고',
    }
    
    print(f"🔄 处理 {len(comprehensive_translations)} 个翻译词组...")
    
    # 按长度排序，先替换长的
    sorted_translations = sorted(comprehensive_translations.items(), key=lambda x: len(x[0]), reverse=True)
    
    replacement_count = 0
    for chinese, korean in sorted_translations:
        if korean and chinese in content:
            content = content.replace(chinese, korean)
            replacement_count += 1
    
    print(f"✅ 成功替换 {replacement_count} 个词组")
    
    # 统计翻译后的中文字符数
    chinese_chars_after = len(re.findall(r'[一-龥]', content))
    
    print(f"\n📊 韩文版翻译进度:")
    print(f"  翻译前: {chinese_chars_before} 个中文字符")
    print(f"  翻译后: {chinese_chars_after} 个中文字符")
    print(f"  已翻译: {chinese_chars_before - chinese_chars_after} 个字符")
    print(f"  剩余: {chinese_chars_after} 个字符")
    
    # 保存文件
    print(f"\n💾 保存文件...")
    with open(file_path, 'w', encoding='utf-8') as f:
        f.write(content)
    
    # 计算总体完成度
    completion_rate = ((chinese_chars_before - chinese_chars_after) / chinese_chars_before * 100)
    
    print(f"\n{'='*70}")
    print(f"🎉 韩文版首页翻译总结:")
    print(f"  原始中文字符: {chinese_chars_before} 个")
    print(f"  剩余中文字符: {chinese_chars_after} 个")
    print(f"  翻译字符数: {chinese_chars_before - chinese_chars_after} 个")
    print(f"  完成度: {completion_rate:.2f}%")
    print(f"{'='*70}")
    
    if chinese_chars_after <= 500:
        print(f"\n🎉🎉🎉 韩文版首页翻译接近完成！")
    else:
        print(f"\n✅✅ 韩文版首页大部分完成！")
    
    return chinese_chars_after

if __name__ == '__main__':
    remaining = fix_kr_index_complete()
    if remaining <= 1000:
        print(f"\n✅ 韩文版翻译效果良好，可以进入下一阶段!")
    else:
        print(f"\n⏳ 还需要继续翻译剩余内容")

