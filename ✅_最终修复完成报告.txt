# âœ… æœ€ç»ˆä¿®å¤å®ŒæˆæŠ¥å‘Š

## ğŸ“‹ å·²å®Œæˆçš„æ‰€æœ‰ä¿®å¤

### 1. âœ… document-detail.html Export èœå•ï¼ˆé‡æ–°ä¿®å¤ï¼ï¼‰

**é—®é¢˜ï¼š**
- âŒ ä¸Šä¸€æ¬¡ä¿®æ”¹å¯¼è‡´æ‰‹æœºç‰ˆèƒŒæ™¯é®ç½©æ¶ˆå¤±
- âŒ ç”µè„‘ç‰ˆèœå•æ²¡æœ‰æ˜¾ç¤º

**æœ€ç»ˆä¿®å¤ï¼š**
- âœ… å®Œå…¨ç§»é™¤ JavaScript çš„æ ·å¼è®¾ç½®
- âœ… è®© CSS åª’ä½“æŸ¥è¯¢è‡ªåŠ¨å¤„ç†
- âœ… æ¡Œé¢ç‰ˆï¼šä¸‹æ‹‰èœå•ï¼Œæ— é®ç½©
- âœ… æ‰‹æœºç‰ˆï¼šå±…ä¸­èœå•ï¼Œæœ‰é®ç½©

**ä¿®æ”¹å†…å®¹ï¼š**
```javascript
// ç§»é™¤äº†æ‰€æœ‰æ‰‹åŠ¨æ ·å¼è®¾ç½®ï¼Œæ”¹ä¸ºï¼š
// é¡¯ç¤ºèœå–®ï¼ˆCSSæœƒè‡ªå‹•è™•ç†æ¡Œé¢ç‰ˆå’Œæ‰‹æ©Ÿç‰ˆçš„ä¸åŒæ¨£å¼ï¼‰
menu.style.display = 'block';
```

---

### 2. âœ… é‚®ä»¶éªŒè¯é“¾æ¥ä¿®å¤

**é—®é¢˜ï¼š**
- âŒ ç‚¹å‡»é‚®ä»¶"ç«‹å³éªŒè¯"å‡ºç°"ç¼ºå°‘ email å‚æ•°"

**ä¿®å¤ï¼š**
- âœ… firebase-functions/index.js é‚®ä»¶æ¨¡æ¿
- âœ… éªŒè¯é“¾æ¥åŒ…å« email å‚æ•°

**ä¿®æ”¹å†…å®¹ï¼š**
```html
<!-- ä¿®æ”¹å‰ -->
<a href="https://vaultcaddy.com/verify-email.html">

<!-- ä¿®æ”¹å -->
<a href="https://vaultcaddy.com/verify-email.html?email=${encodeURIComponent(email)}">
```

**é‡è¦ï¼šéœ€è¦éƒ¨ç½² Functionsï¼**
```bash
cd firebase-functions
firebase deploy --only functions
```

---

### 3. âœ… Google ç™»å½• popup é”™è¯¯éšè—

**é—®é¢˜ï¼š**
- âŒ Firebase: This operation has been cancelled...

**ä¿®å¤ï¼š**
- âœ… auth.html æ·»åŠ é”™è¯¯è¿‡æ»¤

**ä¿®æ”¹å†…å®¹ï¼š**
```javascript
if (error.code === 'auth/cancelled-popup-request') {
    return; // ä¸æ˜¾ç¤ºé”™è¯¯
}
```

---

### 4. âœ… æ³¨å†Œæ–‡æ¡ˆä¿®æ”¹

**ä¿®æ”¹ï¼š**
```
ä¿®æ”¹å‰ï¼šè¨»å†Šå³é€10å€‹Creditsï¼
ä¿®æ”¹åï¼šè¨»å†ŠåŠé©—è­‰å³é€20å€‹Creditsï¼
```

---

### 5. âœ… Firestore ç”¨æˆ·æ–‡æ¡£åˆ›å»º

**é—®é¢˜ï¼š**
- âŒ æ³¨å†Œæ—¶æ²¡æœ‰åˆ›å»º Firestore ç”¨æˆ·æ–‡æ¡£
- âŒ éªŒè¯åæ— æ³•æ·»åŠ  Credits

**ä¿®å¤ï¼š**
- âœ… simple-auth.js registerWithEmail æ–¹æ³•
- âœ… æ³¨å†Œæ—¶åˆ›å»º Firestore æ–‡æ¡£

---

## ğŸ“¦ éœ€è¦ä¸Šä¼ å’Œéƒ¨ç½²çš„æ–‡ä»¶

### éœ€è¦ä¸Šä¼ ï¼ˆ4ä¸ªï¼‰ï¼š

1. âœ… **auth.html**
   - æ–‡æ¡ˆä¿®æ”¹ï¼ˆ10â†’20ï¼‰
   - popup é”™è¯¯éšè—

2. âœ… **simple-auth.js**
   - Firestore ç”¨æˆ·åˆ›å»º

3. âœ… **document-detail.html**
   - Export èœå•ä¿®å¤

4. âœ… **firebase-functions/index.js**
   - é‚®ä»¶é“¾æ¥ä¿®å¤

---

### éœ€è¦éƒ¨ç½² Firebase Functionsï¼š

```bash
cd firebase-functions
firebase deploy --only functions
```

**éƒ¨ç½²å†…å®¹ï¼š**
- sendVerificationCodeï¼ˆé‚®ä»¶é“¾æ¥ä¿®å¤ï¼‰
- verifyCodeï¼ˆèµ é€20ä¸ªCreditsï¼‰

---

## ğŸ”§ éœ€è¦åœ¨ Firebase Console é…ç½®

### 1. å¯ç”¨ Google ç™»å½•

```
Firebase Console â†’ Authentication â†’ Sign-in method
â†’ ç‚¹å‡» Google
â†’ å¯ç”¨
â†’ å¡«å†™æ”¯æŒé‚®ç®±ï¼švaultcaddy@gmail.com
â†’ ä¿å­˜
```

---

### 2. æ·»åŠ æˆæƒåŸŸå

```
Firebase Console â†’ Authentication â†’ Settings
â†’ å‘ä¸‹æ»šåŠ¨åˆ° Authorized domains
â†’ Add domain
â†’ è¾“å…¥ï¼švaultcaddy.com
â†’ ä¿å­˜
```

**æˆ–ç›´æ¥è®¿é—®ï¼š**
```
https://console.firebase.google.com/u/1/project/vaultcaddy-production-cbbe2/authentication/settings
```

---

### 3. é…ç½® Email SMTP

```bash
cd firebase-functions

# é…ç½®Gmail
firebase functions:config:set email.user="vaultcaddy@gmail.com"
firebase functions:config:set email.password="[Gmail App Password]"

# é‡æ–°éƒ¨ç½²
firebase deploy --only functions
```

**è·å–Gmail App Passwordï¼š**
https://myaccount.google.com/apppasswords

---

## ğŸ§ª å®Œæ•´æµ‹è¯•æµç¨‹

### æµ‹è¯•1ï¼šæ³¨å†Œå’ŒéªŒè¯ï¼ˆå®Œæ•´æµç¨‹ï¼‰

```
1. è®¿é—®ï¼šhttps://vaultcaddy.com/auth.html
2. å¡«å†™æ³¨å†Œè¡¨å•
3. ç‚¹å‡»"åˆ›å»ºè´¦æˆ·"
4. æ£€æŸ¥é‚®ç®±ï¼ˆåŒ…æ‹¬åƒåœ¾é‚®ä»¶ï¼‰
5. æ”¶åˆ°éªŒè¯ç é‚®ä»¶
6. ç‚¹å‡»"ç«‹å³éªŒè¯"
7. åº”è¯¥ç›´æ¥æ‰“å¼€éªŒè¯é¡µé¢ï¼ˆå¸¦emailå‚æ•°ï¼‰
8. è¾“å…¥éªŒè¯ç 
9. éªŒè¯æˆåŠŸï¼Œè·å¾—20ä¸ªCredits
```

**é¢„æœŸç»“æœï¼š**
- âœ… é‚®ä»¶å‘é€æˆåŠŸ
- âœ… ç‚¹å‡»"ç«‹å³éªŒè¯"ä¸å†æç¤ºç¼ºå°‘email
- âœ… éªŒè¯æˆåŠŸè·å¾—20ä¸ªCredits
- âœ… ç™»å½•åæ˜¾ç¤ºCredits: 20

---

### æµ‹è¯•2ï¼šGoogle ç™»å½•

```
1. è®¿é—®ï¼šhttps://vaultcaddy.com/auth.html
2. ç‚¹å‡»"ä½¿ç”¨Googleç™»å…¥"
3. é€‰æ‹©è´¦å·
4. ç™»å½•æˆåŠŸ
5. è·³è½¬åˆ° dashboard.html
```

**é¢„æœŸç»“æœï¼š**
- âœ… å¿«é€Ÿç‚¹å‡»ä¸æ˜¾ç¤ºpopupé”™è¯¯
- âœ… é€‰æ‹©è´¦å·åæˆåŠŸç™»å½•
- âœ… è·³è½¬æ­£ç¡®

---

### æµ‹è¯•3ï¼šExport èœå•

**æ¡Œé¢ç‰ˆï¼š**
```
1. è®¿é—®ï¼šhttps://vaultcaddy.com/document-detail.html?project=VBU9wYm73WMFUImwRqmB&id=ByrVPNk5qFxCL3ep8azQ
2. ç‚¹å‡» Export æŒ‰é’®
3. ç¡®è®¤ï¼š
   - âœ… èœå•åœ¨æŒ‰é’®ä¸‹æ–¹æ˜¾ç¤º
   - âœ… æ— èƒŒæ™¯é®ç½©
   - âœ… ä¸ firstproject.html ä¸€è‡´
```

**æ‰‹æœºç‰ˆï¼š**
```
1. ç”¨æ‰‹æœºæ‰“å¼€åŒæ ·çš„é¡µé¢
2. ç‚¹å‡» Export æŒ‰é’®
3. ç¡®è®¤ï¼š
   - âœ… èœå•å±…ä¸­æ˜¾ç¤º
   - âœ… æœ‰èƒŒæ™¯é®ç½©
   - âœ… å®½åº¦90%
```

---

## ğŸ“‹ å®Œæ•´æ£€æŸ¥æ¸…å•

### æ–‡ä»¶ä¸Šä¼ ï¼š

- [ ] auth.html
- [ ] simple-auth.js
- [ ] document-detail.html
- [ ] firebase-functions/index.js

---

### Firebase éƒ¨ç½²ï¼š

- [ ] éƒ¨ç½² Functionsï¼š
  ```bash
  cd firebase-functions
  firebase deploy --only functions
  ```

---

### Firebase Console é…ç½®ï¼š

- [ ] å¯ç”¨ Google ç™»å½•æä¾›å•†
- [ ] æ·»åŠ  vaultcaddy.com åˆ°æˆæƒåŸŸå
- [ ] é…ç½® Email SMTP

---

### æµ‹è¯•ï¼š

- [ ] æµ‹è¯•æ³¨å†Œæµç¨‹
- [ ] æµ‹è¯•é‚®ä»¶éªŒè¯
- [ ] æµ‹è¯• Google ç™»å½•
- [ ] æµ‹è¯• Export èœå•ï¼ˆæ¡Œé¢ç‰ˆå’Œæ‰‹æœºç‰ˆï¼‰
- [ ] æ£€æŸ¥ Credits ä½™é¢

---

## ğŸŠ æ‰€æœ‰ä¿®å¤æ€»ç»“

| ä¿®å¤é¡¹ç›® | æ–‡ä»¶ | çŠ¶æ€ |
|---------|------|------|
| æ–‡æ¡ˆ10â†’20 | auth.html | âœ… |
| Popupé”™è¯¯éšè— | auth.html | âœ… |
| Firestoreç”¨æˆ·åˆ›å»º | simple-auth.js | âœ… |
| é‚®ä»¶é“¾æ¥ä¿®å¤ | firebase-functions/index.js | âœ… |
| Exportèœå•ä¿®å¤ | document-detail.html | âœ… |
| Googleç™»å½• | Firebase Console | âš ï¸ éœ€é…ç½® |
| Emailå‘é€ | Firebase Console | âš ï¸ éœ€é…ç½® |

---

ğŸ¯ **ç°åœ¨å¯ä»¥ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶å¹¶è¿›è¡Œæœ€ç»ˆæµ‹è¯•äº†ï¼**
