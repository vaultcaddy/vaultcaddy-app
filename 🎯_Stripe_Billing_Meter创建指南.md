# ğŸ¯ Stripe Billing Meter åˆ›å»ºæŒ‡å—

## ç¬¬1æ­¥ï¼šåˆ›å»º Billing Meterï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰

### æ‰“å¼€åˆ›å»ºé¡µé¢
ğŸ‘‰ **æµ‹è¯•æ¨¡å¼**ï¼šhttps://dashboard.stripe.com/test/billing/meters/create

---

## å¡«å†™è¡¨å•

### 1ï¸âƒ£ Event Nameï¼ˆäº‹ä»¶åç§°ï¼‰
```
vaultcaddy_credit_usage
```
âš ï¸ **é‡è¦**ï¼šè¿™ä¸ªåç§°å¿…é¡»å®Œå…¨ä¸€è‡´ï¼Œä»£ç ä¸­ä¼šä½¿ç”¨è¿™ä¸ªåç§°ï¼

---

### 2ï¸âƒ£ Display Nameï¼ˆæ˜¾ç¤ºåç§°ï¼‰
```
VaultCaddy Credits Usage
```
ğŸ’¡ è¿™ä¸ªåç§°åªç”¨äºæ˜¾ç¤ºï¼Œå¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹

---

### 3ï¸âƒ£ Aggregationï¼ˆèšåˆæ–¹å¼ï¼‰
é€‰æ‹©ï¼š**Sumï¼ˆæ±‚å’Œï¼‰**

ğŸ’¡ è¿™æ„å‘³ç€ Stripe ä¼šå°†æ‰€æœ‰äº‹ä»¶çš„ `value` å­—æ®µç´¯åŠ èµ·æ¥

---

### 4ï¸âƒ£ Value Settingsï¼ˆå€¼è®¾ç½®ï¼‰
é€‰æ‹©ï¼š**Use value from event payloadï¼ˆä½¿ç”¨äº‹ä»¶è´Ÿè½½ä¸­çš„å€¼ï¼‰**

- Field path: `value`
- Type: `Numeric`

ğŸ’¡ æˆ‘ä»¬ä¼šåœ¨æ¯æ¬¡æ‰£é™¤ Credits æ—¶å‘é€å…·ä½“çš„æ•°å€¼ï¼ˆå¦‚ 1, 5, 10ï¼‰

---

### 5ï¸âƒ£ Event filtersï¼ˆäº‹ä»¶è¿‡æ»¤å™¨ï¼‰- å¯é€‰
**æš‚æ—¶ä¸è®¾ç½®**

ğŸ’¡ å¦‚æœå°†æ¥éœ€è¦åŒºåˆ†ä¸åŒç±»å‹çš„ä½¿ç”¨ï¼ˆå¦‚æ–‡æ¡£æ‰«æ vs API è°ƒç”¨ï¼‰ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ·»åŠ è¿‡æ»¤å™¨

---

## å®Œæˆåˆ›å»º

1. ç‚¹å‡» **"Create meter"** æŒ‰é’®
2. åˆ›å»ºæˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªç±»ä¼¼ `mtr_xxxxxxxxxxxxxx` çš„ Meter ID
3. **é‡è¦**ï¼šå¤åˆ¶å¹¶ä¿å­˜è¿™ä¸ª Meter IDï¼Œæˆ‘ä»¬éœ€è¦åœ¨é…ç½®ä»·æ ¼æ—¶ä½¿ç”¨

---

## åˆ›å»ºæˆåŠŸåçš„æˆªå›¾ç¤ºä¾‹

ä½ åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„ä¿¡æ¯ï¼š

```
âœ… Billing meter created

Meter ID: mtr_1SeBs9JmiQ31C0GTxxxxxxxx
Event name: vaultcaddy_credit_usage
Display name: VaultCaddy Credits Usage
Status: Active
```

---

## âš ï¸ é‡è¦æé†’

1. **æµ‹è¯•æ¨¡å¼ vs ç”Ÿäº§æ¨¡å¼**
   - ç°åœ¨æˆ‘ä»¬åœ¨**æµ‹è¯•æ¨¡å¼**ä¸­åˆ›å»º
   - æµ‹è¯•å®Œæˆåï¼Œéœ€è¦åœ¨**ç”Ÿäº§æ¨¡å¼**ä¸­åˆ›å»ºç›¸åŒé…ç½®çš„ Meter

2. **Event Name å¿…é¡»ä¸€è‡´**
   - ä»£ç ä¸­ç¡¬ç¼–ç äº† `vaultcaddy_credit_usage`
   - å¦‚æœä¿®æ”¹ï¼Œéœ€è¦åŒæ­¥ä¿®æ”¹ä»£ç 

3. **Meter åˆ›å»ºåæ— æ³•åˆ é™¤**
   - åªèƒ½æ ‡è®°ä¸º Inactive
   - æ‰€ä»¥è¯·ä»”ç»†æ£€æŸ¥é…ç½®

---

## ä¸‹ä¸€æ­¥

åˆ›å»ºå®Œæˆåï¼Œè¯·å‘Šè¯‰æˆ‘ **Meter ID**ï¼Œæˆ‘ä¼šç»§ç»­ç¬¬2æ­¥ï¼šé…ç½®ä»·æ ¼ã€‚

æˆ–è€…å¦‚æœä½ åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ï¼




