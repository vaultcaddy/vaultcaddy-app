# âœ… Gemini Worker è¨­ç½®å®ŒæˆæŒ‡å—

## ğŸ¯ **ç›®å‰ç‹€æ…‹**

- âœ… Cloudflare Worker å·²å‰µå»ºï¼š`gemini-proxy`
- âœ… Worker ä»£ç¢¼å·²éƒ¨ç½²
- âœ… Worker URLï¼š`https://gemini-proxy.vaultcaddy.workers.dev`
- âœ… å®¢æˆ¶ç«¯ä»£ç¢¼å·²é›†æˆåˆ°ç¶²ç«™

---

## ğŸ”§ **å‰©é¤˜æ­¥é©Ÿï¼ˆåªéœ€ 2 åˆ†é˜ï¼‰**

### 1ï¸âƒ£ **è¨­ç½® Gemini API Key**

1. æ‰“é–‹ Cloudflare Worker æ§åˆ¶å°ï¼š
   - URL: https://dash.cloudflare.com/6748a0e547bac4008c90c8005f437648/workers/services/edit/gemini-proxy/production

2. é»æ“Šé ‚éƒ¨çš„ **"Settings"** æ¨™ç±¤

3. åœ¨å·¦å´èœå–®æ‰¾åˆ° **"Variables"**

4. é»æ“Š **"Add variable"** æŒ‰éˆ•

5. æ·»åŠ ç’°å¢ƒè®Šé‡ï¼š
   ```
   Name:  GEMINI_API_KEY
   Value: (ä½ çš„ Gemini API Keyï¼Œå¾ config.js ä¸­ç²å–)
   ```

6. âœ… **å‹¾é¸ "Encrypt"**ï¼ˆä¿è­· API Keyï¼‰

7. é»æ“Š **"Save"** æŒ‰éˆ•

---

### 2ï¸âƒ£ **é‡æ–°éƒ¨ç½² Worker**

è¨­ç½®å®Œç’°å¢ƒè®Šé‡å¾Œï¼Œéœ€è¦é‡æ–°éƒ¨ç½²ï¼š

1. å›åˆ° **"Quick edit"** æ¨™ç±¤

2. é»æ“Š **"Save and Deploy"** æŒ‰éˆ•

---

## âœ¨ **å®Œæˆå¾Œæ•ˆæœ**

è¨­ç½®å®Œæˆå¾Œï¼Œä½ çš„ç¶²ç«™å°‡ï¼š

- âœ… ä½¿ç”¨ **Gemini 1.5 Flash**ï¼ˆæœ€å¼·å¤§çš„ AIï¼‰é€²è¡Œæ–‡æª”è­˜åˆ¥
- âœ… **ç¹é CORS é™åˆ¶**ï¼ˆé€šé Cloudflare Worker ä»£ç†ï¼‰
- âœ… **æå–æº–ç¢ºç‡æå‡ 90%+**ï¼ˆç›¸æ¯” Vision AIï¼‰
- âœ… **æˆæœ¬é™ä½ 70%**ï¼ˆGemini Flash æ¯” GPT-4 Vision ä¾¿å®œ 75%ï¼‰

---

## ğŸ§ª **æ¸¬è©¦æµç¨‹**

1. è¨ªå• https://vaultcaddy.com/firstproject.html

2. é»æ“Š **"Upload files"** æŒ‰éˆ•

3. é¸æ“‡ **"Invoices"** æˆ– **"Bank statements"**

4. ä¸Šå‚³ä¸€å¼µç™¼ç¥¨/å°å¸³å–®åœ–ç‰‡

5. è§€å¯Ÿç€è¦½å™¨æ§åˆ¶å°ï¼ˆF12ï¼‰ï¼Œä½ æ‡‰è©²çœ‹åˆ°ï¼š
   ```
   ğŸ¤– Gemini Worker Client åˆå§‹åŒ–
   ğŸš€ é–‹å§‹è™•ç†æ–‡æª”: invoice.jpg (invoice)
   ğŸ”„ å˜—è©¦ 1/3...
   âœ… JSON è§£ææˆåŠŸ
   âœ… è™•ç†å®Œæˆï¼Œè€—æ™‚: XXXXms
   ```

6. æ•¸æ“šæ‡‰è©²è¢«**æº–ç¢ºæå–**ä¸¦é¡¯ç¤ºåœ¨è¡¨æ ¼ä¸­

---

## ğŸ› ï¸ **æ•…éšœæ’é™¤**

### å•é¡Œ 1: 401 Unauthorized
**åŸå› **: API Key æœªè¨­ç½®æˆ–ä¸æ­£ç¢º
**è§£æ±º**:
1. æª¢æŸ¥ Settings â†’ Variables ä¸­çš„ `GEMINI_API_KEY`
2. ç¢ºä¿å€¼æ­£ç¢ºï¼ˆå¾ config.js ä¸­ç²å–ï¼‰
3. é‡æ–°éƒ¨ç½² Worker

### å•é¡Œ 2: 404 Not Found
**åŸå› **: Worker è·¯å¾‘éŒ¯èª¤
**è§£æ±º**:
1. æª¢æŸ¥ `gemini-worker-client.js` ä¸­çš„ `workerUrl`
2. ç¢ºä¿ç‚ºï¼š`https://gemini-proxy.vaultcaddy.workers.dev/v1beta/models/gemini-1.5-flash-latest:generateContent`

### å•é¡Œ 3: CORS éŒ¯èª¤
**åŸå› **: Worker æœªæ­£ç¢ºè¨­ç½® CORS headers
**è§£æ±º**: Worker ä»£ç¢¼å·²åŒ…å« CORS headersï¼Œæ‡‰è©²ä¸æœƒæœ‰æ­¤å•é¡Œ

---

## ğŸ“Š **æˆæœ¬å°æ¯”**

| AI æœå‹™ | æ¯ 1000 æ¬¡è«‹æ±‚æˆæœ¬ | æº–ç¢ºç‡ | é€Ÿåº¦ |
|---------|-------------------|--------|------|
| **Gemini Flash** (ç¾åœ¨) | **$0.15** | **95%+** | **å¿«** |
| Vision AI (ä¹‹å‰) | $1.50 | 60-70% | ä¸­ |
| GPT-4 Vision | $10.00 | 95%+ | æ…¢ |

---

## ğŸ‰ **ä¸‹ä¸€æ­¥**

è¨­ç½®å®Œæˆå¾Œï¼š

1. âœ… **æ¸¬è©¦ä¸Šå‚³åŠŸèƒ½**ï¼ˆç¢ºä¿æ•¸æ“šæå–æº–ç¢ºï¼‰
2. âœ… **å‡ç´š Google Cloud å¸³æˆ¶**ï¼ˆç‚ºç”Ÿç”¢ç’°å¢ƒæº–å‚™ï¼‰
3. âœ… **è¨­ç½®å¸³æˆ¶å®‰å…¨**ï¼ˆå•Ÿç”¨ 2FAï¼‰
4. âœ… **é…ç½®ä½¿ç”¨é™åˆ¶**ï¼ˆé˜²æ­¢æ¿«ç”¨ï¼‰

---

## ğŸ“§ **æ”¯æ´**

å¦‚æœé‡åˆ°å•é¡Œï¼Œè«‹æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. ç€è¦½å™¨æ§åˆ¶å°çš„éŒ¯èª¤æ—¥èªŒï¼ˆF12ï¼‰
2. Worker éƒ¨ç½²æ—¥æœŸå’Œç‰ˆæœ¬
3. æ¸¬è©¦æ–‡ä»¶é¡å‹ï¼ˆç™¼ç¥¨/å°å¸³å–®/æ”¶æ“šï¼‰

---

**ç¥ä½ çš„ AI éŠ€è¡Œå°å¸³å·¥å…·å¤§ç²æˆåŠŸï¼** ğŸš€

